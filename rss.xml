<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[040code]]></title><description><![CDATA[A developers blog]]></description><link>https://040code.github.io/</link><generator>RSS for Node</generator><lastBuildDate>Mon, 13 May 2019 09:03:00 GMT</lastBuildDate><item><title><![CDATA[How to install]]></title><description><![CDATA[üëã Welcome on gatsby-starter-morning-dew starter template!Installationwith Gatsby-cli: without Gatsby-cliCustomisationIn , you will find the‚Ä¶]]></description><link>https://040code.github.io//how-to-install/how-to-install/</link><guid isPermaLink="false">https://040code.github.io//how-to-install/how-to-install/</guid><content:encoded>&lt;p&gt;üëã Welcome on &lt;strong&gt;gatsby-starter-morning-dew&lt;/strong&gt; starter template!&lt;/p&gt;
&lt;h2 id=&quot;installation&quot;&gt;&lt;a href=&quot;#installation&quot; aria-label=&quot;installation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Installation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;with Gatsby-cli: &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; --global gatsby-cli`
gatsby new gatsby-blog https://github.com/maxpou/gatsby-starter-morning-dew&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;without Gatsby-cli&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone my-site git@github.com:maxpou/gatsby-starter-morning-dew.git
&lt;span class=&quot;token function&quot;&gt;cd&lt;/span&gt; my-site
&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;customisation&quot;&gt;&lt;a href=&quot;#customisation&quot; aria-label=&quot;customisation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Customisation&lt;/h2&gt;
&lt;p&gt;In &lt;code class=&quot;language-text&quot;&gt;data/siteConfig.js&lt;/code&gt;, you will find the following&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;module&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;exports &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  siteTitle&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;maxpou.fr&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteDescription&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;üëã Hey I&apos;m Max&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  authorName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Maxence Poutord&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  authorAvatar&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/images/avatar.jpeg&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  authorDescription&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token string&quot;&gt;`
  Hey I&apos;m Maxence Poutord, a french passionate software engineer, who&apos;s constantly looking for new challenges to achieve.
  Also, sharing my knowledge is crucial for me. That&apos;s why, I&apos;m a frequent public speaker, I mentor people and I try to keep this blog alive.
  After 2 years of being an expatriate in Dublin, I recently switched to digital nomad (Europe).
  When I&apos;m not at a computer, I&apos;m usually exploring the city or cooking a fancy pizza.
  `&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://maxpou.github.io/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  disqusSiteUrl&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.maxpou.fr/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  pathPrefix&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/gatsby-starter-morning-dew&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  siteCover&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/images/cover.jpg&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  googleAnalyticsId&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;UA-67868977-1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  background_color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#ffffff&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  theme_color&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;#222222&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  display&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;minimal-ui&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  icon&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;src/assets/gatsby-icon.png&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  disqusShortname&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;maxpou&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  postsPerPage&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  headerLinks&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;üè°&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;About&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/about&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Installation&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/how-to-install&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  footerLinks&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;Explore&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Blog&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;About&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/about&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Installation&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;/how-to-install&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;token string&quot;&gt;&apos;Follow me&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;GitHub&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://github.com/maxpou&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        iconClassName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fa fa-github&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Twitter&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://twitter.com/_maxpou&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        iconClassName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fa fa-twitter&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        label&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Linkedin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        url&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;https://www.linkedin.com/in/maxpou/&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        iconClassName&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;fa fa-linkedin&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;markdown-headers&quot;&gt;&lt;a href=&quot;#markdown-headers&quot; aria-label=&quot;markdown headers permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Markdown headers&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;yaml&quot;&gt;&lt;pre class=&quot;language-yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;My blog post title&quot;&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;# Slug (www.site.com/my-blog-post)&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; my&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;blog&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;post

&lt;span class=&quot;token comment&quot;&gt;# Date of publication&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token datetime number&quot;&gt;2018-10-30&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Language (FR or EN)&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; en

&lt;span class=&quot;token comment&quot;&gt;# Relative path to cover image&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;cover&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./cover&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;balloons.jpg

&lt;span class=&quot;token comment&quot;&gt;# use generated Twitter/etc. cards&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;imageTw&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gatsby&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;starter&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;morning&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;dew&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;v1&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;tw.png
&lt;span class=&quot;token key atrule&quot;&gt;imageFb&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; ./gatsby&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;starter&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;morning&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;dew&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;v1&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;1&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;fb.png
&lt;span class=&quot;token comment&quot;&gt;# ... or if you want to skip the generation&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;generate-card&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean important&quot;&gt;false&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;# Tags&lt;/span&gt;
&lt;span class=&quot;token key atrule&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt; gatsby
&lt;span class=&quot;token punctuation&quot;&gt;---&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Jeroen Knoops]]></title><description><![CDATA[Jeroen KnoopsJeroen Knoops is a full stack developer. He has worked in corporate environments for many years. He also had the pleasure to‚Ä¶]]></description><link>https://040code.github.io//jeroen/about/</link><guid isPermaLink="false">https://040code.github.io//jeroen/about/</guid><content:encoded>&lt;h2 id=&quot;jeroen-knoops&quot;&gt;&lt;a href=&quot;#jeroen-knoops&quot; aria-label=&quot;jeroen knoops permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Jeroen Knoops&lt;/h2&gt;
&lt;p&gt;Jeroen Knoops is a full stack developer. He has worked in corporate environments for many years. He also had the pleasure to work for a small tech startup. All of his work is driven by innovation.&lt;/p&gt;
&lt;p&gt;Some keywords: Akai MPC, Urfaust, Richard Dawkins, Zed Shaw, TB-303, Erik Satie, Kapsalon, The Apemen, Piano, Hans Rosling, Haus Arafna, Apple ][, BRNS, Ravi Shankar, Lego no playmobil, TR-909, Netflix, Tuscany, Kraftwerk, Quadrupel, Frikandel Speciaal, avdi, Moonlizards, Sandi Metz, Pixies, Strijp, Henrik Kniberg, Hazes, Public Enemy, Tesla (the man), Funkmaster Flex, Hakan Forss, Bruce Willis, GitHub, Tony Touch, Hef, Mobb Deep, Funkdoobiest, good food, Noah‚Äôs ark, Turing, Sugababes, VPRO‚Äôs DutchMasters, Drums, Jet Li, Craft Beers, Synths, Bowling, La Musica della Mafia, UDS, Unsequenced, Christopher Hitchens, Slapshot en David Anderson.&lt;/p&gt;
&lt;h2 id=&quot;talks&quot;&gt;&lt;a href=&quot;#talks&quot; aria-label=&quot;talks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Talks&lt;/h2&gt;
&lt;p&gt;Speaker on several conferences f.e. Github Summit and Gitlab Connect Benelux.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Maarten Metz]]></title><description><![CDATA[Maarten MetzMaarten Metz works as a senior software designer at Philips Research and has almost 2 decades of professional coding experience‚Ä¶]]></description><link>https://040code.github.io//maarten/about/</link><guid isPermaLink="false">https://040code.github.io//maarten/about/</guid><content:encoded>&lt;h2 id=&quot;maarten-metz&quot;&gt;&lt;a href=&quot;#maarten-metz&quot; aria-label=&quot;maarten metz permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maarten Metz&lt;/h2&gt;
&lt;p&gt;Maarten Metz works as a senior software designer at Philips Research and has almost 2 decades of professional coding experience. He holds a Master degree in Human Computer Interaction from the Technical University in Eindhoven. His knowledge and experience range from requirements analysis to system maintenance and everything in between. \n\n
His professional interests include interaction design, software requirements, ‚Äì architecture, ‚Äì design, ‚Äì construction, ‚Äì test automation and everything else that makes a system work. He has held presentations and workshops on various topics including Clojure, lean software development, problem solving, professional development, CQRS and mining code repositories.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Niek Palm]]></title><description><![CDATA[Niek PalmI am developing for more than a decade software, mainly based on open source stacks. Currently I am having a full stack focus with‚Ä¶]]></description><link>https://040code.github.io//niek/about/</link><guid isPermaLink="false">https://040code.github.io//niek/about/</guid><content:encoded>&lt;h2 id=&quot;niek-palm&quot;&gt;&lt;a href=&quot;#niek-palm&quot; aria-label=&quot;niek palm permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Niek Palm&lt;/h2&gt;
&lt;p&gt;I am developing for more than a decade software, mainly based on open source stacks. Currently I am having a full stack focus with my strengths on the backend related services, cloud and continuous delivery. Technologies that me keep busy now a days are: AWS, Terraform, Spring Cloud, React, React Native, Continuous Delivery, Docker, Google Cloud, and much more. &lt;/p&gt;
&lt;p&gt;But cool technologies are not my only passions. I love to just crab by backpack and go around. Creating some nice meals and exploring the creative area of a cook is one of my favourite hobbies. Drinking a great craft beer is something that I love too. And from time to time the body needs some real exercise so I like to have a run or do a hike.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Stefan van den Oord]]></title><description><![CDATA[Stefan van den OordI love software development. I‚Äôm a generalist and I like learning new things all the time. I particulary enjoy using‚Ä¶]]></description><link>https://040code.github.io//stefan/about/</link><guid isPermaLink="false">https://040code.github.io//stefan/about/</guid><content:encoded>&lt;h2 id=&quot;stefan-van-den-oord&quot;&gt;&lt;a href=&quot;#stefan-van-den-oord&quot; aria-label=&quot;stefan van den oord permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stefan van den Oord&lt;/h2&gt;
&lt;p&gt;I love software development. I‚Äôm a generalist and I like learning new things all the time. I particulary enjoy using extreme programming, including practices like pair programming, test-driven design, etc. I also enjoy teaching others about it, for example at conferences, or using coding dojos.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Cloud Run]]></title><description><![CDATA[IntroductionLast week at the Google Next in San Francisco, Google announced Cloud Run. A new platform to enable developers without any‚Ä¶]]></description><link>https://040code.github.io//2019-04-18-cloudrun/</link><guid isPermaLink="false">https://040code.github.io//2019-04-18-cloudrun/</guid><pubDate>Thu, 18 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#introduction&quot; aria-label=&quot;introduction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Last week at the &lt;a href=&quot;https://cloud.withgoogle.com/next/sf/&quot;&gt;Google Next&lt;/a&gt; in San Francisco, Google announced &lt;a href=&quot;https://cloud.google.com/run/&quot;&gt;Cloud Run&lt;/a&gt;. A new platform to enable developers without any infrastructure to run Docker containers on Google Cloud.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Cloud Run is a managed compute platform that enables you to run stateless containers that are invocable via HTTP requests. Cloud Run is serverless: it abstracts away all infrastructure management, so you can focus on what matters most ‚Äî building great applications. It is built from &lt;a href=&quot;https://github.com/knative/&quot;&gt;Knative&lt;/a&gt;, letting you choose to run your containers either fully managed with Cloud Run, or in your Google Kubernetes Engine cluster with Cloud Run on GKE.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 47.41727199354318%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQAD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgED/9oADAMBAAIQAxAAAAEZQ3Y6rwlH/8QAGxAAAQQDAAAAAAAAAAAAAAAAAgABAzEEEBP/2gAIAQEAAQUCpQ43RghgFNZa/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAISE//aAAgBAwEBPwFEoxP/xAAXEQADAQAAAAAAAAAAAAAAAAAAARES/9oACAECAQE/AW4aP//EABwQAAIBBQEAAAAAAAAAAAAAAAECABESICFBYf/aAAgBAQAGPwKVd7fBGBAO+4f/xAAbEAACAwADAAAAAAAAAAAAAAABEQAQMSFhkf/aAAgBAQABPyHGg9Rwk9IWT3Akzgq3X//aAAwDAQACAAMAAAAQIx//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFR/9oACAEDAQE/EF2qTp//xAAWEQEBAQAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QpTT/xAAbEAEAAgMBAQAAAAAAAAAAAAABABEhMVEQsf/aAAgBAQABPxAM5Y6zBdDREFsbt1MEH78LN31Z8/Bn/9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/98859e900abc953ee763aec06b7be55e/cc182/next.webp 148w,
/static/98859e900abc953ee763aec06b7be55e/f7e40/next.webp 295w,
/static/98859e900abc953ee763aec06b7be55e/1a2f4/next.webp 590w,
/static/98859e900abc953ee763aec06b7be55e/4837b/next.webp 885w,
/static/98859e900abc953ee763aec06b7be55e/2f819/next.webp 1180w,
/static/98859e900abc953ee763aec06b7be55e/799b2/next.webp 1770w,
/static/98859e900abc953ee763aec06b7be55e/2e7c6/next.webp 2478w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/98859e900abc953ee763aec06b7be55e/8ee9c/next.jpg 148w,
/static/98859e900abc953ee763aec06b7be55e/ebbe7/next.jpg 295w,
/static/98859e900abc953ee763aec06b7be55e/c739e/next.jpg 590w,
/static/98859e900abc953ee763aec06b7be55e/5413e/next.jpg 885w,
/static/98859e900abc953ee763aec06b7be55e/4efde/next.jpg 1180w,
/static/98859e900abc953ee763aec06b7be55e/abfc3/next.jpg 1770w,
/static/98859e900abc953ee763aec06b7be55e/bd777/next.jpg 2478w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/98859e900abc953ee763aec06b7be55e/c739e/next.jpg&quot; alt=&quot;Next&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Time the see how this new feature on the Google Platform really works. There are two ways to use Cloud Run. You can choose to run the container serverless, which means you do not have to create any infrastructure. The other option is deploy the container via the Cloud Run to a GKE cluster. From developers perspective there is no difference, the developer can still use the same Cloud Run API.&lt;/p&gt;
&lt;p&gt;Lets quickly compare Cloud Run to some other option to run an application sereverless in the cloud. For example you can use &lt;a href=&quot;https://zeit.co/now&quot;&gt;Now&lt;/a&gt; from Zeit to quickly run a serverless application build in many languages, some major are Node, Rust, Static, Python, Go and NextJS. The free tier get you started quickly. In the paid tier you pay for traffic and invocations. &lt;a href=&quot;https://aws.amazon.com/fargate/&quot;&gt;Fargate&lt;/a&gt; the the AWS approach to enable serverless Docker containers. But in Fargate you container is always running and you pay per second for CPU and memory. Read &lt;a href=&quot;https://040code.github.io/2018/01/30/fargate_with_terraform/&quot;&gt;here&lt;/a&gt; more about deploying to Fargate.&lt;/p&gt;
&lt;h2 id=&quot;deploy-the-040-blog-to-cloud-run&quot;&gt;&lt;a href=&quot;#deploy-the-040-blog-to-cloud-run&quot; aria-label=&quot;deploy the 040 blog to cloud run permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy the 040 blog to Cloud Run&lt;/h2&gt;
&lt;p&gt;Why not see if we can publish this blog to Cloud Run. Starting is quit simple, just follow the Google documentation. Go to the Google Cloud console and navigate to Cloud Run. You will see here that deploying a container requires two steps. First publish the Docker image to the Docker registry in your Google project. Next deploy the docker image to Cloud Run.&lt;/p&gt;
&lt;h3 id=&quot;prepare-your-image&quot;&gt;&lt;a href=&quot;#prepare-your-image&quot; aria-label=&quot;prepare your image permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prepare your image&lt;/h3&gt;
&lt;p&gt;On the Cloud Run create service page is clearly mentioned that the containers needs support injection of a port that listen for HTTP traffic via the environment variable &lt;code class=&quot;language-text&quot;&gt;PORT&lt;/code&gt;. This is for example easy to support via the Spring Boot framework. But for the blog we allready have an &lt;a href=&quot;https://www.nginx.com/&quot;&gt;NGINX&lt;/a&gt; container which not support injection of the port.&lt;/p&gt;
&lt;p&gt;The first step will be to enable port injection to our blog runtime container. Which can be done by starting the container via a wrapper script which update the NGNIX configuration. We define a simple server configuration in which we can replace the &lt;code class=&quot;language-text&quot;&gt;NGNIX_PORT&lt;/code&gt; environment variable via &lt;a href=&quot;https://www.gnu.org/software/gettext/manual/html_node/envsubst-Invocation.html&quot;&gt;envsubst&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nginx&quot;&gt;&lt;pre class=&quot;language-nginx&quot;&gt;&lt;code class=&quot;language-nginx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;server&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;listen&lt;/span&gt;       $&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;NGNIX_PORT&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;server_name&lt;/span&gt;  localhost&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we create a simple &lt;code class=&quot;language-text&quot;&gt;bash&lt;/code&gt; script to update the &lt;code class=&quot;language-text&quot;&gt;PORT&lt;/code&gt; at container start. If no port is set, we apply use the default port &lt;code class=&quot;language-text&quot;&gt;80&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token shebang important&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;export&lt;/span&gt; NGNIX_PORT&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;${PORT:=80}&lt;/span&gt;
envsubst &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; /etc/nginx/conf.d/mysite.template &lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; /etc/nginx/conf.d/default.conf \
  &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;exec&lt;/span&gt; nginx -g &lt;span class=&quot;token string&quot;&gt;&apos;daemon off;&apos;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally we update the &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt; to add the new assets and ensure the &lt;code class=&quot;language-text&quot;&gt;start.sh&lt;/code&gt; script is invoked at container start.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;docker&quot;&gt;&lt;pre class=&quot;language-docker&quot;&gt;&lt;code class=&quot;language-docker&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; jekyll/jekyll&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;3.8.3 AS build

&lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt; OMITTED &lt;span class=&quot;token punctuation&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;FROM&lt;/span&gt; nginx&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;1.15.3
&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;-&lt;/span&gt;from=build /build/_site /usr/share/nginx/html

&lt;span class=&quot;token comment&quot;&gt;### copy wrappers and configuration template&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; nginx/default.conf /etc/nginx/conf.d/mysite.template
&lt;span class=&quot;token keyword&quot;&gt;COPY&lt;/span&gt; nginx/start.sh /usr/bin

&lt;span class=&quot;token keyword&quot;&gt;CMD&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;start.sh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This was the hard part, our image is ready. You can test your image locally. For example on port &lt;code class=&quot;language-text&quot;&gt;8081&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Docker build -t blog .
Docker run -e PORT=8080 -p 8081:8080 blog&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;publish-the-image-to-google-cloud&quot;&gt;&lt;a href=&quot;#publish-the-image-to-google-cloud&quot; aria-label=&quot;publish the image to google cloud permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Publish the image to Google Cloud&lt;/h3&gt;
&lt;p&gt;You can publish the Docker image to the &lt;code class=&quot;language-text&quot;&gt;gcr.io&lt;/code&gt; registry by building locally and push the Docker image. Or by using Google Cloud Build to build the container. We use the power of the cloud and let Goolge build the image.&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;gcloud builds submit --tag gcr.io/&amp;lt;project-id&amp;gt;/blog&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2019/04/18/cloudrun/build.json&quot;
  cols=&quot;180&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;2.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;This will build the Docker image in Google‚Äôs cloud build and push it to the registry.&lt;/p&gt;
&lt;h3 id=&quot;deploy-the-blog&quot;&gt;&lt;a href=&quot;#deploy-the-blog&quot; aria-label=&quot;deploy the blog permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy the blog&lt;/h3&gt;
&lt;p&gt;Finally we have to deploy the service via cloud run. You can do this via the web interface, or via the cli.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 123.28519855595668%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAIAAAC+dZmEAAAACXBIWXMAAAsSAAALEgHS3X78AAACp0lEQVQ4y5VTWY6bQBDluvnJVSLlEpFyhyj5jTTRRF7wvmAww9Z0s/cKeYBjeTyaKH56lIoy1fWqumzZtr3f7TzXXS2Xq9VKScGFyiudZ8yez7fb7WazOTlOa8xbWoTSqq6FUlXT1Jx3XWfaToFaF3WNINgM8bewOs4VISpNFaU9CTGMGsbALs/bLOttnmvGNKV6+KaJUx4TU9eWiiJy3Ke+R1/Oses0cdSWpclzUxamuOUQKUuVFyeHxi+ZiSPLQNizXf1eFL9m+dO0Wmz5ail3e7Hd8cUSVqzXIF8sdBj2R2RZOyhqpbSMNsGBeKsw2MbpPi3OrBW8FaIn5wPF5VXKW3Zta3GSTOeTgCasYJ1qurqCtl5nlt1zGMSF6D9JLJ3SbDZrz74+HoVzko4z8KQxubuEG2JysBauq/C83HUxZxnHMoxkEMgo0k1jlDJS3rJV6spetlRqatuT+fy9y7yiBf+irmuttYWHppQkSUoIozQDGIOhlDLG8qTKw57ML5pC9Gs1AFmwVr9S2LUBnPNhnXpbVRUcXoqK8prxkjSK6/sNU7JhKRnr4LzuEVjuS/bzaWrPZ5PJNAzDfABkl2V5afUG4+vF9MmJ2bksDM6A4zi73e54PMK6rgvxOEViH96rjEdKURQFSmGGSBh99AwHvcBH7+NPcBAffVTvk/FREASe56H44XA4nfD/dWBRHEE4YzxJEuSMfeHwfto4DNEoinBE9yAsdLVer5fLJSpAT3WD8XVs4dYiLoTok6EEmjFn1Pd93x20ns8+pMItXwPqXiVjP7Atw8KY6wp219v4t2xtWlZoWiifyHOikswcA1HU+m6Z7277krzxmi/f0q/f01MkSErjhArV4sT/GtiPZ/bh0/7j58PsUGU0QrcPTHtQZwY+jD/wwpoYIgkKBwAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/9201c77f13425f78aa06016d543a4292/cc182/cloudrun.webp 148w,
/static/9201c77f13425f78aa06016d543a4292/f7e40/cloudrun.webp 295w,
/static/9201c77f13425f78aa06016d543a4292/1a2f4/cloudrun.webp 590w,
/static/9201c77f13425f78aa06016d543a4292/4837b/cloudrun.webp 885w,
/static/9201c77f13425f78aa06016d543a4292/ba53b/cloudrun.webp 1108w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/9201c77f13425f78aa06016d543a4292/cf440/cloudrun.png 148w,
/static/9201c77f13425f78aa06016d543a4292/d2d38/cloudrun.png 295w,
/static/9201c77f13425f78aa06016d543a4292/b9e4f/cloudrun.png 590w,
/static/9201c77f13425f78aa06016d543a4292/f9b6a/cloudrun.png 885w,
/static/9201c77f13425f78aa06016d543a4292/f4a98/cloudrun.png 1108w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/9201c77f13425f78aa06016d543a4292/b9e4f/cloudrun.png&quot; alt=&quot;Model&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;In the web interface it is straightforward to deploy to Cloud Run. In the cli it is not hard bu you need te be aware that cloud run is beta which requires to install the beta components.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gcloud components install beta&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next you specify the same properties as you should do via the web interface. Currently Cloud Run is only available in the region &lt;code class=&quot;language-text&quot;&gt;us-central1&lt;/code&gt;. Since we run a public site we allow unauthenticated traffic.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;gcloud beta run deploy blog \
  --image gcr.io/&amp;lt;project-id&amp;gt;/blog:latest \
  --region us-central1 --allow-unauthenticated&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2019/04/18/cloudrun/deploy.json&quot;
  cols=&quot;180&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;2.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;h2 id=&quot;some-final-thoughts&quot;&gt;&lt;a href=&quot;#some-final-thoughts&quot; aria-label=&quot;some final thoughts permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some final thoughts&lt;/h2&gt;
&lt;p&gt;The first impression is that Cloud Run is quit easy to set up. Good to mention is that is based on the Open Source project &lt;a href=&quot;https://github.com/knative/&quot;&gt;Knative&lt;/a&gt;. At the moment the feature is in beta and there is no support in other regions.&lt;/p&gt;
&lt;p&gt;In this post we show just the basics of CLoud Run. It is really super easy to deploy you docker containers to the cloud for low costs. Could be handy for example to review branches. But there is a lot more, containers can be protected and only accept authenticated traffic. Furthermore with integration to Cloud Build it is easy to setup a CI/CD pipeline for &lt;a href=&quot;https://github.com&quot;&gt;GitHub&lt;/a&gt;, &lt;a href=&quot;https://bitbucket.org&quot;&gt;Bitbucket&lt;/a&gt; and Cloud Source Repository. With &lt;a href=&quot;https://gitlab.com&quot;&gt;GitLab CI&lt;/a&gt; setting up a pipeline for Cloud Run is almost a no brainer. And for deployment GitLab already supports Knative to deploy to a Kubernetes cluster.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[React Native Navigation and ClojureScript]]></title><description><![CDATA[React Native Navigation and ClojureScriptA beginner‚Äôs guide to realizing proper navigation in a React Native application
using ClojureScript‚Ä¶]]></description><link>https://040code.github.io//2019-04-02-react-native-navigation-and-clojurescript/</link><guid isPermaLink="false">https://040code.github.io//2019-04-02-react-native-navigation-and-clojurescript/</guid><pubDate>Tue, 02 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;react-native-navigation-and-clojurescript&quot;&gt;&lt;a href=&quot;#react-native-navigation-and-clojurescript&quot; aria-label=&quot;react native navigation and clojurescript permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React Native Navigation and ClojureScript&lt;/h1&gt;
&lt;p&gt;&lt;em&gt;A beginner‚Äôs guide to realizing proper navigation in a React Native application
using ClojureScript and shadow-cljs&lt;/em&gt;&lt;/p&gt;
&lt;p style=&quot;text-align: right&quot;&gt;
  &lt;a href=&quot;https://github.com/svdo/CLJSReactNativeNavigation&quot; target=&quot;sourcecode&quot;&gt;
  &lt;i class=&quot;fab fa-github&quot; style=&quot;font-size: 200%&quot;&gt;&amp;nbsp;&lt;/i&gt;Source code for this post&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;That‚Äôs a big bunch of words. Let me briefly introduce them to you, so that I can
then dive deeper into some of them. ‚ÄúBeginner‚Äù in this case means that, a week
before I started doing this, I had practically zero experience with
Clojure(Script) and React Native. I do have quite a bit of experience using
React, and also writing native iOS applications (Swift/Objective-C).&lt;/p&gt;
&lt;p&gt;‚ÄúGuide‚Äù means that I‚Äôm going to explain to you how I accomplished my goal.
You‚Äôll have to interpret it and follow along if you want to do the same. Future
versions of any of the tools may break this guide.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://wix.github.io/react-native-navigation&quot;&gt;React Native Navigation&lt;/a&gt; is a framework for &lt;a href=&quot;https://facebook.github.io/react-native&quot;&gt;React Native&lt;/a&gt;. Which is a
framework for building cross-platform apps for iOS and Android using JavaScript,
but you probably already knew that part. &lt;a href=&quot;https://clojurescript.org&quot;&gt;ClojureScript&lt;/a&gt; is a functional
programming language. It‚Äôs a variant of Clojure that compiles to JavaScript.
‚ÄúProper navigation‚Äù is, admittedly, a bit subjective; I‚Äôll explain this part in
more detail below. Finally, &lt;a href=&quot;http://shadow-cljs.org&quot;&gt;shadow-cljs&lt;/a&gt; is the toolchain I used
as an easy way to integrate a bunch of ClojureScript code into an originally
Javascript-based project.&lt;/p&gt;
&lt;p&gt;A summary of this guide is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Setup a new React Native project (using &lt;code class=&quot;language-text&quot;&gt;react-native&lt;/code&gt; cli).&lt;/li&gt;
&lt;li&gt;Add shadow-cljs to be able to use ClojureScript in that project.&lt;/li&gt;
&lt;li&gt;Add and setup &lt;code class=&quot;language-text&quot;&gt;react-native-navigation&lt;/code&gt; dependency.&lt;/li&gt;
&lt;li&gt;Create a bit of infrastructure on the ClojureScript side to be able to use
the React Native Navigation APIs while using shadow-cljs‚Äô hot reloading.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So let‚Äôs get started. I executed all these steps exactly as I‚Äôm describing here,
the result of which you can find in &lt;a href=&quot;https://github.com/svdo/CLJSReactNativeNavigation&quot;&gt;my GitHub repo&lt;/a&gt;. Commit messages
include all details about the commands I used. If you want to read my
rant about wanting to use native navigation, keep reading till the very end of
this post :)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Please note that this post &lt;em&gt;does not&lt;/em&gt; include all the code that you need
to make it work, that would be too much for a web page. Please refer to
&lt;a href=&quot;https://github.com/svdo/CLJSReactNativeNavigation&quot;&gt;the final solution in my GitHub repo&lt;/a&gt; if you want to reproduce all of it.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;1-create-react-native-project&quot;&gt;&lt;a href=&quot;#1-create-react-native-project&quot; aria-label=&quot;1 create react native project permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. Create React Native Project&lt;/h1&gt;
&lt;p&gt;This step is very easy. First, if you haven‚Äôt got it yet, install
&lt;code class=&quot;language-text&quot;&gt;react-native-cli&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -g react-native-cli&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then create a new project:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;react-native init CLJSReactNativeNavigation&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So far so good, nothing new here, let‚Äôs move on.&lt;/p&gt;
&lt;h1 id=&quot;2-add-shadow-cljs&quot;&gt;&lt;a href=&quot;#2-add-shadow-cljs&quot; aria-label=&quot;2 add shadow cljs permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. Add shadow-cljs&lt;/h1&gt;
&lt;p&gt;We‚Äôre going to use the standalone version of shadow-cljs,
&lt;a href=&quot;https://shadow-cljs.github.io/docs/UsersGuide.html#_build_tool_integration&quot;&gt;as recommended&lt;/a&gt;. So we add the npm dependency for shadow-cljs:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; --dev shadow-cljs&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we need to configure shadow-cljs a bit. We create a file called
&lt;code class=&quot;language-text&quot;&gt;shadow-cljs.edn&lt;/code&gt; and give it the following content:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:source-paths&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/main&quot;&lt;/span&gt;                     &lt;span class=&quot;token comment&quot;&gt;;; production code&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;src/test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;;; yes we&apos;re going to add tests as well!&lt;/span&gt;

 &lt;span class=&quot;token operator&quot;&gt;:dependencies&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;reagent &lt;span class=&quot;token string&quot;&gt;&quot;0.8.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

 &lt;span class=&quot;token operator&quot;&gt;:builds&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:myapp&lt;/span&gt;                         &lt;span class=&quot;token comment&quot;&gt;;; the target definition&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:target&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:react-native&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;;; the target type&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;:init-fn&lt;/span&gt; myapp/init           &lt;span class=&quot;token comment&quot;&gt;;; react native&apos;s entry point&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;:output-dir&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;        &lt;span class=&quot;token comment&quot;&gt;;; where to put the built JS&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is telling shadow-cljs that there is a target called ‚Äúmyapp‚Äù, that
it‚Äôs a React Native target, that the entry point of our app is the function
&lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;myapp&lt;/code&gt; namespace, and that the output should be written to the
folder &lt;code class=&quot;language-text&quot;&gt;build&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now let‚Äôs create that &lt;code class=&quot;language-text&quot;&gt;myapp&lt;/code&gt; namespace. In &lt;code class=&quot;language-text&quot;&gt;src/main&lt;/code&gt; create a file called
&lt;code class=&quot;language-text&quot;&gt;myapp.cljs&lt;/code&gt; with the following contents:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ns&lt;/span&gt; myapp
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:require&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;reagent.core &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;:refer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;atom&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;react-native&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; rn &lt;span class=&quot;token operator&quot;&gt;:refer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AppRegistry&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; app-root &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;:&lt;span class=&quot;token keyword&quot;&gt;&gt;&lt;/span&gt; rn/View &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:flex-direction&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;column&quot;&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:margin&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:align-items&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:background-color&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;:&lt;span class=&quot;token keyword&quot;&gt;&gt;&lt;/span&gt; rn/Text &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:font-size&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;
                        &lt;span class=&quot;token operator&quot;&gt;:font-weight&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100&quot;&lt;/span&gt;
                        &lt;span class=&quot;token operator&quot;&gt;:margin-bottom&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
                        &lt;span class=&quot;token operator&quot;&gt;:text-align&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token string&quot;&gt;&quot;Hi Shadow!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; init &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.registerComponent AppRegistry
                      &lt;span class=&quot;token string&quot;&gt;&quot;CLJSReactNativeNavigation&quot;&lt;/span&gt;
                      #&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r/reactify-component app-root&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Time to check this out! Run the following commands in your terminal:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; shadow-cljs compile myapp
&lt;span class=&quot;token function&quot;&gt;yarn&lt;/span&gt; react-native run-ios&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Tada!&lt;/p&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 545px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 176.88073394495413%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAjCAYAAACU9ioYAAAACXBIWXMAAAsSAAALEgHS3X78AAADNklEQVRIx+2WS0hbURCGz402iWmMhbzM07w00khN6LalKEhXLrtqtxV0WQRXLoSulIrgRkyxbroxan0ghCYGwUVpqQ1BSUSUEFw0ouvEPMx05vRee7FSqlLowgPDnHvPnO/+55HMMCY2hULBrts6Ojp+PajVanKC+PjM6XSGvV7vtNFoDNtstt/MbreHTSZT2O12T2PcW6VS+ZwmNjc3M3zPWHt7uyTtRX9/P2xubsLW1hb09vaCVqsFDAQM5EZ9nU4HXV1dkEwmIRqNQl9fH6hUqpcE8Pv9CjYwMMCBZrM5kslkAFsBrXJ0dFSOxWLlRCJRXl9f554sHo+XDw8PyxRTKBSKqVQKXC7XGq1yeHhYwUZHRwmobGlp+bC9vU3ASrVaraEng1qtBqVSCYrFIpyenoLYapVKhcar2WwWfD7fR2RoFhcXBba6ukr7dxf3Lrqzs3MOPDs7A/RAXt6XvePA/f19wL2MESMSiUhnwUyo8KsIrIoKubrLjJoEPDg4OAfOz88LbHZ2lqg6h8MRvQEwjgwtXzK+JIVGVPj5IvBPTQ7EPUzRzZHfTSsCv8mA8BdAkAHTyHBykqjQjIfy6YoKuROBGWS45EBSmLyiQvke0pLtnCUCLajwy3X30OPxJJBxb2ZmRsHGxsboYmvxlNfk9/CKCvkpz83NCWx8fJyAagSu3ADI7+HCwoLAJiYmCKj6F8Dl/w7If3q3Cm9P+VbhTYHXynqTk5MciH+wy1KipyROE6ScfJmJH+V5GVMABy4tLQlsZGSEAy0Wy8ru7i4BSyRAZrULz3Ir53I5QDH0B6uZmpoSWE9Pj4AwpSAIr4eGhuD4+Bjy+TycnJwAfQBrGdjY2OBG/XQ6zcekGBQEdXV1b5qamtTd3d0CQzpDmBK/EMTS7B2Wa2lMWBkyLN/29Hp91qA3ZLG8y1LfarXuSeMYm8HK6z3OfUirDAQCP5MyAql6aETzoT1Be4r2SNOgeRXsDOZDwVCu1deaC9wPfG/UNg7i2GMxhmLbaK7IwHRnsXBfX19PJd0dVKDGOrDBYDCo7Da7ofNBZwihQX+bP4jAkNPhRMF6FcVQLM3BlXEGroj9ACFKGoB1Yrb4AAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/d72abc30f3bffb6109f050d2ed9661db/cc182/hi-shadow.webp 148w,
/static/d72abc30f3bffb6109f050d2ed9661db/f7e40/hi-shadow.webp 295w,
/static/d72abc30f3bffb6109f050d2ed9661db/fa50d/hi-shadow.webp 545w&quot; sizes=&quot;(max-width: 545px) 100vw, 545px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/d72abc30f3bffb6109f050d2ed9661db/cf440/hi-shadow.png 148w,
/static/d72abc30f3bffb6109f050d2ed9661db/d2d38/hi-shadow.png 295w,
/static/d72abc30f3bffb6109f050d2ed9661db/53236/hi-shadow.png 545w&quot; sizes=&quot;(max-width: 545px) 100vw, 545px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/d72abc30f3bffb6109f050d2ed9661db/53236/hi-shadow.png&quot; alt=&quot;Tada!&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;h2 id=&quot;hot-reloading&quot;&gt;&lt;a href=&quot;#hot-reloading&quot; aria-label=&quot;hot reloading permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hot Reloading&lt;/h2&gt;
&lt;p&gt;When using shadow-cljs, you also get its variant of hot reloading. You don‚Äôt
need to use the developer menu to enable it, but you do need to add a bit of
code to make it work: (a) you need to had a function that performs the reload,
and (b) you need to enable hot reloading in the config.&lt;/p&gt;
&lt;h3 id=&quot;add-reload-function&quot;&gt;&lt;a href=&quot;#add-reload-function&quot; aria-label=&quot;add reload function permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Add reload function&lt;/h3&gt;
&lt;p&gt;Let me just give you the code of &lt;code class=&quot;language-text&quot;&gt;myapp.cljs&lt;/code&gt; and then explain what‚Äôs going on.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;ns&lt;/span&gt; myapp
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:require&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;reagent.core &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; r &lt;span class=&quot;token operator&quot;&gt;:refer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;atom&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;react-native&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; rn &lt;span class=&quot;token operator&quot;&gt;:refer&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;AppRegistry&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defonce&lt;/span&gt; component-to-update &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;atom &lt;span class=&quot;token boolean&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; content &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;:&lt;span class=&quot;token keyword&quot;&gt;&gt;&lt;/span&gt; rn/Text &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:font-size&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;30&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:font-weight&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;100&quot;&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:margin-bottom&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:text-align&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token string&quot;&gt;&quot;Hi Shadow!&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; app-root &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;:&lt;span class=&quot;token keyword&quot;&gt;&gt;&lt;/span&gt; rn/View &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:style&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:flex-direction&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;column&quot;&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:margin&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:align-items&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;center&quot;&lt;/span&gt;
                       &lt;span class=&quot;token operator&quot;&gt;:background-color&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;content&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; updatable-app-root
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;with-meta&lt;/span&gt; app-root
    &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:component-did-mount&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as ^js this
                     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;reset! component-to-update this&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; reload &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:dev&lt;/span&gt;/after-load &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.forceUpdate ^js @component-to-update&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; init &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.registerComponent AppRegistry
                      &lt;span class=&quot;token string&quot;&gt;&quot;CLJSReactNativeNavigation&quot;&lt;/span&gt;
                      #&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r/reactify-component updatable-app-root&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is what it does:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The text content (‚ÄúHi Shadow!‚Äù) is extracted into a separate component
(&lt;code class=&quot;language-text&quot;&gt;content&lt;/code&gt;), because the call &lt;a href=&quot;https://reactjs.org/docs/react-component.html#forceupdate&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;forceUpdate&lt;/code&gt;&lt;/a&gt; that we‚Äôll use
updates everything &lt;em&gt;below&lt;/em&gt; the application root component, not the root
component itself.&lt;/li&gt;
&lt;li&gt;The app-root component is annotated with a &lt;code class=&quot;language-text&quot;&gt;component-did-mount&lt;/code&gt; handler
(&lt;code class=&quot;language-text&quot;&gt;updatable-app-root&lt;/code&gt;). This handler stores the actual JavaScript object
that represents the root component into the atom &lt;code class=&quot;language-text&quot;&gt;component-to-update&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A function &lt;code class=&quot;language-text&quot;&gt;reload&lt;/code&gt; is added, which takes the value of that atom and calls
the method &lt;a href=&quot;https://reactjs.org/docs/react-component.html#forceupdate&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;forceUpdate&lt;/code&gt;&lt;/a&gt; on it.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One final step remains: enabling hot reloading in &lt;code class=&quot;language-text&quot;&gt;shadow-cljs.edn&lt;/code&gt;. It‚Äôs new
content is:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:source-paths&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;src/main&quot;&lt;/span&gt;                     &lt;span class=&quot;token comment&quot;&gt;;; production code&lt;/span&gt;
  &lt;span class=&quot;token string&quot;&gt;&quot;src/test&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;                    &lt;span class=&quot;token comment&quot;&gt;;; yes we&apos;re going to add tests as well!&lt;/span&gt;

 &lt;span class=&quot;token operator&quot;&gt;:dependencies&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;reagent &lt;span class=&quot;token string&quot;&gt;&quot;0.8.1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

 &lt;span class=&quot;token operator&quot;&gt;:builds&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:myapp&lt;/span&gt;                         &lt;span class=&quot;token comment&quot;&gt;;; the target definition&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:target&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:react-native&lt;/span&gt;         &lt;span class=&quot;token comment&quot;&gt;;; the target type&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;:init-fn&lt;/span&gt; myapp/init           &lt;span class=&quot;token comment&quot;&gt;;; react native&apos;s entry point&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;:output-dir&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;build&quot;&lt;/span&gt;           &lt;span class=&quot;token comment&quot;&gt;;; where to put the built JS&lt;/span&gt;
   &lt;span class=&quot;token operator&quot;&gt;:devtools&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:autoload&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;;; enables hot-reloading&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you reload the app, changing the text in the &lt;code class=&quot;language-text&quot;&gt;content&lt;/code&gt; component should
cause the app to automatically update!&lt;/p&gt;
&lt;h1 id=&quot;3-add-react-native-navigation&quot;&gt;&lt;a href=&quot;#3-add-react-native-navigation&quot; aria-label=&quot;3 add react native navigation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. Add React Native Navigation&lt;/h1&gt;
&lt;p&gt;This bit is a somewhat tedious I‚Äôm afraid. You‚Äôll have to go through &lt;a href=&quot;https://wix.github.io/react-native-navigation/#/docs/Installing&quot;&gt;the
instructions to setup React Native Navigation&lt;/a&gt;. Add the npm
dependency, update your Xcode project, update iOS source code, update Android
build files, and update Android source code. Tip for Android part: Please don‚Äôt
blindly copy-paste. Some of the instructions refer are not up to date, some
parts are not really needed, etc. If you want you can have a look at
&lt;a href=&quot;https://github.com/svdo/CLJSReactNativeNavigation&quot;&gt;how I did it&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Obviously you‚Äôll skip the last step of the instructions, namely the part where
the JavaScript code is updated to use React Native Navigation. We‚Äôll address
that in ClojureScript next.&lt;/p&gt;
&lt;h1 id=&quot;4-integrate-and-wrap&quot;&gt;&lt;a href=&quot;#4-integrate-and-wrap&quot; aria-label=&quot;4 integrate and wrap permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. Integrate and Wrap&lt;/h1&gt;
&lt;p&gt;Ok, roll up your sleeves, because here comes the interesting part.&lt;/p&gt;
&lt;h2 id=&quot;wrapper-functionality&quot;&gt;&lt;a href=&quot;#wrapper-functionality&quot; aria-label=&quot;wrapper functionality permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Wrapper functionality&lt;/h2&gt;
&lt;p&gt;In JavaScript we would need to do something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;javascript&quot;&gt;&lt;pre class=&quot;language-javascript&quot;&gt;&lt;code class=&quot;language-javascript&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; Navigation &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react-native-navigation&apos;&lt;/span&gt;
Navigation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerComponent&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;navigation.playground.WelcomeScreen&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; App&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
Navigation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;events&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;registerAppLaunchedListener&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  Navigation&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setRoot&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    root&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      component&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;navigation.playground.WelcomeScreen&apos;&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Obviously in ClojureScript we need to do something similar. There‚Äôs a problem
though: we need a handle to the actual JavaScript component in order to call
&lt;code class=&quot;language-text&quot;&gt;forceUpdate&lt;/code&gt; on it (for hot reloading). React Native Navigation has made the
design choice that it creates new root components for screens that you push
on the navigation stack. So also for those components we need a handle and
call &lt;code class=&quot;language-text&quot;&gt;forceUpdate&lt;/code&gt;. We accomplish this by not registering the component itself
with &lt;code class=&quot;language-text&quot;&gt;Navigation&lt;/code&gt;, but a wrapper of that component.&lt;/p&gt;
&lt;p&gt;This causes another problem though. React Native Navigation gives components
that you register a &lt;code class=&quot;language-text&quot;&gt;componentId&lt;/code&gt;. It uses this for its internal registration
so that it can make navigation work. For example, when you push a new screen
onto the navigation stack, it uses the &lt;code class=&quot;language-text&quot;&gt;componentId&lt;/code&gt; to find the screen from
which you are pushing. The problem is that we registered the &lt;em&gt;wrapper&lt;/em&gt;, but
we‚Äôre navigating from the &lt;em&gt;wrapped component&lt;/em&gt;. Which does not have a
&lt;code class=&quot;language-text&quot;&gt;componentId&lt;/code&gt;, because we never registered it with &lt;code class=&quot;language-text&quot;&gt;Navigation&lt;/code&gt;. Solution:
make the wrapper in such a way that it passes its &lt;code class=&quot;language-text&quot;&gt;componentId&lt;/code&gt; on to the
wrapped component.&lt;/p&gt;
&lt;p&gt;But there is more! React Native Navigation defines some additional life cycle
methods, such as &lt;code class=&quot;language-text&quot;&gt;navigationButtonPressed&lt;/code&gt;. And for that to work, you need
to call &lt;a href=&quot;https://wix.github.io/react-native-navigation/#/docs/events?id=navigationbuttonpressed-event&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Navigation.bindComponent&lt;/code&gt;&lt;/a&gt;. So our wrapper also calls
&lt;code class=&quot;language-text&quot;&gt;bindComponent&lt;/code&gt; and forwards &lt;code class=&quot;language-text&quot;&gt;navigationButtonPressed&lt;/code&gt;. Forwarding other
life cycle methods is left as an exercise for the reader.&lt;/p&gt;
&lt;p&gt;Here‚Äôs the main code for the wrapper (&lt;a href=&quot;https://github.com/svdo/CLJSReactNativeNavigation/blob/master/src/main/env.cljc&quot;&gt;full version&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;;; current namespace is `env`&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defonce&lt;/span&gt; id-seq-ref &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;atom &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defonce&lt;/span&gt; mounted-ref &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;atom &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defonce&lt;/span&gt; screens-ref &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;atom &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; register &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;get-props
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;this&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::key&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;
           &lt;span class=&quot;token operator&quot;&gt;::id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; this .-state .-id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
           &lt;span class=&quot;token operator&quot;&gt;:component-id&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; this .-props .-componentId&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

        wrapper
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;crc #js                    &lt;span class=&quot;token comment&quot;&gt;;; crc is create-react-class&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:displayName&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;str&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Wrapper&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

               &lt;span class=&quot;token operator&quot;&gt;:getInitialState&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! id-seq-ref &lt;span class=&quot;token keyword&quot;&gt;inc&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; #js &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:key&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;
                             &lt;span class=&quot;token operator&quot;&gt;:id&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

               &lt;span class=&quot;token operator&quot;&gt;:componentDidMount&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as
                  ^js this

                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bind-component this&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! mounted-ref
                         assoc-in &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; this .-state .-id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; this&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

               &lt;span class=&quot;token operator&quot;&gt;:componentWillUnmount&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as
                  ^js this

                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! mounted-ref update &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;dissoc&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; this .-state .-id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


               &lt;span class=&quot;token comment&quot;&gt;;; FIXME: forward other lifecycles the same way&lt;/span&gt;
               &lt;span class=&quot;token operator&quot;&gt;:navigationButtonPressed&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as
                  ^js this

                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:keys&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;navigation-button-pressed&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; @screens-ref &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

                        props
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-props this&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;js/console.log &lt;span class=&quot;token string&quot;&gt;&quot;navigationButtonPressed&quot;&lt;/span&gt;
                                    &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;
                                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;boolean&lt;/span&gt; navigation-button-pressed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;pr-str&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;when&lt;/span&gt; navigation-button-pressed
                      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;navigation-button-pressed props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

               &lt;span class=&quot;token operator&quot;&gt;:componentDidAppear&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as
                  ^js this

                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;js/console.log &lt;span class=&quot;token string&quot;&gt;&quot;componentDidAppear&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

               &lt;span class=&quot;token operator&quot;&gt;:componentDidDisappear&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as
                  ^js this

                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;js/console.log &lt;span class=&quot;token string&quot;&gt;&quot;componentDidDisappear&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

               &lt;span class=&quot;token operator&quot;&gt;:render&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;this-as
                  ^js this

                  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:keys&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;render&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;get&lt;/span&gt; @screens-ref &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

                        props
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-props this&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;js/console.log &lt;span class=&quot;token string&quot;&gt;&quot;render&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;pr-str&lt;/span&gt; props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;render props&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r/as-element&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;register-component &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; wrapper&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This stores the mounted components in &lt;code class=&quot;language-text&quot;&gt;mounted-ref&lt;/code&gt;, which we can then use
for the hot reloading:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; reload &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:dev&lt;/span&gt;/after-load &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;doseq&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; instances&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; @mounted-ref
          &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;id inst&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; instances&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;js/console.log &lt;span class=&quot;token string&quot;&gt;&quot;forceUpdate&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.forceUpdate ^js inst&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;register&lt;/code&gt; method uses an atom &lt;code class=&quot;language-text&quot;&gt;screens-ref&lt;/code&gt; to forward life cycle methods,
so we need to provide a function for screens to add themselves:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;add&lt;/span&gt;-screen &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; screen-&lt;span class=&quot;token number&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! screens-ref &lt;span class=&quot;token keyword&quot;&gt;assoc&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;key&lt;/span&gt; screen-&lt;span class=&quot;token number&quot;&gt;def&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;using-it&quot;&gt;&lt;a href=&quot;#using-it&quot; aria-label=&quot;using it permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using it&lt;/h2&gt;
&lt;p&gt;Initially, in &lt;code class=&quot;language-text&quot;&gt;myapp/init&lt;/code&gt; we called React Native‚Äôs &lt;code class=&quot;language-text&quot;&gt;registerComponent&lt;/code&gt;. Now
we call our &lt;code class=&quot;language-text&quot;&gt;env/register&lt;/code&gt; instead. We could just call &lt;code class=&quot;language-text&quot;&gt;(env/register &amp;quot;App&amp;quot;)&lt;/code&gt;,
but we want to pass some options for the navigation bar.&lt;/p&gt;
&lt;p&gt;Furthermore we need to call the &lt;code class=&quot;language-text&quot;&gt;Navigation.events().registerAppLaunchedListener&lt;/code&gt;
JavaScript function to set the navigation root for our app.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;init&lt;/code&gt; function is now:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; init &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;env/register &lt;span class=&quot;token string&quot;&gt;&quot;App&quot;&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:topBar&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:visible&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;true&quot;&lt;/span&gt;
                          &lt;span class=&quot;token operator&quot;&gt;:title&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:text&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;My App&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
                          &lt;span class=&quot;token operator&quot;&gt;:rightButtons&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:id&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;add&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:systemItem&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;add&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rnn/Navigation.events&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;.registerAppLaunchedListener
       &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
         &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:root&lt;/span&gt;
               &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:stack&lt;/span&gt;
                &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:children&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:component&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:name&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;App&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;clj-&gt;js&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rnn/Navigation.setRoot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id=&quot;credits&quot;&gt;&lt;a href=&quot;#credits&quot; aria-label=&quot;credits permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h1&gt;
&lt;p&gt;That‚Äôs it! Done! Just four simple, easy, almost trivial steps! Well maybe not
so trivial. I guess a ClojureScript beginner couldn‚Äôt have come up with this.
Well, in fact I &lt;em&gt;am&lt;/em&gt; a ClojureScript beginner and I &lt;em&gt;did not&lt;/em&gt; come up with this
solution myself. All the credits go to &lt;a href=&quot;https://github.com/thheller&quot;&gt;Thomas Heller&lt;/a&gt;, the author of
&lt;a href=&quot;http://shadow-cljs.org&quot;&gt;shadow-cljs&lt;/a&gt;. He has been amazing in his support by answering
all of my beginner-level questions, and then he ended up conjuring this
solution and committing it to my repository. He actually spent hours on this
I believe, and that level of support from a community is truly awesome
(and rare). He doesn‚Äôt seem to be advertising it very much, but you can become
his &lt;a href=&quot;https://www.patreon.com/thheller&quot;&gt;patreon&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&quot;why-react-native-navigation&quot;&gt;&lt;a href=&quot;#why-react-native-navigation&quot; aria-label=&quot;why react native navigation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why React Native Navigation&lt;/h1&gt;
&lt;p&gt;What‚Äôs special about React Native Navigation is that it is implemented using the
real platform native components, specifically
&lt;a href=&quot;https://developer.apple.com/documentation/uikit/uinavigationcontroller&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;UINavigationController&lt;/code&gt;&lt;/a&gt; on
iOS. I seem to be at odds with most of the rest of the world on this, but I
happen to think that it is very important to present the user with an
experience that is (as much as possible) identical to that of native apps. You
shouldn‚Äôt be able to tell from the user experience whether the app was written
using native technology or cross platform technology. Not even when you update
your OS to a new major version. So if my app uses a navigation stack, it has to
be the native one. Maybe I‚Äôm more sensitive to this then others, but I get
really upset by apps that don‚Äôt support the normal gesture for going back up the
navigation stack. I also get annoyed when the animation that is used while going
back is slightly non-standard. Using the native components is the only way to
accomplish that. Other components can come close, but not close enough for me.&lt;/p&gt;
&lt;h3 id=&quot;versions&quot;&gt;&lt;a href=&quot;#versions&quot; aria-label=&quot;versions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Versions&lt;/h3&gt;
&lt;p&gt;Like I said in the beginning, future versions of any of the tools may break
this guide. So it is only fair to mention which versions I was using for this:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Tool&lt;/th&gt;
&lt;th&gt;Version&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;node&lt;/td&gt;
&lt;td&gt;11.10.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;npm&lt;/td&gt;
&lt;td&gt;6.5.0-next.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;react&lt;/td&gt;
&lt;td&gt;16.8.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;react-native&lt;/td&gt;
&lt;td&gt;0.59.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;react-native-cli&lt;/td&gt;
&lt;td&gt;2.0.1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;react-native-navigation&lt;/td&gt;
&lt;td&gt;2.16.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;shadow-cljs&lt;/td&gt;
&lt;td&gt;2.8.26&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Xcode&lt;/td&gt;
&lt;td&gt;10.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;iOS SDK&lt;/td&gt;
&lt;td&gt;12.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Android SDK&lt;/td&gt;
&lt;td&gt;API levels 26, 27, 28&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Build tools 27.0.3, 28.0.3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;System images: android-28&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content:encoded></item><item><title><![CDATA[GraphQL + Spring Boot]]></title><description><![CDATA[IntroductionNow GraphQL is not anymore that new kid on a block it would be nice if we can implement a service with a GraphQL interface‚Ä¶]]></description><link>https://040code.github.io//2019-03-21-spring-boot-graphql/</link><guid isPermaLink="false">https://040code.github.io//2019-03-21-spring-boot-graphql/</guid><pubDate>Thu, 21 Mar 2019 00:00:00 GMT</pubDate><content:encoded>&lt;h3 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#introduction&quot; aria-label=&quot;introduction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h3&gt;
&lt;p&gt;Now GraphQL is not anymore that new kid on a block it would be nice if we can implement a service with a GraphQL interface. Spring Boot is one of the well known frameworks to build your micro services in Java. Time to assess how easy, or hard it will be to implement a GraphQL service. In this post we will not explain how &lt;a href=&quot;https://graphql.org/&quot;&gt;GraphQL&lt;/a&gt; works. We focus on a simple Java Spring Boot micro services with a JPA layer. In the GraphQL language we cover the tree major concepts, a query, a mutation and a subscription.&lt;/p&gt;
&lt;p&gt;GraphQL is API is based on three main concepts. Query the backend for data using a graph based query. The query is in a JSON like style and the response is valid JSON. A major difference with REST is that wit a query you can specify excatly what you expect or want from the backend. Mutation are the way to change data in the system based on flat input object. In this example we use mutation to add new information. Finally we have subscription to subscribe for changes and get notified once something is changed via a web socket.&lt;/p&gt;
&lt;h3 id=&quot;java-spring-and-graphql&quot;&gt;&lt;a href=&quot;#java-spring-and-graphql&quot; aria-label=&quot;java spring and graphql permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Java, Spring and GraphQL.&lt;/h3&gt;
&lt;p&gt;For implementing a GraphQL service you have two choices. Either schema first, or code first. So similar concepts as we used with SOA XML services. When starting with code you have to write more plumbing code, but you have more freedom. And on the other side starting of the schema reduce all the plumbing code and gives a faster start.&lt;/p&gt;
&lt;p&gt;In this blog we first create a simple JPA enabled Spring Boot service. Then we add step-by-step GraphQL features to the service. We start from the schema and show which small additions you have to do to our application. Starting from a schema will not result in generated coded, you still have to write the matching code yourself. For the Java implementation we will use the libraries from &lt;a href=&quot;https://github.com/graphql-java-kickstart&quot;&gt;graphql-java-kickstart&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;sample-model-and-api&quot;&gt;&lt;a href=&quot;#sample-model-and-api&quot; aria-label=&quot;sample model and api permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Sample Model and API&lt;/h3&gt;
&lt;p&gt;For simplicity we use in this blog a simple domain model. Consisting of two classes. A person and notes, a person can have multiple notes. And a note always has one author, a person.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 113px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 180.5309734513274%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAAAsSAAALEgHS3X78AAAIDUlEQVRIx6WWC1SUxxWAZyHmmHianlZrTtrUqNVIjdW0IFGBUDU+orEgglYBFSKaKGgOSlKjVQmoQQR5BEFACwjsLrgssMuy7BNYWIgssDxkAXkubxeEFZXH7j+38/+rJDntscf0P+eeuf/973z3zsydmR+V7zmK6Kd4qw8L/cznCFrI9N3uvNFiKNn+KWO4jVYuqvo86GRzRHhUd9J3Kd2xUWG9kddO669Gfq2Piw7vTUlIG8xM5vSlJiRqT5+LVW456HMEIWu6byBaYklIuGQ7025B6LX25O90AK0A0AhyaQLcb8wBfXM+dDXlwZBeAiPDStDrC8EwpCA+zQDjGhAePBpH9ycG9M78txBS7z1mRRuKbD02wvj3xN4yNUVppjX1HFOlNtPEK4ii9WmxPMEklsabimQJpuo6jokEnSbBsSY1zrzBxpHJKjzorBWSO3sxQMHibRsH+CkwejeXGi67g421AlrAUMkDQ2kW9EkzGBlScPCDYi4ekLHxcCnXXB8dA18cPh72LEsWKnXxY4DiVW4bH2kF0NspogbbRHiklQytuQAm+4thakwNpieVMP24EmBKAxPGcpg0qjFArbmNnw6BfsevzQArvI8zQMnav2+gHqpBUpJIcbLCsEh6HfjCKEjNCIWm5hwYMiigQBQL8TfOQF5+FGRnh+MiRby5R3oHTvgci5wBqj0DmFWSOuzdZBpUwdCwgjI8UOCx0VL85LEaWltywUBglLkaTNNV0NMjpnU89rAUd/WIzHpJNnzxYyBZeiZD/vyNTpOdcihSJZk43DCzRJZA5QmiqVxBNG7rEGLjeDlOvR2KZcpErCy9SUVcO0W194tMXbx0OL7/aNQMkMOyf16fLN218JppgwqGSYk87JGCcUAOlfIk6GsXApA5bNKwwdgvB0O3GBo1mTBYygVJZDx8djLwKxrQ3NxsqcXzv1vLKPsQejtx96fpud+E6nNDLuoF314ZFUfHTIjOX5rID7k8IYmJfSq8cvVJ/qVvB4quRIylXAh7fOF8cJH9ug+W0v09PT3JKu84xECv22x7vvWsWItsFv9ype0Su83b1jh67F5/bPlHPp98vHOzg5v7emfXXX99297hPdut29dt3r/Hgfj/gtm67VpLbzayRxCVyuhpy3f81/0sR8sXvWgv32Tf/qlh7ty5KDaCKSW02tYO7XRxZbnvcmcFr9/NVED6rLVLU+Y4zKP1c3sOWXl5erEC/P2tAgICrJydnWc4CxYs+M9oLNYPSXKQPfOShewX8dAHc2l9PfoNbWPNnj0b2drazvjOmjXrfx9LqciOAd5Ef1kSh1a9if7f5yyyYYAX0fL3F6LXXYn6W1K0NqR9l87ypYGH0UKmDUMr7OahV1cSdTMRbyI7iLz60kDuszkkc/kHNXJ+g9kNaPTnD5n9DMhGq5feRqufASNfHkQymhHL++oVBP4KYsb6FrJ65jeMPiHXht3z0fwASETvoMIVO1l3/QKt6s5esK4J/Nq6Yv9xK+m6vUwdZs9xWiJa7jKHPuZrg85aN4aEWjcEh1jX/zPYWrHB25r7yhqGI1q2wwKkHV+4E9C728LRnMUv8on440esn8Bi0K8WyJz2OZe5f+ZRss3344L3XO1advivUvzJ/XDJh17B6k2+16q9TvhpfAP3le/z967wCvBUufh58Odt8CD5vUYzMt53s0AJ5MSQkgOTenKbGSuBGlLB0/sS0AqToKsyC4x9Cui7XwBPBoqBGqsAmKwGeKoBPFwOpg45tMZHdXyJ5i+bSbc7K7kGYJAkqyM3WaMZ4B4F0IRlFbcwTxxD5UvjKKHsOpXOCzM3tOWS721mi18TrZM+7cA54p9Dn1QMsPV6lNbUo4SH2nzzow4Jftwjx0bSDlbzcZssDTeLU3CHMgO3FKXg3jIuHqnJwwYNn5EHVXzqSZ0QhGfOjSy1dVjFAJsuX66ZIqkbdYXmR1ohHq3KhacNIpggw37aJQdzfylQAyrA5M4x95XANAlOt8SOp3qK8XSnDETBoeNOW//mxABHFNy6e515wOGFm0srUkBSnAiy0mRobMmBKVwN9ToeFJffAllJEtMqy26ClPgoVMnAybmK+wcloIqPHf+z/QZHtAuhNwwlWfrxiQpobeZT+m4R9PUWQXnZv0BbyyHzWgstzblwr5HH2DvaBaDvLgRdUw5oqjKgro6Lx8gvijI6cny1wyZHdBqhN41awUix+hZUqFMprZYLtQRUXZ0JlZVp8OCBAjCugXv3eNDQkA05ORGgUt0CrZYD/f0SoBcPoB4kEeHjaz/c6ojIdTV3qDx7YHyygkQXUiUlNzENVSgSQa1OAaOxDMxmDcjlNxjQ3bvpoNPlgFKZBIODMgLTEakDaeTV8TVOWxzpKbQekmTqdB150KLjm6s1mVhby8Wj5CIHaMBdnSLc1MjDA/1SbPnGYWxy2Q38fUUaHZzCJKA0LIzO0LIojedDCvs6RaDVZZtusy9SAnGM+W5tBqnFRqqKtLSeJ4qm0jkXKbH8OpUjiKTIbwhVU8+hNA1s82htLmScDjGu2+NmOSGuomVLhQGBpbqMZOiX3wGDKg96JVnQwL4Fuuw00BdyoFOQCa38DOgsYEO/4g4MKHnQnp8OLeS7+HIUnD35Dx5BvY7Y9nueH+W/dlu73eeQ24EzJw8ei/Pf53fJd9eBUz67Dnzp6+IV5OPqHXRg5/6gg67ep464HTj3ubvPN74u3qd8PHy+8j521M/GftXvaci/AbsTIqyf2cM8AAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/8c7e152322e9f76ea8548483ef3a27da/2d1df/model.webp 113w&quot; sizes=&quot;(max-width: 113px) 100vw, 113px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/8c7e152322e9f76ea8548483ef3a27da/ae69b/model.png 113w&quot; sizes=&quot;(max-width: 113px) 100vw, 113px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/8c7e152322e9f76ea8548483ef3a27da/ae69b/model.png&quot; alt=&quot;Model&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;h3 id=&quot;create-a-simple-note-service&quot;&gt;&lt;a href=&quot;#create-a-simple-note-service&quot; aria-label=&quot;create a simple note service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create a simple Note Service&lt;/h3&gt;
&lt;p&gt;First we create a simple Spring JPA services, to store the Notes and the Authors of type Person. The implementation will be straightforward. We create an entity class for Person and Note. Fore readability the imports and other plumbing is omitted. See &lt;a href=&quot;https://github.com/npalm/blog-graphql-spring-service&quot;&gt;GitHub&lt;/a&gt; for a complete implementation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Column&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;unique &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; name&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; email&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Entity&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Id&lt;/span&gt; &lt;span class=&quot;token annotation punctuation&quot;&gt;@GeneratedValue&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;String&lt;/span&gt; note&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ZonedDateTime&lt;/span&gt; createdOn&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@ManyToOne&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;fetch &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;FetchType&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;EAGER&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we define two spring JPA repositories to store the entities above in our database.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Repository&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;PersonRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrudRepository&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Person&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Repository&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NoteRepository&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CrudRepository&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, we define the services interface which we will use to implement the GraphQL queries,&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Service&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NotesService&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt; note&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So that is all to create a simple service with basic JPA (persistence) capacity. Time to focus on adding GraphQL to our service.&lt;/p&gt;
&lt;h3 id=&quot;implement-a-query&quot;&gt;&lt;a href=&quot;#implement-a-query&quot; aria-label=&quot;implement a query permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Implement a query&lt;/h3&gt;
&lt;p&gt;As base library we use &lt;code class=&quot;language-text&quot;&gt;graphql-java-tools&lt;/code&gt; this library requires a GraphQL schema to implement GrahpQL. The first step is to define a schema for our queries. The schema defines our GraphQL root, for now only the query. Next the queries we will implement and the types we use. We define two queries. The first one to look op a note and the second one to find all notes based on a filter. Next, we define the types. As you can see a Note has a relation to a Person object. By querying for a note we can get immediately the authors name for example.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;schema {
    query: Query,
}

type Query {
    note(id: Long!): Note
    notes: [Note]
}

# Object to represent a note
type Note {
    id: ID!
    note: String
    createdOn : String
    author: Person
}

# Object to represent a note
type Person {
    id: ID!
    name: String
    email: String
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;implement-mutation&quot;&gt;&lt;a href=&quot;#implement-mutation&quot; aria-label=&quot;implement mutation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Implement Mutation&lt;/h3&gt;
&lt;p&gt;We have now defined a first version of a GraphQL schema. The second step is to connect the schema to the Note Service. GraphQL java tools expects for each query, a resolver function. Therefore, we need to implement &lt;code class=&quot;language-text&quot;&gt;GraphQLQueryResolver&lt;/code&gt; from graphql-tools.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Query&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GraphQLQueryResolver&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;NotesService&lt;/span&gt; notesService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Query&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NotesService&lt;/span&gt; notesService&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;notesService &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; notesService&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Optional&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Long&lt;/span&gt; id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; notesService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;List&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;notes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; notesService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;findAll&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is all, we have to do to be able to handle the queries as specified in the schema. We can now start the spring boot application and open &lt;a href=&quot;http://locahost:8080/graphiql&quot;&gt;http://locahost:8080/graphiql&lt;/a&gt; and query form some. Graphiql is a simple IDE to execute GraphQL queries. A much richer tool to play with your queries is &lt;a href=&quot;https://github.com/prisma/graphql-playground&quot;&gt;GraphQL Playground&lt;/a&gt;. Actually no fun yet, we can only execute queries without getting any result. We simply have an empty system. We need a way to add notes to the system. In GraphQL you mutate data via a mutation. In the next step we add a mutation to the schema and update the code for executing the mutation.&lt;/p&gt;
&lt;p&gt;In the schema we add the mutation to the root and add a mutation to add a note to the &lt;code class=&quot;language-text&quot;&gt;Mutation&lt;/code&gt; type. Quite similar to defining the query above. For the input we define an input object for both Note and Person.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;schema {
    ...
    mutation: Mutation
}

type Mutation {
    addNote(note: InputNote!, author: InputPerson!): Note
}

# Input type for the author of the note
input InputPerson {
    name: String!
    email: String
}

# Input type for a new Note
input InputNote {
    note: String!
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Similar to implementing the query we have to implement an interface and declare methods for the mutation. Mutations have to be implemented in a class implementing the interface GraphQLMutationResolver. In this implementation we defined for the input objects converters to convert the GraphQL input object to domain objects that can be consumed by the service.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Mutation&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GraphQLMutationResolver&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;addNote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InputNote&lt;/span&gt; note&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;InputPerson&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; notesService&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;InputNote&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;note&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; author&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let‚Äôs test the service. Build and start the service &lt;code class=&quot;language-text&quot;&gt;/gradlew clean bootRun&lt;/code&gt; and open &lt;a href=&quot;http://localhost:8080/graphiql&quot;&gt;http://localhost:8080/graphiql&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;mutation {
  addNote(note: {note: &amp;quot;Hello World&amp;quot;},
    author: {name: &amp;quot;John Doe&amp;quot;, email: &amp;quot;no-reply@jonn.doe&amp;quot;}) {
    id
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And query for all available notes. This should result only in the note above.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;query &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  notes &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    id
    createdOn
    note
    author &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      name
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 52.910737386804655%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8ElEQVQoz52S2U7DMBBF8/9/B4I3kEJJYlPb8TYeLylxpxGEKG0R4uhqnubE9lWax6fnruvbtuWc76YklBJyjxDi7Z11A29GxgBCSinnvJ2EsUZLBdY559cQNI311rpGSSMN1FrnuicgmkH0h6P1kHKhT16SftJgPr0MukzTlVsRMcR41G5UDo1HQPQYY1rTTNM0+lhOnzflFJPQ/uH1Q/US+hGYRtJXuZRc70BrtOo89MJaC6hc0BDT5uR5nu/KiNRKCFjoweRstC/5VlPfhYVAxVIxl+vTNi75oxyXa+9O28n1/zJjjC/AFfRz/C6fAdy+e3b68vUMAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/9ff63ab7efb668275ae7734226197070/cc182/query-graphiql.webp 148w,
/static/9ff63ab7efb668275ae7734226197070/f7e40/query-graphiql.webp 295w,
/static/9ff63ab7efb668275ae7734226197070/1a2f4/query-graphiql.webp 590w,
/static/9ff63ab7efb668275ae7734226197070/4837b/query-graphiql.webp 885w,
/static/9ff63ab7efb668275ae7734226197070/2f819/query-graphiql.webp 1180w,
/static/9ff63ab7efb668275ae7734226197070/05a98/query-graphiql.webp 1546w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/9ff63ab7efb668275ae7734226197070/cf440/query-graphiql.png 148w,
/static/9ff63ab7efb668275ae7734226197070/d2d38/query-graphiql.png 295w,
/static/9ff63ab7efb668275ae7734226197070/b9e4f/query-graphiql.png 590w,
/static/9ff63ab7efb668275ae7734226197070/f9b6a/query-graphiql.png 885w,
/static/9ff63ab7efb668275ae7734226197070/2d849/query-graphiql.png 1180w,
/static/9ff63ab7efb668275ae7734226197070/ace41/query-graphiql.png 1546w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/9ff63ab7efb668275ae7734226197070/b9e4f/query-graphiql.png&quot; alt=&quot;Query example&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Add some more notes and experiment with the query. All standard features will work such as aliases, fragement and variables.&lt;/p&gt;
&lt;h3 id=&quot;implement-subscriptions&quot;&gt;&lt;a href=&quot;#implement-subscriptions&quot; aria-label=&quot;implement subscriptions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Implement Subscriptions.&lt;/h3&gt;
&lt;p&gt;Another cool feature is the subscriptions. With a subscription you can subscribe to updates via a websocket. The same philosophy is followed for the subscription. You will gat your data in same structure as specified in the subscription call.&lt;/p&gt;
&lt;p&gt;To add subscription to our Java implements, we update the schema and add code to handle updates. To add a subscription for new notes we update the GraphQL schema first. Again update schema root and add the subscription, define the available subscriptions and add the required types.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;schema {
    ...
    subscription : Subscription
}

type Subscription {
    # Subscribe to all new comments
    notes: NoteUpdate!
}

type NoteUpdate {
    # The note text
    note : String
    # The name of the author
    authorName : String
    # Time when the note was received
    createdOn : String
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And once again we have to implement a resolver, this time we implement the &lt;code class=&quot;language-text&quot;&gt;GraphQLSubscriptionResolver&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@Component&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Subscription&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GraphQLSubscriptionResolver&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;CommentPublisher&lt;/span&gt; commentPublisher&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;Subscription&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;CommentPublisher&lt;/span&gt; commentPublisher&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;commentPublisher &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; commentPublisher&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;token class-name&quot;&gt;Publisher&lt;/span&gt;&lt;span class=&quot;token generics&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;NoteUpdate&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;notes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; commentPublisher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getPublisher&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Note&lt;/span&gt; note&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
    notePublisher&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;savedNoed&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;notePublisher&lt;/code&gt; is responsible to update messages via a WebScoket so the subscribers get the update. For the implementation check out the GitHub repo. Time to test the subscription. An easy way to test is topen the GraphiQL editor on two screens. Invoke in the first one the subscription and in the second one add a note. You will see you get an update of the new note on the first screen.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;subscription {
  notes {
    note
    authorName
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 55.35055350553506%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABfUlEQVQoz3WRa2+bMBRA/f//UDWp+7CkzbTkaye6VEuIeAewje17/QCcXbJobdftcLCMuJbQgSXJj+R5X1VVlmUFUZZZnpfXx7Zte867vu+X+y1dVlRZXjPJhSgKxYWz3qHzJFiHpAODnAuQChEA0CyCNotKG6U0AwMtVy+nbhAYcJwxRO1n9AFGqwIMuvhZH7JWSm2lwQGcdTedZ1qbGON8iXOMl/dM86x72ZX89FKfT60+NOpwNo00tYBeWzocwnj5DzMd1sY7H6dpDHRNNBx8uDp6P7I0TZMk+f70tN/v0/ccj0fKRi0p41KSWNaKLMqqqRt2f//57u7T+vHxy2r1cGW9Xm82m91utyVoXTa77bftW1Y08nXLpJBD02DfeYRxou+7QdsQAr0FoZbQ1gKJlrIv5Q1Sc2YttsKUZ0nzH4OhhiJt8rwdCg6lMJ2iyH9kWmkfJmE8uPFfwXQ7mLJTgivslOmVRWftTYZo44ef9FdtKuu8t7+1r4d/AY0VZ/3VmK5dAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/6026081f5abfc5afc1a7ae1bc5b1753b/cc182/subscription-graphiql.webp 148w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/f7e40/subscription-graphiql.webp 295w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/1a2f4/subscription-graphiql.webp 590w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/4837b/subscription-graphiql.webp 885w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/2f819/subscription-graphiql.webp 1180w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/5c933/subscription-graphiql.webp 1626w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/6026081f5abfc5afc1a7ae1bc5b1753b/cf440/subscription-graphiql.png 148w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/d2d38/subscription-graphiql.png 295w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/b9e4f/subscription-graphiql.png 590w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/f9b6a/subscription-graphiql.png 885w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/2d849/subscription-graphiql.png 1180w,
/static/6026081f5abfc5afc1a7ae1bc5b1753b/4c844/subscription-graphiql.png 1626w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/6026081f5abfc5afc1a7ae1bc5b1753b/b9e4f/subscription-graphiql.png&quot; alt=&quot;Query example&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;h3 id=&quot;testing&quot;&gt;&lt;a href=&quot;#testing&quot; aria-label=&quot;testing permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Testing&lt;/h3&gt;
&lt;p&gt;Another nice feature provided by &lt;a href=&quot;https://github.com/graphql-java-kickstart/graphql-spring-boot&quot;&gt;graphql-spring-boot&lt;/a&gt; is the test utils. Testing your GraphQL queries becomes really simple. The library provide a &lt;code class=&quot;language-text&quot;&gt;GraphQLTestTemplate&lt;/code&gt; which makes it easy to invoke the GraphQL endpoint by with a query. The result is the JSON object. Let‚Äôs have a quick look on some code. First define the query in &lt;code class=&quot;language-text&quot;&gt;queries/find-notes.graphql&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;query FindNotes {
  notes {
    id
    note
    createdOn
    author {
      name
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now create a test.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;java&quot;&gt;&lt;pre class=&quot;language-java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;token annotation punctuation&quot;&gt;@RunWith&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;SpringRunner&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token annotation punctuation&quot;&gt;@SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;webEnvironment &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;SpringBootTest&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;WebEnvironment&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;RANDOM_PORT&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GraphQLNoteTest&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GraphQLBaseTest&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;GraphQLTestTemplate&lt;/span&gt; graphQLTestTemplate&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;token annotation punctuation&quot;&gt;@Test&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;findNotes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;throws&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;IOException&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;

        &lt;span class=&quot;token class-name&quot;&gt;GraphQLResponse&lt;/span&gt; findResponse &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; graphQLTestTemplate&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;perform&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;queries/find-notes.graphql&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;token function&quot;&gt;assertTrue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;findResponse&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;isOk&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;token comment&quot;&gt;// asserts to check the content&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That is all, of course you should add some assert to check the content as well. For more details check out the &lt;a href=&quot;https://github.com/npalm/blog-graphql-spring-service&quot;&gt;GitHub&lt;/a&gt; repo of this blog.&lt;/p&gt;
&lt;h3 id=&quot;some-thoughts&quot;&gt;&lt;a href=&quot;#some-thoughts&quot; aria-label=&quot;some thoughts permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Some thoughts&lt;/h3&gt;
&lt;p&gt;The example above shows how you can enable your Spring Boot service with a GraphQL API. Adding a GraphQL layer to your existing (simple) service is fairly easy with the tools. But GraphQL will become really powerful when you combine multiple (REST) API in one GraphQL endpoint to create a fluent and understandable API.&lt;/p&gt;
&lt;p&gt;If a java based approach is in that case the best way to go, I don‚Äôt know yet. In that case it could be interesting to dive into &lt;a href=&quot;https://github.com/google/rejoiner&quot;&gt;Rejoiner&lt;/a&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Mob Programming]]></title><description><![CDATA[This blog was originally posted on Feb 25, 2019.Last week I was lucky to be able to attend a workshop about ‚Äúmob programming‚Äù, given by‚Ä¶]]></description><link>https://040code.github.io//2019-03-15-mob-programming/</link><guid isPermaLink="false">https://040code.github.io//2019-03-15-mob-programming/</guid><pubDate>Fri, 15 Mar 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;This blog was originally posted on &lt;a href=&quot;https://gist.github.com/svdo/0519c26fec9899b9b2c081c1c3d37ff6#file-blog-post-mob-programming-md&quot;&gt;Feb 25, 2019&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Last week I was lucky to be able to attend a workshop about ‚Äúmob programming‚Äù, given by Woody Zuill. As somebody who considers himself ‚Äúagile‚Äù (in the original sense of the word) and who is a proponent of extreme programming, I liked it a lot. In this article I‚Äôm sharing some of my findings and learnings.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;mob-programming&quot;&gt;&lt;a href=&quot;#mob-programming&quot; aria-label=&quot;mob programming permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mob Programming&lt;/h1&gt;
&lt;p&gt;Simply put, it means that the entire team is working on a single computer, all together at the same time. As an outsider, you might see a few big screens next to each other, and team members sitting next to each other facing those screens. One person is behind the keyboard, and the others are looking at the screens. One of them seems to have a special role, because he is telling the person behind the keyboard what to do.&lt;/p&gt;
&lt;p&gt;Looking a bit closer, you notice that one person is not really looking at the screens very much, but paying close attention to what the rest are doing. He notices you and quietly comes over to you. He introduces himself as the team‚Äôs coach.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; This looks interesting, can you explain what is going on here?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; Sure! This team is learning mob programming. They have been at it for a while now and are approaching the point where they don‚Äôt need me anymore. They understand how to do it and why they are doing it. They are learning how to improve on this by themselves.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; So why are they doing it?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; There are two important reasons. The first is that the team wanted to learn to work together more effectively. They want to have a common understanding of things like architecture, coding standards, and code quality. Before they started working this way, they were in trouble. They were working on a project that was already a year late, and they didn‚Äôt know how to make the drastic improvements that were needed. When I was hired, I noticed that cycle times for bug fixes where sky-high: it took forever for a bug that was reported to be fixed. When I looked into the code base and I was not very enthusiastic about the quality. When asking about this to the individual team members, they reacted very differently. Some didn‚Äôt feel there was a problem. Others did, but they found they couldn‚Äôt address it because the rest of the team ‚Äújust doesn‚Äôt get it‚Äù. There clearly was an issue with the team‚Äôs ability to operate &lt;em&gt;as a team&lt;/em&gt; instead of just a bunch of individuals.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; I have seen situations like that myself occasionally. Has it improved?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; Oh yes, it can be difficult still sometimes, but they have learned to discuss such issues with each other. They have learned to raise such issues, and they have learned to do that in a respectful manner.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; How did that happen?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; I let them play.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; Come again?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; Let me ask you a question: what is the most important prerequisite for learning?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; That‚Äôs easy. We have known forever; that‚Äôs why we don‚Äôt allow bullying at schools, for example. It is &lt;em&gt;security&lt;/em&gt;, the knowing that it‚Äôs ok to be wrong, to make mistakes.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; Indeed! So that‚Äôs what we did. Every Friday afternoon, we‚Äôd have a coding dojo together, where we practiced coding kata‚Äôs. The word ‚Äúdojo‚Äù comes from martial arts: a place where you practice. A ‚Äúkata‚Äù is a series of made-up exercises designed to help you learn something in a safe situation. And we found that it was so much easier to discuss code quality with each other when we didn‚Äôt have the pressure of ‚Äúwork‚Äù attached to it! Nowadays, instead of using Friday afternoons for this, we start every day with a coding dojo of an hour. Through this, we have learned to treat each other with kindness, consideration, and respect.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; That sounds like it might not only be effective, but also fun! So you mentioned that there are two reasons for doing mob programming. What‚Äôs the other one?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; The second reason is even more important than the first one. What harms project progress more than anything else?&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; Ehh‚Ä¶&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; &lt;em&gt;(gives encouraging look)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; Well‚Ä¶&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; Exactly, delays! Waiting time, queues, inventory! This is all very well known from &lt;em&gt;lean manufacturing&lt;/em&gt;. It is common sense that keeping people busy while waiting for important answers is counter-productive. It‚Äôs not about being busy, it is about getting the most important thing done as fast as possible. A waiting time of an hour probably costs at least two hours because of context switching. It‚Äôs all about &lt;em&gt;flow&lt;/em&gt;. Mob programming is a multi-discipline approach. Everybody who is needed should be present, including designers, testers, product owner. And if key people cannot be present, they have to make sure that they are otherwise available and get back to questions within minutes. Unless the project is not important of course, but then you should probably find something else to do.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You:&lt;/em&gt; Right. It‚Äôs surprising how much &lt;em&gt;lean&lt;/em&gt; is common sense in one discipline, and how novel it appears to be in software engineering.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Coach:&lt;/em&gt; And it gets better. Because ‚Äúflow‚Äù has another meaning, from the field of psychology. When you‚Äôre ‚Äúin flow‚Äù, you are highly concentrated, you forget distractions, every ounce of your mental powers is used to solve the problem at hand. One of the original goals of pair programming was to improve flow: when one of the pair needs to step away for a moment, the other continues. When the first returns, she can get right back into flow again. Mob programming reinforces this even more.&lt;/p&gt;
&lt;h2 id=&quot;the-workshop&quot;&gt;&lt;a href=&quot;#the-workshop&quot; aria-label=&quot;the workshop permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Workshop&lt;/h2&gt;
&lt;p&gt;So that was what the workshop was about: why do it, and how to do it. There was a hands-on coding dojo of a few hours that was designed to get a flavour of what you need to learn as a team to be more effective. I won‚Äôt spoil it for you, but to me it struck a good balance between fun and ‚Äúsuffering‚Äù (being confronted with things that you didn‚Äôt know you were doing ineffectively).&lt;/p&gt;
&lt;p&gt;Focussing on &lt;em&gt;flow&lt;/em&gt; feels like a good idea. When you do that as a team, you can come up with strategies to deal with problems like managers trying to interrupt too often, for example. But also things that need studying can interrupt your flow; you might create a list of study topics to park these things on, and have a dedicated hour of learning every day for those topics (coding dojo!).&lt;/p&gt;
&lt;p&gt;There is so much more to talk about. For example, the roles of mob programming and the underlying principle: &lt;em&gt;all ideas must go from somebody‚Äôs head into the computer through somebody else‚Äôs hands&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Want to learn more? Hire Woody Zuill and/or buy his book ‚ÄúMob Programming ‚Äì A Whole Team Approach‚Äù. Like what you read? Contact me and let‚Äôs see how we can leverage this!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Git Bisect]]></title><description><![CDATA[I want to tell you a little story about what happened to me a few days ago.
I went to the office and a colleague of mine was not very happy‚Ä¶]]></description><link>https://040code.github.io//2019-03-11-git-bisect/</link><guid isPermaLink="false">https://040code.github.io//2019-03-11-git-bisect/</guid><pubDate>Wed, 13 Mar 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I want to tell you a little story about what happened to me a few days ago.
I went to the office and a colleague of mine was not very happy. This is strange because I work for a very nice company.. What happened? I asked him what was wrong. It turned out that he updated a lot of dependencies and some code for a certain service. And now the SonarQube reporting was not working anymore with a very strange message: HTTP Error 502 Bad gateway..&lt;/p&gt;
&lt;p&gt;I decided to help him, because we don‚Äôt work alone and especially when you‚Äôre stuck (and frustrated) at something it‚Äôs best to include other human beings.&lt;/p&gt;
&lt;p&gt;Since there we‚Äôre already several commits done I‚Äôve decided to use &lt;code class=&quot;language-text&quot;&gt;git bisect&lt;/code&gt; to find the bug-introducing commit.&lt;/p&gt;
&lt;p&gt;I‚Äôve noticed that it was new to my colleague so let‚Äôs write a blog post about it.&lt;/p&gt;
&lt;h2 id=&quot;prerequisites&quot;&gt;&lt;a href=&quot;#prerequisites&quot; aria-label=&quot;prerequisites permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;In order to follow the instructions, you need the following things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://git-scm.com/downloads&quot;&gt;Git&lt;/a&gt; - Duh‚Ä¶ This blog is about Git!&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://doc.rust-lang.org/cargo/getting-started/installation.html&quot;&gt;Rust &amp;#x26; Cargo&lt;/a&gt; - The best language ever I‚Äôm NOT using in my daily work.  &lt;/li&gt;
&lt;li&gt;Clone &lt;a href=&quot;https://github.com/JeroenKnoops/rust-example&quot;&gt;https://github.com/JeroenKnoops/rust-example&lt;/a&gt;. This is an example codebase with a bug we want to find.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rust-example&quot;&gt;&lt;a href=&quot;#rust-example&quot; aria-label=&quot;rust example permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rust example&lt;/h2&gt;
&lt;p&gt;The rust-example is very simple. It‚Äôs a rust library with four functions namely: &lt;code class=&quot;language-text&quot;&gt;add&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;substract&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;multiply&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;division&lt;/code&gt;. By no means this should ever be used in real systems, this repo only exists as example for this blog post. It has 9 commits.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ git log --pretty=format:&amp;quot;%h - %an, %ad : %s&amp;quot;
4d7f719 - Jeroen Knoops, Sun Aug 12 17:10:07 2018 +0200 : Adds link to blog post on git bisect
380d12e - Jeroen Knoops, Sun Aug 12 17:09:04 2018 +0200 : Refactors tests in seperate directory
1ae37e1 - Jeroen Knoops, Sun Aug 12 17:07:32 2018 +0200 : Adds edge cases for division
0580aec - Jeroen Knoops, Sun Aug 12 17:06:41 2018 +0200 : Adds information on how to run tests and create the documentation
d619b4d - Jeroen Knoops, Sun Aug 12 17:04:50 2018 +0200 : Adds function &amp;#39;division&amp;#39;
abc4c40 - Jeroen Knoops, Sun Aug 12 17:03:29 2018 +0200 : Adds function &amp;#39;multiply&amp;#39; with a runnable example in the documentation
2a5a057 - Jeroen Knoops, Sun Aug 12 17:01:27 2018 +0200 : Adds readme.md
3d75d3d - Jeroen Knoops, Sun Aug 12 16:59:58 2018 +0200 : Adds travis-ci pipeline
030b725 - Jeroen Knoops, Sun Aug 12 16:58:49 2018 +0200 : Adds functions &amp;#39;add&amp;#39; and &amp;#39;substract&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It starts with adding two functions, adding travis-ci, add some documentation, more functions, some refactoring‚Ä¶ everything you expect from a ‚Äòreal‚Äô project.&lt;/p&gt;
&lt;p&gt;Of course it has some tests and I‚Äôve tested everything manually before I commit‚Ä¶ But for some reason at the end, the &lt;code class=&quot;language-text&quot;&gt;substract&lt;/code&gt; function is not working anymore..
Whoops.. I‚Äôve tested it manually, but for some reason I‚Äôve forgot to add a test for it..&lt;/p&gt;
&lt;h2 id=&quot;lets-create-a-test&quot;&gt;&lt;a href=&quot;#lets-create-a-test&quot; aria-label=&quot;lets create a test permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Let‚Äôs create a test&lt;/h2&gt;
&lt;p&gt;We‚Äôre creating a test in &lt;code class=&quot;language-text&quot;&gt;/tests/bug.rs&lt;/code&gt; to show the bug.
We will use this test to check in which commit the bug was introduced.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;rust&quot;&gt;&lt;pre class=&quot;language-rust&quot;&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;crate&lt;/span&gt; example&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; example&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token attribute attr-name&quot;&gt;#[test]&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;test_substract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;assert_eq!&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;substract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now try to run this test in isolation with the following command:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;cargo &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt; --test bug&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Test on &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt; should fail:
&lt;asciinema-player src=&quot;/2019/03/13/git-bisect/git-bisect-1.json&quot;
  cols=&quot;166&quot; rows=&quot;18&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;Test on first commit (&lt;code class=&quot;language-text&quot;&gt;030b725&lt;/code&gt;) should not fail:
&lt;asciinema-player src=&quot;/2019/03/13/git-bisect/git-bisect-2.json&quot;
  cols=&quot;166&quot; rows=&quot;18&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;Somewhere in between it start not working anymore.. Let‚Äôs use &lt;code class=&quot;language-text&quot;&gt;git bisect&lt;/code&gt; to find that.&lt;/p&gt;
&lt;h2 id=&quot;git-bisect&quot;&gt;&lt;a href=&quot;#git-bisect&quot; aria-label=&quot;git bisect permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Git bisect&lt;/h2&gt;
&lt;p&gt;We go back to the &lt;code class=&quot;language-text&quot;&gt;master&lt;/code&gt; with the added test.&lt;/p&gt;
&lt;p&gt;We start the bisect procedure:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; bisect start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We tell bisect that the current version is &lt;em&gt;bad&lt;/em&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; bisect bad&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we tell bisect the commit of a known working version:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; bisect good 030b72500f08774b685c59c3e5ddd64afce432f1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We tell bisect to look when the bug appears:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; bisect run cargo &lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt; --test bug&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After the test, reset the HEAD to the first place.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; bisect reset&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let‚Äôs see this in action:
&lt;asciinema-player src=&quot;/2019/03/13/git-bisect/git-bisect-3.json&quot;
  cols=&quot;166&quot; rows=&quot;18&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;What did just happen?&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt; git bisect run cargo test --test bug
running cargo test --test bug
   Compiling example v0.1.0 (file:///Users/software-concepts/workspace/jeroen.knoops/rust-example)
    Finished dev [unoptimized + debuginfo] target(s) in 0.58 secs
     Running target/debug/deps/bug-6262d8198d8b39aa

running 1 test
test test_substract ... FAILED

failures:

---- test_substract stdout ----
	thread &amp;#39;test_substract&amp;#39; panicked at &amp;#39;assertion failed: `(left == right)`
  left: `16`,
 right: `6`&amp;#39;, tests/bug.rs:6:5
note: Run with `RUST_BACKTRACE=1` for a backtrace.


failures:
    test_substract

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out

error: test failed, to rerun pass &amp;#39;--test bug&amp;#39;
Bisecting: 1 revision left to test after this (roughly 1 step)
[2a5a0578f44883d360287fc771c9d1dd7cff4cd6] Adds readme.md
running cargo test --test bug
   Compiling example v0.1.0 (file:///Users/software-concepts/workspace/jeroen.knoops/rust-example)
    Finished dev [unoptimized + debuginfo] target(s) in 0.59 secs
     Running target/debug/deps/bug-6262d8198d8b39aa

running 1 test
test test_substract ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out

Bisecting: 0 revisions left to test after this (roughly 0 steps)
[abc4c40d4a06711bab5039a2896db3f67d8ddd0e] Adds function &amp;#39;multiply&amp;#39; with a runnable example in the documentation
running cargo test --test bug
   Compiling example v0.1.0 (file:///Users/software-concepts/workspace/jeroen.knoops/rust-example)
    Finished dev [unoptimized + debuginfo] target(s) in 0.58 secs
     Running target/debug/deps/bug-6262d8198d8b39aa

running 1 test
test test_substract ... FAILED

failures:

---- test_substract stdout ----
	thread &amp;#39;test_substract&amp;#39; panicked at &amp;#39;assertion failed: `(left == right)`
  left: `16`,
 right: `6`&amp;#39;, tests/bug.rs:6:5
note: Run with `RUST_BACKTRACE=1` for a backtrace.


failures:
    test_substract

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out

error: test failed, to rerun pass &amp;#39;--test bug&amp;#39;
abc4c40d4a06711bab5039a2896db3f67d8ddd0e is the first bad commit
commit abc4c40d4a06711bab5039a2896db3f67d8ddd0e
Author: Jeroen Knoops &amp;lt;jeroen.knoops@gmail.com&amp;gt;
Date:   Sun Aug 12 17:03:29 2018 +0200

    Adds function &amp;#39;multiply&amp;#39; with a runnable example in the documentation

:040000 040000 27cde4ec60027b8faffb1e97f3cb42022e80187b 34e8c57493a1b137f34fe45bf5ec555888ad8c3b M	src
bisect run success
[I]  ~ ÓÇ∞ workspace ÓÇ± jeroen.knoops ÓÇ± rust-example ÓÇ∞ ‚öì abc4c40 ÓÇ∞ ‚ùì ÓÇ∞ $ ÓÇ∞ git log
commit abc4c40d4a06711bab5039a2896db3f67d8ddd0e (HEAD, refs/bisect/bad)
Author: Jeroen Knoops &amp;lt;jeroen.knoops@gmail.com&amp;gt;
Date:   Sun Aug 12 17:03:29 2018 +0200

    Adds function &amp;#39;multiply&amp;#39; with a runnable example in the documentation

commit 2a5a0578f44883d360287fc771c9d1dd7cff4cd6 (refs/bisect/good-2a5a0578f44883d360287fc771c9d1dd7cff4cd6)
Author: Jeroen Knoops &amp;lt;jeroen.knoops@gmail.com&amp;gt;
Date:   Sun Aug 12 17:01:27 2018 +0200

    Adds readme.md

commit 3d75d3da596b4fced7c4e91b17c20b2b61d2c8c5
Author: Jeroen Knoops &amp;lt;jeroen.knoops@gmail.com&amp;gt;
Date:   Sun Aug 12 16:59:58 2018 +0200

    Adds travis-ci pipeline

commit 030b72500f08774b685c59c3e5ddd64afce432f1 (refs/bisect/good-030b72500f08774b685c59c3e5ddd64afce432f1)
Author: Jeroen Knoops &amp;lt;jeroen.knoops@gmail.com&amp;gt;
Date:   Sun Aug 12 16:58:49 2018 +0200

    Adds functions &amp;#39;add&amp;#39; and &amp;#39;substract&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Commit which introduced the bug:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/JeroenKnoops/rust-example/commit/abc4c40d4a06711bab5039a2896db3f67d8ddd0e&quot;&gt;https://github.com/JeroenKnoops/rust-example/commit/abc4c40d4a06711bab5039a2896db3f67d8ddd0e&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Created Refs:
&lt;a href=&quot;#&quot;&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 63.227783452502564%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACmElEQVQ4y3WTyW7jRhBA+cW55D/mFCC3ALkFyCGXIJutwcRWbA8ky9opipRE2ZK4ryIli4veFDU+JJmExENVd3UVaulWev0uq5nBQtPR3lgYS/TFCtUwub5qcdu+YzyeMlVnLGTfEHtDo5vmGnNlXuRKpHL3xw3DdofBXZf+SGUyNxjrM+bmCxsnwNxYmFtbdJ8X22Pnhmzd4GKz/YhknxGnGWmWE8QpykPr9hJweNdhvZizDx166oin6Zr5fIFn7TikKac8ozjkQCWc36i/QNHHM541A20y54f3KlcdnV7ve9qdH/mp3eeXrsqvjxq/9Rp0YcuHacRf+p4P2p6WmtKafuZaUNTBhOVUQ5PAP7c1Po41BsOveOh9ze/377jpf8vtoOEb2sPv+Dh75l51GJoJT2ZK/zlntDky2R4ZC8pKX2BIQFN6FwcuxzzGccbYuycCp0PsPxK6XXynSxqN2McOiZyLPEvsW/aRR55GOK6PKz1V1iuZjr5kt97wejox6g/48/0Nj48DpjOxvYRoC5vl2qWWtiXpnrmxYmlusL0ISwb1svOZLB1MW0q2dpZkY+E5DqeiYK0bLFWVMArx/QDH87EdF0/04/FAkiQEUUaSFcRC/lqTHyuOp2YooOw2WwLXk3IDMkm9cWoCN/L19cjhcCDLsss6z3NSmXhRnPj8nf/B+XxGseVCRhIwi2PJKmFjh5cLUNUVVSXUNbVQvVGLUy21l2JrqP4mGxRPephIWbmU0pRlScaJbckgPBlAIoOILjJLUqpTQV2UnMuG6gtK2Ve8pUl8cY7FOUWzR3Tta+b7CdvymU1hCusLzfq/2DXnSpNDmaO4C5PQdknCkCzcc+88cFW26JVP6Bj/4v9+eRjIK6syPgEkBr/GfePdRwAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/cc182/git-bisect-gitx.webp 148w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/f7e40/git-bisect-gitx.webp 295w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/1a2f4/git-bisect-gitx.webp 590w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/4837b/git-bisect-gitx.webp 885w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/2f819/git-bisect-gitx.webp 1180w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/799b2/git-bisect-gitx.webp 1770w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/b46ec/git-bisect-gitx.webp 1958w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/cf440/git-bisect-gitx.png 148w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/d2d38/git-bisect-gitx.png 295w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/b9e4f/git-bisect-gitx.png 590w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/f9b6a/git-bisect-gitx.png 885w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/2d849/git-bisect-gitx.png 1180w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/bbefa/git-bisect-gitx.png 1770w,
/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/11b4b/git-bisect-gitx.png 1958w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/a2c2f3ea72de114df2a5b04b7c6ed1d1/b9e4f/git-bisect-gitx.png&quot; alt=&quot;gitx&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;&lt;a href=&quot;#results&quot; aria-label=&quot;results permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Results&lt;/h2&gt;
&lt;p&gt;When implementing &lt;code class=&quot;language-text&quot;&gt;multiply&lt;/code&gt;, I‚Äôve accidentally broken the &lt;code class=&quot;language-text&quot;&gt;substract&lt;/code&gt; function.
Git bisect will also add refs so you can which commits have been tested.&lt;/p&gt;
&lt;p&gt;The correct implementation would be:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;rust&quot;&gt;&lt;pre class=&quot;language-rust&quot;&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;substract&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; i32&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; b&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; i32&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;-&gt;&lt;/span&gt; i32 &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    a &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt; b
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The test we‚Äôve written to find the bug can be renamed and also added to prevent this from happening again.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;This was a very simple test / bug to find. By doing a &lt;code class=&quot;language-text&quot;&gt;git blame&lt;/code&gt; on the line, we would found the same
error, but this is not always the case.
Imagine a website which overtime became very slow. Try to create a test which measures the performance of a certain
page. This test should fail when the performance is below a certain threshold. This can be a complete end-to-end test.
Now you will find the exact place where the introduction of a small stupid javascript library caused a big performance
problem.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[About the blog]]></title><description><![CDATA[The blogThe 040 code blog is an initiative from Developers that have a relation with the city Eindhoven, in the Netherlands. The name‚Ä¶]]></description><link>https://040code.github.io//about/about/</link><guid isPermaLink="false">https://040code.github.io//about/about/</guid><pubDate>Sun, 30 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;the-blog&quot;&gt;&lt;a href=&quot;#the-blog&quot; aria-label=&quot;the blog permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The blog&lt;/h1&gt;
&lt;p&gt;The 040 code blog is an initiative from Developers that have a relation with the city &lt;a href=&quot;https://www.thisiseindhoven.com/en&quot;&gt;Eindhoven&lt;/a&gt;, in the &lt;a href=&quot;https://www.youtube.com/watch?v=eE_IUPInEuc&quot;&gt;Netherlands&lt;/a&gt;. The name &lt;code class=&quot;language-text&quot;&gt;040&lt;/code&gt; points to area code used at the time we used the old landline for calling our friends and family.&lt;/p&gt;
&lt;p&gt;Articles on this blog are our ideas, experiments and opinion. For each blog post we make a nice picture from a place in Eindhoven that we like for some reason.&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;h1 id=&quot;credits&quot;&gt;&lt;a href=&quot;#credits&quot; aria-label=&quot;credits permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Credits&lt;/h1&gt;
&lt;p&gt;This blog is created with the &lt;a href=&quot;https://www.gatsbyjs.org/&quot;&gt;Gatsby&lt;/a&gt;, an awesome framework to create a static blog using &lt;a href=&quot;https://reactjs.org/&quot;&gt;React&lt;/a&gt; and &lt;a href=&quot;https://graphql.org/&quot;&gt;GraphQL&lt;/a&gt;. And to get even faster started we have based the blog on the React Starter &lt;a href=&quot;https://github.com/maxpou/gatsby-starter-morning-dew&quot;&gt;gatsby-starter-morning-dew&lt;/a&gt; &lt;/p&gt;</content:encoded></item><item><title><![CDATA[Full Stack Fest 2018]]></title><description><![CDATA[Full Stack Fest 2018This week we (Jeroen, Niek, Gertjan, Eric and Kike) are enjoying Full Stack Fest 2018 Barcelona,
a week-long full stack‚Ä¶]]></description><link>https://040code.github.io//2018-09-18-fsf-frontend/</link><guid isPermaLink="false">https://040code.github.io//2018-09-18-fsf-frontend/</guid><pubDate>Tue, 18 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;full-stack-fest-2018&quot;&gt;&lt;a href=&quot;#full-stack-fest-2018&quot; aria-label=&quot;full stack fest 2018 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Full Stack Fest 2018&lt;/h1&gt;
&lt;p&gt;This week we (Jeroen, Niek, Gertjan, Eric and Kike) are enjoying &lt;a href=&quot;https://2018.fullstackfest.com/&quot;&gt;Full Stack Fest 2018 Barcelona&lt;/a&gt;,
a week-long full stack development conference with a focus on solving current problems with new &amp;#x26; inspiring perspectives.&lt;/p&gt;
&lt;p&gt;This conference is split up in two parts. The first two days were focussed on Backend development. You can read our post about it &lt;a href=&quot;https://040code.github.io/2018/09/05/fsf-backend/&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this quite short blog we just summarizing briefly the talks for the second part, the front-end part. It‚Äôs  &lt;strong&gt;our opinion&lt;/strong&gt; about the talks. We have rated all talks, the rating is subjective as well.&lt;/p&gt;
&lt;p&gt;First of all we would like to thank &lt;a href=&quot;https://twitter.com/raganwald&quot;&gt;Reginald Braithwaite&lt;/a&gt; for hosting the sessions.&lt;/p&gt;
&lt;h2 id=&quot;day-one&quot;&gt;&lt;a href=&quot;#day-one&quot; aria-label=&quot;day one permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day one&lt;/h2&gt;
&lt;h3 id=&quot;building-peer-to-peer-apps-with-the-beaker-browser&quot;&gt;&lt;a href=&quot;#building-peer-to-peer-apps-with-the-beaker-browser&quot; aria-label=&quot;building peer to peer apps with the beaker browser permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building peer-to-peer apps with the Beaker Browser&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;dat://taravancil.com/about/&quot;&gt;Tara Vancil&lt;/a&gt;, during the backend days we already are informed about the lack of freedom is our social networks, and how this could be solved with decentralized social networks. Tara showed that the web has the same problem. Do you remember Geocities? Yepz these sites are gone. And deploying or customizing web apps is still hard. Would it not be great we can fix it just in the browser the app we loved the most. Tara showed how easy you can run, customize and deploy a decentralized web app.&lt;/p&gt;
&lt;h3 id=&quot;to-push-or-not-to-push---the-future-of-http2-server-push&quot;&gt;&lt;a href=&quot;#to-push-or-not-to-push---the-future-of-http2-server-push&quot; aria-label=&quot;to push or not to push   the future of http2 server push permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;To push, or not to push?! - The future of HTTP/2 server push&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Patrick Hamann &lt;a href=&quot;https://twitter.com/patrickhamann&quot;&gt;@patrickhamann&lt;/a&gt;, resource loading is still hard, performance in the browser is tightly coupled to latency, connection costs are high, and scipt execution is expensive. Patrick explained how to use resources wisely, make a difference between critical resources. resources in the users viewport, and non critical resources. By using preload, push and async push together with a strategy of critical resource a hugh step can be made for a high performing web app. See the slides &lt;a href=&quot;https://noti.st/patrickhamann/9GvEed/to-push-or-not-to-push&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;the-future-of-front-end-performance&quot;&gt;&lt;a href=&quot;#the-future-of-front-end-performance&quot; aria-label=&quot;the future of front end performance permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Future of Front-End Performance&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/thegreengreek&quot;&gt;Sia Karamalegos&lt;/a&gt;, a great talk on performance of the front-end. How much impact does it has on your business. Staggering numbers were shown about AliExpress load time reducing and how that correlates to an increase conversion for new customers.
Apps become bigger and bigger. Make sure you check your apps on size / speed by using tools like &lt;a href=&quot;https://webpagetest.org&quot;&gt;webpagetest.org&lt;/a&gt;. Optimize your images. Most of the web are images, but the most expensive bytes are javascript. Prioritize the code your shipping.
&lt;a href=&quot;https://speakerdeck.com/siakaramalegos/the-future-of-front-end-performance&quot;&gt;Slides&lt;/a&gt; and &lt;a href=&quot;https://github.com/siakaramalegos/sia_speaks&quot;&gt;more info&lt;/a&gt; are available.&lt;/p&gt;
&lt;h3 id=&quot;native-javascript-modules--import-browsers-nodejs-export-production&quot;&gt;&lt;a href=&quot;#native-javascript-modules--import-browsers-nodejs-export-production&quot; aria-label=&quot;native javascript modules  import browsers nodejs export production permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Native JavaScript modules- import {Browsers, NodeJs}; export {production};&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/malyw&quot;&gt;Serg Hospodarets&lt;/a&gt;, great news for modern JavaScript development. Most browsers now support Native JavaScript modules ESM. This will change our way we are bundling our JavaScript using Webpack, Rollup and other bundlers. It‚Äôs also available in node and the extensions is called Micheal Jackson Solution aka .mjs
Dynamically loading javascript modules in combination with HTTP/2 can save a lot of load time.
&lt;a href=&quot;https://slides.com/malyw/native-js-modules&quot;&gt;Simular slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;unity--html5--isomorphic-game-engine&quot;&gt;&lt;a href=&quot;#unity--html5--isomorphic-game-engine&quot; aria-label=&quot;unity  html5  isomorphic game engine permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Unity + HTML5 = Isomorphic Game Engine?&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Lerenzo Malcom &lt;a href=&quot;https://twitter.com/lerenzom&quot;&gt;@lerenzom&lt;/a&gt;, showed how to combine the world of Unity and the browser. Last year A-Frame was a big topic that address the same solution space but Lerenzo showed how to combine Unity in the browser instead of A-Frame. After discussing why unity and not A-Fram he spend attention how to setup bi-directional messaging, and finally gives some WebGL examples. Sorry we are not that AR/VR boys but with this talk Lerenzo did an awesome job, please see the slides (including animations) &lt;a href=&quot;https://docs.google.com/presentation/d/1LTNFqURDAeDYZTD3cjpZ3XMQoD8rDNm1Z4LEDuKo64o/edit&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;state-of-the-art-web-user-interfaces-with-state-machines&quot;&gt;&lt;a href=&quot;#state-of-the-art-web-user-interfaces-with-state-machines&quot; aria-label=&quot;state of the art web user interfaces with state machines permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;State of the Art Web User Interfaces with State Machines&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;David Khourshid (&lt;a href=&quot;https://twitter.com/davidkpiano&quot;&gt;@davidkpiano&lt;/a&gt;), the front end is complex, it is difficult to understand, difficult to read, contain bugs, hard to enhance and new features make it even worse. What if we model our front end as an finite state machine (FSM). Nothing new in Computer Science, states machines are already introduces in ‚Äúautomata theory‚Äù, Specifying a the front end action (flow) in a state machine increase the predictability and even make it possible to automate testing. Just calculate you the shortest path via Dijkstra algorithm. David showed his open source framework xstate which is available on &lt;a href=&quot;https://github.com/davidkpiano/xstate#readme&quot;&gt;GitHub&lt;/a&gt; and &lt;a href=&quot;https://www.npmjs.com/package/xstate&quot;&gt;npm&lt;/a&gt;. Slides are are &lt;a href=&quot;https://slides.com/davidkhourshid/statecharts-fsf&quot;&gt;here&lt;/a&gt; available&lt;/p&gt;
&lt;h3 id=&quot;a-front-end-devs-hobbyist-approach-into-machine-learning&quot;&gt;&lt;a href=&quot;#a-front-end-devs-hobbyist-approach-into-machine-learning&quot; aria-label=&quot;a front end devs hobbyist approach into machine learning permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;A Front-end dev‚Äôs hobbyist approach into Machine Learning&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/studioswong&quot;&gt;Susanna Wong&lt;/a&gt;, machine Learning is hard. It‚Äôs almost impossible to explain this in just one talk. Especially when you combine it with all kind of background information. We were very impressed by the architecture of the buildings, but unfortunately the talk was too much out of our reach.&lt;/p&gt;
&lt;h3 id=&quot;building-a-modern-memex&quot;&gt;&lt;a href=&quot;#building-a-modern-memex&quot; aria-label=&quot;building a modern memex permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Building a Modern Memex&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Andrew Louis &lt;a href=&quot;https://twitter.com/hyfen&quot;&gt;@hyfen&lt;/a&gt;, Imagine you can manage all your data with a single device‚Ä¶ An idea that goes back to the 1945 when Vanneva Bush discribed the &lt;a href=&quot;https://en.wikipedia.org/wiki/Memex&quot;&gt;Memex&lt;/a&gt;. Andrew build his own Memex and demo the awesome combination fo all the data he collected over the years. Absolutely crazy to see that he is able to search back in time which podcast he was listing when driving from A to B. To be able to combine all your data from Google, Spotifiy, Maps, Whatsapp and so on, probably you need a complex system. But Andrew handles it all just with Rails, Ember, Electron, Node and Postgres. And how cool it is all &lt;a href=&quot;https://hyfen.net/memex/&quot;&gt;open source&lt;/a&gt;. &lt;a href=&quot;https://speakerdeck.com/hyfen/building-a-modern-memex&quot;&gt;Slides&lt;/a&gt; are here.&lt;/p&gt;
&lt;h3 id=&quot;everything-in-sketchnotes&quot;&gt;&lt;a href=&quot;#everything-in-sketchnotes&quot; aria-label=&quot;everything in sketchnotes permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Everything in sketchnotes..&lt;/h3&gt;
&lt;p&gt;A big shoutout to Christin Westermann (&lt;a href=&quot;https://twitter.com/_c16n_&quot;&gt;@&lt;em&gt;c16n&lt;/em&gt;&lt;/a&gt;) for creating these sketchnotes!&lt;/p&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 75.1953125%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB1igOMf/EABcQAAMBAAAAAAAAAAAAAAAAAAABESH/2gAIAQEAAQUCmohUIqP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAAQMQD/2gAIAQEABj8CI3f/xAAbEAADAQADAQAAAAAAAAAAAAAAAREhMVGh8f/aAAgBAQABPyGKxEeiTocsdGluaR+z/9oADAMBAAIAAwAAABBzz//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EAB0QAQACAgIDAAAAAAAAAAAAAAEAESExQWFxodH/2gAIAQEAAT8Qy2a90Rq0SlqgZiC0uqJcoXwAi+oWhlty8zXQPj4n/9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/7939492cd776e600e6a708d894019b3b/cc182/fullstackfest-2018-05.webp 148w,
/static/7939492cd776e600e6a708d894019b3b/f7e40/fullstackfest-2018-05.webp 295w,
/static/7939492cd776e600e6a708d894019b3b/1a2f4/fullstackfest-2018-05.webp 590w,
/static/7939492cd776e600e6a708d894019b3b/4837b/fullstackfest-2018-05.webp 885w,
/static/7939492cd776e600e6a708d894019b3b/86447/fullstackfest-2018-05.webp 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/7939492cd776e600e6a708d894019b3b/8ee9c/fullstackfest-2018-05.jpg 148w,
/static/7939492cd776e600e6a708d894019b3b/ebbe7/fullstackfest-2018-05.jpg 295w,
/static/7939492cd776e600e6a708d894019b3b/c739e/fullstackfest-2018-05.jpg 590w,
/static/7939492cd776e600e6a708d894019b3b/5413e/fullstackfest-2018-05.jpg 885w,
/static/7939492cd776e600e6a708d894019b3b/1f853/fullstackfest-2018-05.jpg 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/7939492cd776e600e6a708d894019b3b/c739e/fullstackfest-2018-05.jpg&quot; alt=&quot;fullstackfest-2018-05&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 71.6796875%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAevKNA//xAAWEAEBAQAAAAAAAAAAAAAAAAABEAD/2gAIAQEAAQUChTf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAADAAMBAAAAAAAAAAAAAAAAAREhMWGh/9oACAEBAAE/IXVS3K9NBoS6VD//2gAMAwEAAgADAAAAEIPP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAAIDAQEAAAAAAAAAAAAAAQARITFBUWH/2gAIAQEAAT8QSK1y4CFjY2bEV9RFz7c0uBWqgXPyf//Z&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/cc0b6c768c218a58053f1fa4f69d18c0/cc182/fullstackfest-2018-06.webp 148w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/f7e40/fullstackfest-2018-06.webp 295w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/1a2f4/fullstackfest-2018-06.webp 590w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/4837b/fullstackfest-2018-06.webp 885w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/86447/fullstackfest-2018-06.webp 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/cc0b6c768c218a58053f1fa4f69d18c0/8ee9c/fullstackfest-2018-06.jpg 148w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/ebbe7/fullstackfest-2018-06.jpg 295w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/c739e/fullstackfest-2018-06.jpg 590w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/5413e/fullstackfest-2018-06.jpg 885w,
/static/cc0b6c768c218a58053f1fa4f69d18c0/1f853/fullstackfest-2018-06.jpg 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/cc0b6c768c218a58053f1fa4f69d18c0/c739e/fullstackfest-2018-06.jpg&quot; alt=&quot;fullstackfest-2018-06&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;h2 id=&quot;day-2&quot;&gt;&lt;a href=&quot;#day-2&quot; aria-label=&quot;day 2 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day 2&lt;/h2&gt;
&lt;h3 id=&quot;accessibility-vs-latest-web-apis-cant-we-just-get-along&quot;&gt;&lt;a href=&quot;#accessibility-vs-latest-web-apis-cant-we-just-get-along&quot; aria-label=&quot;accessibility vs latest web apis cant we just get along permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Accessibility vs latest Web APIs. Can‚Äôt we just get along?&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Mauricio Palma (&lt;a href=&quot;https://twitter.com/palmaswell&quot;&gt;@palmaswell&lt;/a&gt;) showed pasionated how important it is to make the web accessible for everyone, also for the ones with a disability. For example, he show cased how to use the Google speech API. A quote to remember from Maricio: ‚ÄúIf we use our own abilities as a baseline, we make things that are easy for some people to use, but difficult for everyone.‚Äù&lt;/p&gt;
&lt;h3 id=&quot;the-web-authentication-api---imagine-a-world-without-passwords&quot;&gt;&lt;a href=&quot;#the-web-authentication-api---imagine-a-world-without-passwords&quot; aria-label=&quot;the web authentication api   imagine a world without passwords permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Web Authentication API - Imagine a World Without Passwords&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;By Suby Raman (&lt;a href=&quot;https://twitter.com/@subyraman&quot;&gt;@subyraman&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Passwords were invented for a good reason. The world has changed and unfortunately, passwords are not sufficiently secure enough anymore. There are a lot of problems attached to the concept of passwords. The Web Authentication API allows us to authenticate our users using public key cryptography. This prevents malicious users to gain access to your data even if they have the public key. Modern computers have dedicated hardware to perform authentication, like touchID, faceID, camera‚Äôs, usb-tokens. This can now be used in our webapplications. This is very much in line with what we are want to achieve in our own &lt;a href=&quot;https://github.com/philips-software/cogito&quot;&gt;project&lt;/a&gt;. &lt;a href=&quot;https://bit.ly/suby-fsf&quot;&gt;Slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;killing-the-checkout-or-how-i-learned-to-stop-worrying-and-love-payment-request&quot;&gt;&lt;a href=&quot;#killing-the-checkout-or-how-i-learned-to-stop-worrying-and-love-payment-request&quot; aria-label=&quot;killing the checkout or how i learned to stop worrying and love payment request permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Killing the checkout or: How I learned to stop worrying and love Payment Request&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;As member of the W3C Web Payments Working Group, Krystian Czesak (&lt;a href=&quot;https://www.twitter.com/@krystostrerone&quot;&gt;@krystostrerone&lt;/a&gt;), is heavily involved in setting a web standard on Payment Requests. The Response code 402 Payment Required is already there for a long time, but is never implemented. Lots of attempts are made, but none of them succeeded till now.. Currently the checkout procedure on most applications is not so user friendly. The Web Payments is initiated to improve this user experience. All modern browsers support it. All information about you is stored in your browser and not on each page. There‚Äôs an API available to use that information, so the user only has to add the information once and it can be used in every application. Chrome even supports Interledger. The presentation has a lot of information how to implement a client for this. See the slides for more info. &lt;a href=&quot;https://speakerdeck.com/krystosterone/killing-the-checkout-or-how-i-learned-to-stop-worrying-and-love-payment-request&quot;&gt;Slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;a-real-world-pwa&quot;&gt;&lt;a href=&quot;#a-real-world-pwa&quot; aria-label=&quot;a real world pwa permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;A Real World PWA&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Zack Argyle, &lt;a href=&quot;https://twitter.com/ZackArgyle&quot;&gt;@ZackArgyle&lt;/a&gt; stared with the story of Pinterest and what will happen with your uses once you decide to make a blocking page and only support a app. Smoothly continuing with the story how important it is to have a reactive app and what that means. A progressive web app is according to Zack: ‚ÄúA site that utilizes progressive enhancements, meaning that modern browsers will get a better experience than older browsers‚Äù. He explained how he used the principle of the 3R‚Äôs to build a progressive app. By Reduce, make it light. Use for example &lt;a href=&quot;https://www.npmjs.com/package/webpack-bundle-analyzer&quot;&gt;the webpack analyzer&lt;/a&gt;. Reuse, caching, server workers. Cache via a worker is faster then the browser cache. And Review, measure performance! Slides are available &lt;a href=&quot;https://speakerdeck.com/zackargyle/a-real-world-pwa&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;purifying-typescript&quot;&gt;&lt;a href=&quot;#purifying-typescript&quot; aria-label=&quot;purifying typescript permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Purifying Typescript&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Timothy Clifford, &lt;a href=&quot;https://twitter.com/timothyclifford&quot;&gt;@timothyclifford&lt;/a&gt;. Cool to see that we can do functional programming with JavaScript a language written in 10 days back in 1995 an nowadays the most populair language. We really liked the talk and clear examples how to program functional with TypeScript in JavaScript. Maybe the talk was little to much basic introduction to functional programming, but Timothy succeeds in his mission statement: ‚ÄúUnderstand how to apply functional programming techniques with TypeScript‚Äù. &lt;a href=&quot;https://github.com/timothyclifford/purifying-typescript/raw/master/Functional%20Typescript%20-%20Tim%20Clifford.pdf&quot;&gt;Slides&lt;/a&gt; and &lt;a href=&quot;https://github.com/timothyclifford/purifying-typescript&quot;&gt;code&lt;/a&gt; are shared via GitHub.&lt;/p&gt;
&lt;h3 id=&quot;dynamic-css-layouts--beyond&quot;&gt;&lt;a href=&quot;#dynamic-css-layouts--beyond&quot; aria-label=&quot;dynamic css layouts  beyond permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Dynamic CSS: Layouts &amp;#x26; Beyond&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;This talk by -Tara Vancil-, I mean Miriam Suzanne (&lt;a href=&quot;https://twitter.com/mirisuzanne&quot;&gt;@mirisuzanne&lt;/a&gt;), was really fantastic. She integrated lots of photos from previous talks on the same day. But not only that was remarkable. The knowledge on CSS is outstanding. She showed us the history of how we used to do CSS, from tables to SASS, to flexbox and Houdini. But all of these methods needed some wicked tricks to work in some cases. Now there is something new and this is promising. CSS Grid. This is the future of layouts, so take a look at this. In the slides you will see several examples of how to use it. F.e. &lt;a href=&quot;https://gridbyexample.com/&quot;&gt;https://gridbyexample.com/&lt;/a&gt; and the the  &lt;a href=&quot;http://talks.oddbird.net/dynamic-css/fullstack18/&quot;&gt;Slides&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;lightning-talks&quot;&gt;&lt;a href=&quot;#lightning-talks&quot; aria-label=&quot;lightning talks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lightning talks&lt;/h3&gt;
&lt;p&gt;1
first one: @EleanorClarinet
Nice corrolation between learning music and learning to code.
Don‚Äôt be a ‚ÄúMozart pianist‚Äù, be a musician
Don‚Äôt be a ‚ÄúReact developer‚Äù, be an engineer&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.google.com/presentation/d/1Al7AUbzCwFW7qxi69DiWcpxbcKQOV29uxUDrbnhJD6c&quot;&gt;Slides&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;2
Isac. Rocket fuel for Ember.js and javascript teams.
Splanky about jazz shows in Smalls NYC.&lt;/p&gt;
&lt;p&gt;3
2013 it was already possible to do a lot of reactive stuff with imba.io&lt;/p&gt;
&lt;p&gt;4
Robert Nickel about Mob Programming.
We love Mob Programming, but it‚Äôs hard. See &lt;a href=&quot;https://docs.google.com/presentation/d/1HwfNfWzRSPMSIrTi41yRaRPme3xdI6dD18vwxi2kfJo/edit#slide=id.g40d1a107b1_0_138&quot;&gt;slides&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;5
Andreaverlicchie.eu
Better navigation in markup&lt;/p&gt;
&lt;p&gt;6
Berkay ‚Äî&gt; Sharing
How to share components between multiple react projects&lt;/p&gt;
&lt;h3 id=&quot;webxr-if-x--how&quot;&gt;&lt;a href=&quot;#webxr-if-x--how&quot; aria-label=&quot;webxr if x  how permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;WebXR, if X = how?&lt;/h3&gt;
&lt;p&gt;rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://twitter.com/diekus&quot;&gt;Diego Gonz√°lez&lt;/a&gt; and Indira Knight introduced Extended reality, XR or should we say AR + VR in the browser. Physical and virtual worlds are merging, XR is coming to the browser, and the browser is coming to XR devices. The frameworks ((A-Frame &amp;#x26;&amp;#x26; ThreeJS) || BabylonJS) &amp;#x26;&amp;#x26; WebGl where demoed in the browser, both in a 2d and 3d view. For more details see the &lt;a href=&quot;https://www.slideshare.net/DiegoGonzlezZiga/webxr-if-x-how&quot;&gt;slides&lt;/a&gt; for more references.&lt;/p&gt;
&lt;h2 id=&quot;thanks-to-codegram&quot;&gt;&lt;a href=&quot;#thanks-to-codegram&quot; aria-label=&quot;thanks to codegram permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thanks to Codegram&lt;/h2&gt;
&lt;p&gt;We would like to conclude our post with a big applause for &lt;a href=&quot;https://www.codegram.com/&quot;&gt;codegram&lt;/a&gt;, the Full Stack Fest was awesome again. Please never change the single track philosophy. And did we already mentioned the food is the best we ever had on a conference.&lt;/p&gt;
&lt;div style=&quot;position:relative; width:100%; height:0px; padding-bottom:56.25%;&quot;&gt;
    &lt;iframe  style=&quot;position:absolute; left:0; top:0; width:100%; height:100%&quot; src=&quot;https://www.youtube.com/embed/YIRvXmJyRxQ?list=PLe9psSNJBf75O6abYvvjxhm36_QU9H-f2?rel=0&quot;     
      frameborder=&quot;0&quot; allow=&quot;encrypted-media&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Full Stack Fest 2018]]></title><description><![CDATA[Full Stack Fest 2018This week we (Jeroen, Niek, Gertjan, Eric and Kike) are enjoying Full Stack Fest 2018 Barcelona,
a week-long full stack‚Ä¶]]></description><link>https://040code.github.io//2018-09-04-fsf-backend/</link><guid isPermaLink="false">https://040code.github.io//2018-09-04-fsf-backend/</guid><pubDate>Wed, 05 Sep 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;full-stack-fest-2018&quot;&gt;&lt;a href=&quot;#full-stack-fest-2018&quot; aria-label=&quot;full stack fest 2018 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Full Stack Fest 2018&lt;/h1&gt;
&lt;p&gt;This week we (Jeroen, Niek, Gertjan, Eric and Kike) are enjoying &lt;a href=&quot;https://2018.fullstackfest.com/&quot;&gt;Full Stack Fest 2018 Barcelona&lt;/a&gt;,
a week-long full stack development conference with a focus on solving current problems with new &amp;#x26; inspiring perspectives.&lt;/p&gt;
&lt;p&gt;In this quite short blog we just summarizing briefly the talks and &lt;strong&gt;our opinion&lt;/strong&gt; about the talks. We have rated all talks, the rating is subjective as well.&lt;/p&gt;
&lt;p&gt;This conference is split up in two parts. The first two days were focussed on Frontend development. You can read our post about it &lt;a href=&quot;https://040code.github.io/2018/09/18/fsf-frontend/&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;First of all we would like to thank &lt;a href=&quot;https://twitter.com/xbill82&quot;&gt;Luca Marchesini&lt;/a&gt; for hosting the sessions.&lt;/p&gt;
&lt;h2 id=&quot;day-one&quot;&gt;&lt;a href=&quot;#day-one&quot; aria-label=&quot;day one permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day one&lt;/h2&gt;
&lt;h3 id=&quot;reinvent-the-social-web&quot;&gt;&lt;a href=&quot;#reinvent-the-social-web&quot; aria-label=&quot;reinvent the social web permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reinvent the social web&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Andr√© Staltz (&lt;a href=&quot;https://twitter.com/andrestaltz&quot;&gt;@andrestaltz&lt;/a&gt;) explained the problems we have with the current generation of social networks. Are the realy open, free, innovative? Can we trust and respect people in the network. He explained passionated how we can change the future with decentralized networks such as &lt;a href=&quot;https://www.scuttlebutt.nz/&quot;&gt;scuttlebutt&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;open-gateway---decentralized-iot&quot;&gt;&lt;a href=&quot;#open-gateway---decentralized-iot&quot; aria-label=&quot;open gateway   decentralized iot permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Open Gateway - Decentralized IoT&lt;/h3&gt;
&lt;p&gt;Rating:&lt;/p&gt;
&lt;p&gt;Kalyan Dikshit (&lt;a href=&quot;https://twitter.com/decode_dev&quot;&gt;@decode_dev&lt;/a&gt;) presents about the open gateway initiative from Mozilla. Not our topic.&lt;/p&gt;
&lt;h3 id=&quot;build-and-deploy-a-blockchain-web-app-with-hyperledger-fabric-and-hyperledger-composer&quot;&gt;&lt;a href=&quot;#build-and-deploy-a-blockchain-web-app-with-hyperledger-fabric-and-hyperledger-composer&quot; aria-label=&quot;build and deploy a blockchain web app with hyperledger fabric and hyperledger composer permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Build and deploy a Blockchain web-app with Hyperledger Fabric and Hyperledger Composer&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Hyperledger is something we‚Äôre looking into right now, so this talk was very relevant. Horea Porutiu (&lt;a href=&quot;https://twitter.com/horeaporutiu&quot;&gt;@horeaporutiu&lt;/a&gt;) showed the basic things about hyperledger and that‚Äôs great for this audience. Great balance between technical information, examples and real applications of the chain. Their work with &lt;a href=&quot;https://www.brooklynroasting.com/&quot;&gt;Brooklyn Roasting Company&lt;/a&gt; was a good example how to use the blockchain. It shows an audit trail on your coffee.&lt;/p&gt;
&lt;h3 id=&quot;a-game-of-theories-why-languages-do-what-they-do&quot;&gt;&lt;a href=&quot;#a-game-of-theories-why-languages-do-what-they-do&quot; aria-label=&quot;a game of theories why languages do what they do permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;A Game of Theories: Why languages do what they do&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Rae Krantz (&lt;a href=&quot;https://twitter.com/rustbeltrae&quot;&gt;@rustbeltrae&lt;/a&gt;) quickly compared the ugly and beauty of Ruby, Python, Go, Clojure, JavaScript, Erlang, Rust and Elixir. Yeah we never will do Clojure and from tomorrow we only do Rust and Elixir. Awesome session. Best quote of the day: ‚ÄúJavaScript was written in the time of Netscape when Java was popular.‚Äù :)&lt;/p&gt;
&lt;h3 id=&quot;the-future-of-chatbots-in-the-travel-industry&quot;&gt;&lt;a href=&quot;#the-future-of-chatbots-in-the-travel-industry&quot; aria-label=&quot;the future of chatbots in the travel industry permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Future of ChatBots in the Travel Industry&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Prabh Simran Singh Baweja&lt;/p&gt;
&lt;p&gt;Designing a chatbot is not that easy as it sounds. ‚ÄúBook me a hotel for this weekend.‚Äù What kind of hotel? Where? Weekend, is it friday and saturnday or is it saturday and sunday? How to combine data in a good way so people are not annoyed. Nice insights on how bookings.com is building these bots.
Look at &lt;a href=&quot;https://speakerdeck.com/prabh27/the-future-of-chatbots-in-the-travel-industry&quot;&gt;his slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;avoiding-digital-bias&quot;&gt;&lt;a href=&quot;#avoiding-digital-bias&quot; aria-label=&quot;avoiding digital bias permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Avoiding Digital Bias&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Adam L Smith (&lt;a href=&quot;https://twitter.com/adamleonsmith&quot;&gt;@adamleonsmith&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;In modern worlds we use large datasets to tune our models. This is not without danger. Our datasets are often biased. Good tips on how to test if the models are digitally bias, by changing some of the fields like gender. Never use stock images. Nice example was shown if you google on CTO. This is not a good representation of the world. Enough food for thoughts!&lt;/p&gt;
&lt;h3 id=&quot;everything-i-always-wanted-to-know-about-crypto-but-never-thought-id-understand&quot;&gt;&lt;a href=&quot;#everything-i-always-wanted-to-know-about-crypto-but-never-thought-id-understand&quot; aria-label=&quot;everything i always wanted to know about crypto but never thought id understand permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Everything I always wanted to know about crypto, but never thought I‚Äôd understand&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Sasha Romijn (&lt;a href=&quot;https://twitter.com/mxsash&quot;&gt;@mxsash&lt;/a&gt;) gave a fast introduction to cryptographic basic concepts that every developer should know. Quote: ‚ÄúExport in cypher builder should ring an alarm bell‚Äù
A good overview of the magical world of Crypto. If you want to learn more about this, I would certainly recommend a free &lt;a href=&quot;https://www.coursera.org/learn/crypto&quot;&gt;coursera course on this topic&lt;/a&gt; given by Dan Boneh.&lt;/p&gt;
&lt;h3 id=&quot;onion-adventures-how-to-use-onion-services-and-the-tor-network-in-your-web-endeavors&quot;&gt;&lt;a href=&quot;#onion-adventures-how-to-use-onion-services-and-the-tor-network-in-your-web-endeavors&quot; aria-label=&quot;onion adventures how to use onion services and the tor network in your web endeavors permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Onion adventures: how to use onion services and the Tor network in your web endeavors&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Respect for Silvia Puglisi (&lt;a href=&quot;https://twitter.com/nopressure&quot;&gt;@nopressure&lt;/a&gt;) for giving this talk when she has the flu. Very good to see all the activity around Tor. Important to keep on bringing the message it‚Äôs not that obvious to have freedom of speech and expression. /me installing TOR.&lt;/p&gt;
&lt;h3 id=&quot;everything-in-sketchnotes&quot;&gt;&lt;a href=&quot;#everything-in-sketchnotes&quot; aria-label=&quot;everything in sketchnotes permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Everything in sketchnotes..&lt;/h3&gt;
&lt;p&gt;A big shoutout to Christin Westermann (&lt;a href=&quot;https://twitter.com/_c16n_&quot;&gt;@&lt;em&gt;c16n&lt;/em&gt;&lt;/a&gt;) for creating these sketchnotes!&lt;/p&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 78.80859375%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2ERS0Yv/xAAYEAACAwAAAAAAAAAAAAAAAAAAARAyQv/aAAgBAQABBQI1Csf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAABEAD/2gAIAQEABj8CzWf/xAAZEAACAwEAAAAAAAAAAAAAAAAAAREhMXH/2gAIAQEAAT8hbh0b1Flk3Kc8IN/BZcH/2gAMAwEAAgADAAAAEI/P/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAHRAAAgIBBQAAAAAAAAAAAAAAAREAITFRYYGh4f/aAAgBAQABPxBqBZVBY8gTV0VbCaSIQFuw7riDfGy6EcIovE//2Q==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/4057abb6191a311489b325f4862fca92/cc182/fullstackfest-2018-01.webp 148w,
/static/4057abb6191a311489b325f4862fca92/f7e40/fullstackfest-2018-01.webp 295w,
/static/4057abb6191a311489b325f4862fca92/1a2f4/fullstackfest-2018-01.webp 590w,
/static/4057abb6191a311489b325f4862fca92/4837b/fullstackfest-2018-01.webp 885w,
/static/4057abb6191a311489b325f4862fca92/86447/fullstackfest-2018-01.webp 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/4057abb6191a311489b325f4862fca92/8ee9c/fullstackfest-2018-01.jpg 148w,
/static/4057abb6191a311489b325f4862fca92/ebbe7/fullstackfest-2018-01.jpg 295w,
/static/4057abb6191a311489b325f4862fca92/c739e/fullstackfest-2018-01.jpg 590w,
/static/4057abb6191a311489b325f4862fca92/5413e/fullstackfest-2018-01.jpg 885w,
/static/4057abb6191a311489b325f4862fca92/1f853/fullstackfest-2018-01.jpg 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/4057abb6191a311489b325f4862fca92/c739e/fullstackfest-2018-01.jpg&quot; alt=&quot;fullstackfest-2018-01&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 73.33984375%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHZgQsGD//EABkQAAMAAwAAAAAAAAAAAAAAAAABERAhIv/aAAgBAQABBQI1YsdCs//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABkQAAIDAQAAAAAAAAAAAAAAAAAQMkFRof/aAAgBAQAGPwJUodMP/8QAGxAAAwADAQEAAAAAAAAAAAAAAAERIUGRMXH/2gAIAQEAAT8h3jBKCh5wKt7E7bbcFqa+D//aAAwDAQACAAMAAAAQAA//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhQTFRYZGx/9oACAEBAAE/EEpCAaqKWmGlx4jw+owWBQvcySL4JAw07N/J/9k=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/188ff07641625c468567eed2a11b504e/cc182/fullstackfest-2018-02.webp 148w,
/static/188ff07641625c468567eed2a11b504e/f7e40/fullstackfest-2018-02.webp 295w,
/static/188ff07641625c468567eed2a11b504e/1a2f4/fullstackfest-2018-02.webp 590w,
/static/188ff07641625c468567eed2a11b504e/4837b/fullstackfest-2018-02.webp 885w,
/static/188ff07641625c468567eed2a11b504e/86447/fullstackfest-2018-02.webp 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/188ff07641625c468567eed2a11b504e/8ee9c/fullstackfest-2018-02.jpg 148w,
/static/188ff07641625c468567eed2a11b504e/ebbe7/fullstackfest-2018-02.jpg 295w,
/static/188ff07641625c468567eed2a11b504e/c739e/fullstackfest-2018-02.jpg 590w,
/static/188ff07641625c468567eed2a11b504e/5413e/fullstackfest-2018-02.jpg 885w,
/static/188ff07641625c468567eed2a11b504e/1f853/fullstackfest-2018-02.jpg 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/188ff07641625c468567eed2a11b504e/c739e/fullstackfest-2018-02.jpg&quot; alt=&quot;fullstackfest-2018-02&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;h2 id=&quot;day-2&quot;&gt;&lt;a href=&quot;#day-2&quot; aria-label=&quot;day 2 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day 2&lt;/h2&gt;
&lt;h3 id=&quot;observability-for-emerging-infra-what-got-you-here-wont-get-you-there&quot;&gt;&lt;a href=&quot;#observability-for-emerging-infra-what-got-you-here-wont-get-you-there&quot; aria-label=&quot;observability for emerging infra what got you here wont get you there permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Observability for Emerging Infra: What Got You Here Won‚Äôt Get You There&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Charity Majors (&lt;a href=&quot;@https://twitter.com/mipsytipsy&quot;&gt;@mipsytipsy&lt;/a&gt;) gave a very good talk on how to look at current systems. In the current era, you cannot simply say: ‚ÄúOur application is up..‚Äù What does that mean? What‚Äôs up? Move away from the known-unknowns which can be monitored with dashboards, but look at the real problems users experience. Focus on the unknown-unknowns and make sure you can react and analyse your applications fast. Don‚Äôt aggregate data, because you will lose important details about problems. Come up with good sampling strategies. Build observability in from day one! Cool shirt, ‚ÄúI test in prod‚Äù. Quote: ‚ÄúWhat is unknown, we must leave uncoded.‚Äù&lt;/p&gt;
&lt;h3 id=&quot;do-you-need-a-service-mesh&quot;&gt;&lt;a href=&quot;#do-you-need-a-service-mesh&quot; aria-label=&quot;do you need a service mesh permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Do you need a Service Mesh?&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;A great presentation given by Matt Turner (&lt;a href=&quot;https://twitter.com/mt165pro&quot;&gt;@mt165pro&lt;/a&gt;) about Service Mesh. He demo-ed the principles of Service Mash by using &lt;a href=&quot;https://istio.io/&quot;&gt;istio.io&lt;/a&gt;. He used kubernetes to demo some of the configuration you can setup with only proxy-ing between different services. Very powerful concept. I‚Äôm wondering how this can be used in an infrastructure-as-code architecture.&lt;/p&gt;
&lt;h3 id=&quot;http-and-json-for-your-grpc-services&quot;&gt;&lt;a href=&quot;#http-and-json-for-your-grpc-services&quot; aria-label=&quot;http and json for your grpc services permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;HTTP and JSON for your gRPC Services&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Michael Hamrah (&lt;a href=&quot;https://twitter.com/mhamrah&quot;&gt;@mhamrah&lt;/a&gt;) gRPCed all the things. First feeling was Oh no we go to do again CORBA, and there are similairities between gRPC and CORBA. In this talk Michael explained how you can build high performance application and left the all the plumbing code to the gRPC framweork. Just simply define an interface via IDL and only take care of the real business code. It was also nice to see how you can combine gRPC via &lt;a href=&quot;https://github.com/google/rejoiner&quot;&gt;rejoiner&lt;/a&gt; with GraphQL. Slides are available &lt;a href=&quot;https://speakerdeck.com/mhamrah/grpc-all-the-things&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;software-engineering---a-philosophical-activity&quot;&gt;&lt;a href=&quot;#software-engineering---a-philosophical-activity&quot; aria-label=&quot;software engineering   a philosophical activity permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Software Engineering - A philosophical activity&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Tom Enden (&lt;a href=&quot;https://twitter.com/tom_enden&quot;&gt;@tom_enden&lt;/a&gt;): Did you know that Plato invented OOP and the Prototype pattern is inspired by Nominalism which also dates back to Plato. Tom showed the parallels between philosophy and software engineering. According the pragmatic programmer we should learn at least one language every year. Since different languages solved things in different ways. And Tractatus says the limits of my language means the limit of the world. So looking on philosophy we can inspire our selves for new ideas. &lt;a href=&quot;https://www.slideshare.net/TomEnden/software-engineering-as-a-philosophical-activity&quot;&gt;The slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;take-a-client-hint&quot;&gt;&lt;a href=&quot;#take-a-client-hint&quot; aria-label=&quot;take a client hint permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Take a (Client) Hint!&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Jeremy Wagner (&lt;a href=&quot;https://twitter.com/malchata&quot;&gt;@malchata&lt;/a&gt;) explained nicely the power of client hints. Having a fast internet and reliable internet connection is still not common. For example a survey by Pew Research shows that one-third of American adults do not subscribe to any internet access faster than dial-up at their home. So building responsive clients on slow or unreliable networks still counts. Client hints comes in different types. By opting in (header &lt;code class=&quot;language-text&quot;&gt;ACCEPT-CH&lt;/code&gt;) a client can inform that it understands client hints, Device hints enables for example responsive images and netwrok hints can inform the server about the speed of the network of the client. The slides are &lt;a href=&quot;https://jlwagner.net/talks/take-a-client-hint/&quot;&gt;here&lt;/a&gt; available.&lt;/p&gt;
&lt;h3 id=&quot;lost-in-transaction-strategies-to-deal-with-in-consistency-in-distributed-systems&quot;&gt;&lt;a href=&quot;#lost-in-transaction-strategies-to-deal-with-in-consistency-in-distributed-systems&quot; aria-label=&quot;lost in transaction strategies to deal with in consistency in distributed systems permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lost in transaction? Strategies to deal with (in-)consistency in distributed systems&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Bernd R√ºcker (&lt;a href=&quot;https://twitter.com/berndruecker&quot;&gt;@berndruecker&lt;/a&gt;) is a (work-)flow automation enthusiast. He explained the strategies to deal with the temporary inconsistency and how you can convert it to consistency again using the starbucks as example. One can use different approaches to it. Chorography vs orchestration.
These kind of problems can be solved by using a BPMN product like Camunda. System become complexer every day and this will become a bigger problem everyday. And what should we never forget: Zucchini and idempotency.&lt;/p&gt;
&lt;p&gt;This talk triggered a lot of thoughts for me personally. This is one of the areas where blockchain might actually solve things. Use smartcontracts to atomically commit transactions all at the same time. Fortunately he already wrote a blog post about the topic. Great speaker!
&lt;a href=&quot;https://blog.bernd-ruecker.com/&quot;&gt;Bernd Ruecker‚Äôs blog&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;lightning-talks&quot;&gt;&lt;a href=&quot;#lightning-talks&quot; aria-label=&quot;lightning talks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lightning talks&lt;/h3&gt;
&lt;p&gt;Antiona Librada (&lt;a href=&quot;https://twitter.com/antoniolibrada&quot;&gt;@antoniolibrada&lt;/a&gt;) showed us how he improved a complex ci build pipeline which took &gt; 45 minutes to run by using 2 lambdas and Amazon Code Build. The outcome was a more stable, cheaper and faster build pipeline. They increased the number of daily deployments drastically.&lt;/p&gt;
&lt;p&gt;Peter van der Meulen (&lt;a href=&quot;https://twitter.com/HendrikPetertje&quot;&gt;@HendrikPetertje&lt;/a&gt;) showed us his terminal. This shows again how important improving your daily workflow is. Some highights: Spotify in Vim, thefuck, circleci-cli, wee-slack. For more info: &lt;a href=&quot;https://git.picodevelopment.nl/explore/snippets&quot;&gt;snippets&lt;/a&gt; and &lt;a href=&quot;https://git.picodevelopment.nl/explore/projects&quot;&gt;projects&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Aaron Bassett (&lt;a href=&quot;https://twitter.com/aaronbassett&quot;&gt;@aaronbassett&lt;/a&gt;) showed us some amazing (and probably illegal) things about SMS. &lt;a href=&quot;https://speakerdeck.com/aaronbassett/stupid-and-possibly-illegal-stuff-you-can-do-with-sms-but-probably-shouldnt&quot;&gt;Here&lt;/a&gt; you can find his slides. Really scary.&lt;/p&gt;
&lt;p&gt;Two nice talks on our power as developers to shape the world. Let‚Äôs do this right this time.&lt;/p&gt;
&lt;h3 id=&quot;cats-the-musical-algorithmic-song-meow-ification&quot;&gt;&lt;a href=&quot;#cats-the-musical-algorithmic-song-meow-ification&quot; aria-label=&quot;cats the musical algorithmic song meow ification permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cats, The Musical! Algorithmic Song Meow-ification&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Awesome to see how Beth Haubert (&lt;a href=&quot;https://twitter.com/haubertdashery&quot;&gt;@haubertdashery&lt;/a&gt;) passionated hacked her way around to generated a cat meow song from songs using ruby. It was really fun to see, how the program evolved! Especially because at the end, the result was really terrible..&lt;/p&gt;
&lt;h3 id=&quot;everything-in-sketchnotes-1&quot;&gt;&lt;a href=&quot;#everything-in-sketchnotes-1&quot; aria-label=&quot;everything in sketchnotes 1 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Everything in sketchnotes..&lt;/h3&gt;
&lt;p&gt;A big shoutout to Christin Westermann &lt;a href=&quot;https://twitter.com/_c16n_&quot;&gt;@&lt;em&gt;c16n&lt;/em&gt;&lt;/a&gt; for creating these sketchnotes!&lt;/p&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 73.828125%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB2FriWRRH/8QAGBABAQEBAQAAAAAAAAAAAAAAAQIAMUH/2gAIAQEAAQUC9nmbc2xi13//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAEAAwEBAAAAAAAAAAAAAAAAAREyMYH/2gAIAQEABj8CeuMSzdsS/8QAGxAAAwEBAAMAAAAAAAAAAAAAAAERITFxgZH/2gAIAQEAAT8hxNFBtTlGKY+CtdPaJiuz40KbDy0f/9oADAMBAAIAAwAAABDgL//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAAIDAQEBAAAAAAAAAAAAAAERACExYUGh/9oACAEBAAE/EAACQOiKSZAzbhAgbXsLYd6BvuxRPCgr6YcgK8a+Gf/Z&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/8546d31b4afde071d50820766c85c7f6/cc182/fullstackfest-2018-03.webp 148w,
/static/8546d31b4afde071d50820766c85c7f6/f7e40/fullstackfest-2018-03.webp 295w,
/static/8546d31b4afde071d50820766c85c7f6/1a2f4/fullstackfest-2018-03.webp 590w,
/static/8546d31b4afde071d50820766c85c7f6/4837b/fullstackfest-2018-03.webp 885w,
/static/8546d31b4afde071d50820766c85c7f6/86447/fullstackfest-2018-03.webp 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/8546d31b4afde071d50820766c85c7f6/8ee9c/fullstackfest-2018-03.jpg 148w,
/static/8546d31b4afde071d50820766c85c7f6/ebbe7/fullstackfest-2018-03.jpg 295w,
/static/8546d31b4afde071d50820766c85c7f6/c739e/fullstackfest-2018-03.jpg 590w,
/static/8546d31b4afde071d50820766c85c7f6/5413e/fullstackfest-2018-03.jpg 885w,
/static/8546d31b4afde071d50820766c85c7f6/1f853/fullstackfest-2018-03.jpg 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/8546d31b4afde071d50820766c85c7f6/c739e/fullstackfest-2018-03.jpg&quot; alt=&quot;fullstackfest-2018-03&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 74.609375%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHWKSUIX//EABgQAAMBAQAAAAAAAAAAAAAAAAABERAh/9oACAEBAAEFAoqIjziP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAwEBAAAAAAAAAAAAAAAAABAxASH/2gAIAQEABj8CmKKHT//EABoQAQADAAMAAAAAAAAAAAAAAAEAESFBgaH/2gAIAQEAAT8hrQF1CtryATROSojtQOGGf//aAAwDAQACAAMAAAAQT8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFR/9oACAEBAAE/EMYF8EQAAtuofLG+pcSvO96bEqQF+lw1Us5rP//Z&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/372f789c65751ab2e73b27d9f42bccc4/cc182/fullstackfest-2018-04.webp 148w,
/static/372f789c65751ab2e73b27d9f42bccc4/f7e40/fullstackfest-2018-04.webp 295w,
/static/372f789c65751ab2e73b27d9f42bccc4/1a2f4/fullstackfest-2018-04.webp 590w,
/static/372f789c65751ab2e73b27d9f42bccc4/4837b/fullstackfest-2018-04.webp 885w,
/static/372f789c65751ab2e73b27d9f42bccc4/86447/fullstackfest-2018-04.webp 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/372f789c65751ab2e73b27d9f42bccc4/8ee9c/fullstackfest-2018-04.jpg 148w,
/static/372f789c65751ab2e73b27d9f42bccc4/ebbe7/fullstackfest-2018-04.jpg 295w,
/static/372f789c65751ab2e73b27d9f42bccc4/c739e/fullstackfest-2018-04.jpg 590w,
/static/372f789c65751ab2e73b27d9f42bccc4/5413e/fullstackfest-2018-04.jpg 885w,
/static/372f789c65751ab2e73b27d9f42bccc4/1f853/fullstackfest-2018-04.jpg 1024w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/jpeg&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/372f789c65751ab2e73b27d9f42bccc4/c739e/fullstackfest-2018-04.jpg&quot; alt=&quot;fullstackfest-2018-04&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;img src=&quot;./fullstackfest-2018-05.jpg&quot; alt=&quot;fullstackfest-2018-05&quot; width=&quot;100%&quot;&gt;</content:encoded></item><item><title><![CDATA[Maze Generation]]></title><description><![CDATA[IntroductionDuring my summer holiday, in between long walks and nice food & drinks, I felt
like writing some code for fun. Unfortunately, I‚Ä¶]]></description><link>https://040code.github.io//2018-08-22-mazes/</link><guid isPermaLink="false">https://040code.github.io//2018-08-22-mazes/</guid><pubDate>Wed, 22 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#introduction&quot; aria-label=&quot;introduction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;During my summer holiday, in between long walks and nice food &amp;#x26; drinks, I felt
like writing some code for fun. Unfortunately, I didn‚Äôt bring my laptop.
Luckily, &lt;a href=&quot;https://twitter.com/mfikes&quot;&gt;Mike Fikes&lt;/a&gt; created a &lt;a href=&quot;https://itunes.apple.com/us/app/replete/id1013465639&quot;&gt;ClojureScript REPL
for mobile devices&lt;/a&gt; to
write some Clojure(script) without a laptop close at hand.&lt;/p&gt;
&lt;p&gt;A REPL, or a Read Eval Print Loop, reads your input, evaluates it, prints the
result and waits for new inputs to read. In the meantime, the code you wrote
lives in REPL memory. So if I define a function in the REPL, it will be read and
evaluated and in my next input I can call this function, because it lives in
REPL space.&lt;/p&gt;
&lt;p&gt;So, back to this REPL on my phone. Permanently saving work is not possible in
this REPL, there are no debugging capabilities, no code completion, no test
runners ‚Ä¶ just a REPL: 35 characters wide in portrait mode, 79 characters wide
in landscape mode. To give you an idea of my ‚ÄòIntegrated Development
Environment‚Äô and the resulting mazes, I recorded a 30 seconds screen cast:&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://player.vimeo.com/video/286153487&quot; frameborder=&quot;0&quot; webkitallowfullscreen mozallowfullscreen allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;p&gt;At home, I created a gist containing all 70 lines of &lt;a href=&quot;https://gist.github.com/mmzsource/ee88b93a3829f98fcb6188f2f2162fcf&quot;&gt;maze
code&lt;/a&gt; (56
lines according to the command-line tool cloc). In this blog I‚Äôm going to explain
the concepts and code.&lt;/p&gt;
&lt;h2 id=&quot;grids-cells-and-neighbours&quot;&gt;&lt;a href=&quot;#grids-cells-and-neighbours&quot; aria-label=&quot;grids cells and neighbours permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Grids, Cells and Neighbours&lt;/h2&gt;
&lt;p&gt;First of all, we‚Äôll need a grid and a coordinate system to point to individual
cells in the grid. The reason is that most maze generators expect to be able to
traverse a grid and lookup information about cells and neighbours of cells.&lt;/p&gt;
&lt;p&gt;A grid can be modeled as a vector of vectors, representing rows and columns:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; grid
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A cell can be pinpointed by its [row col] coordinate which matches perfectly
with the &lt;code class=&quot;language-text&quot;&gt;get-in&lt;/code&gt; function in clojure. This &lt;code class=&quot;language-text&quot;&gt;get-in&lt;/code&gt; function is used to find
items in nested data structures. For instance, &lt;code class=&quot;language-text&quot;&gt;(get-in grid [2 1])&lt;/code&gt; will result
in the value &lt;code class=&quot;language-text&quot;&gt;8&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;To find the neighbours of a cell, I created a couple of helper functions:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; north-of &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;dec&lt;/span&gt; row&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; south-of &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;inc&lt;/span&gt; row&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; west-of  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;dec&lt;/span&gt; col&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; east-of  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;inc&lt;/span&gt; col&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The function argument is destructured (taken apart and named) and the
&lt;code class=&quot;language-text&quot;&gt;north-of&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;south-of&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;west-of&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;east-of&lt;/code&gt; neighbour coordinate is
calculated by &lt;code class=&quot;language-text&quot;&gt;inc&lt;/code&gt;rementing or &lt;code class=&quot;language-text&quot;&gt;dec&lt;/code&gt;rementing the row or column number. For
instance, &lt;code class=&quot;language-text&quot;&gt;(north-of [1 1])&lt;/code&gt; results in the value &lt;code class=&quot;language-text&quot;&gt;[0 1]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Using the &lt;code class=&quot;language-text&quot;&gt;juxt&lt;/code&gt; function we can now calculate all neighbours in one go. &lt;code class=&quot;language-text&quot;&gt;juxt&lt;/code&gt;
takes a variable number of functions as arguments and returns a new function.
This new function returns a vector containing the result of applying each
function to the arguments provided. So for instance &lt;code class=&quot;language-text&quot;&gt;((juxt north-of south-of
west-of east-of) [1 1])&lt;/code&gt; results in the value &lt;code class=&quot;language-text&quot;&gt;[[0 1] [2 1] [1 0] [1 2]]&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Unfortunately, these functions don‚Äôt care about the grid. &lt;code class=&quot;language-text&quot;&gt;((juxt north-of
south-of west-of east-of) [0 0])&lt;/code&gt; will happily return &lt;code class=&quot;language-text&quot;&gt;[[-1 0] [1 0] [0 -1] [0
1]]&lt;/code&gt; containing cell coordinates inside AND outside the grid. Therefore, in
order to calculate all neighbours &lt;strong&gt;in&lt;/strong&gt; the grid, we need to filter out the
ones that are not part of the grid. This results in the following &lt;code class=&quot;language-text&quot;&gt;neighbours&lt;/code&gt;
function:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; neighbours &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;grid cell&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;filter&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-in grid %&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;juxt north-of south-of west-of east-of&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;mazes-and-cells&quot;&gt;&lt;a href=&quot;#mazes-and-cells&quot; aria-label=&quot;mazes and cells permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mazes and Cells&lt;/h2&gt;
&lt;p&gt;Now working with the grid is easy, let‚Äôs move on to the maze. A maze is
basically a grid, augmented with some information to determine if borders
between cells are open or closed. That information can be easily stored in the
cells themselves.&lt;/p&gt;
&lt;p&gt;I liked the approach &lt;a href=&quot;http://fn-code.blogspot.com/2015/04/a-maze-ing-mazes-with-clojure.html&quot;&gt;Mark
Bastian&lt;/a&gt;
took: in a cell, simply list the coordinates of neighbours the cell is connected
to. We can even list the coordinates in a set &lt;code class=&quot;language-text&quot;&gt;#{}&lt;/code&gt;, since duplicating neighbour
coordinates is useless. A 2x2 ‚Äòmaze‚Äô with all borders closed looks like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A 2x2 ‚Äòmaze‚Äô with an open border between the 2 cells on the left looks like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The two connected cells reference each other. It would be convenient to have a
function that updates the grid when a border needs to be removed between 2
cells:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; remove-border &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;grid &lt;span class=&quot;token number&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;c2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&lt;/span&gt; grid
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;update-in &lt;span class=&quot;token number&quot;&gt;c1&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;c2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;update-in &lt;span class=&quot;token number&quot;&gt;c2&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;c1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;maze-generation&quot;&gt;&lt;a href=&quot;#maze-generation&quot; aria-label=&quot;maze generation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maze Generation&lt;/h2&gt;
&lt;p&gt;Now it‚Äôs time for the maze generation. Luckily I had a copy of the &lt;a href=&quot;https://www.amazon.com/Mazes-Programmers-Twisty-Little-Passages/dp/1680500554&quot;&gt;‚ÄòMazes for
Programmers
book‚Äô&lt;/a&gt;
on my phone. Because I like the texture of the mazes coming out of the recursive
backtracker algorithm, I decided to implement that one.&lt;/p&gt;
&lt;p&gt;The algorithm can start on any cell on the grid and I decided to start on &lt;code class=&quot;language-text&quot;&gt;[0
0]&lt;/code&gt; every single time. Every cell that is visited by the algorithm is pushed on
a stack which I have called the &lt;code class=&quot;language-text&quot;&gt;backtrackstack&lt;/code&gt;. The cell on top of the stack
is considered the current cell.&lt;/p&gt;
&lt;p&gt;From the current cell, a path is created (&lt;code class=&quot;language-text&quot;&gt;remove-border&lt;/code&gt;) to a randomly
selected, previously unvisited neighbour. An unvisited neighbour can easily be
detected, since it‚Äôs simply an empty set &lt;code class=&quot;language-text&quot;&gt;#{}&lt;/code&gt;. That previously unvisited cell
(&lt;code class=&quot;language-text&quot;&gt;next&lt;/code&gt; in my code) is also pushed unto the stack. This process repeats
continuously until a cell is visited that has no unvisited neighbours. At that
point, that dead-end cell is popped of the stack, making the previous cell the
current cell. Again, the algorithm will check if this cell has unvisited
neighbours and will either create a path to that unvisited neighbour or pop
another cell from the &lt;code class=&quot;language-text&quot;&gt;backtrackstack&lt;/code&gt;. This will continue until every cell has
been visited and the &lt;code class=&quot;language-text&quot;&gt;backtrackstack&lt;/code&gt; is empty.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; find-unvisited-neighbours &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;grid cell&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;n &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;neighbours grid cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;filter&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;empty? &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-in grid %&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; n&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; generate-maze &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;rows cols&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;loop&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;maze           &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;create-grid rows cols&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
         backtrackstack &apos;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;empty? backtrackstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;print-maze maze&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;unvn &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;find-unvisited-neighbours maze &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;first&lt;/span&gt; backtrackstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;empty? unvn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;recur&lt;/span&gt; maze &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;rest&lt;/span&gt; backtrackstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;rand-nth unvn&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;recur&lt;/span&gt;
             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;remove-border maze &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;first&lt;/span&gt; backtrackstack&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; backtrackstack &lt;span class=&quot;token keyword&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Fingers crossed:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generate-maze &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generate-maze &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

 &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generate-maze &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;#&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; #&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nice! Now the only thing left is printing a more human friendly view of this
maze.&lt;/p&gt;
&lt;h2 id=&quot;maze-printing&quot;&gt;&lt;a href=&quot;#maze-printing&quot; aria-label=&quot;maze printing permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Maze Printing&lt;/h2&gt;
&lt;p&gt;First, the top of the maze is printed:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;+---+---+---+&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, for every row the left border is printed &lt;code class=&quot;language-text&quot;&gt;|&lt;/code&gt; and 2 passes over the cells
have to be made. The first pass determines if there should be a border between
the current cell and its &lt;code class=&quot;language-text&quot;&gt;east-of&lt;/code&gt; neighbour, resulting in something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;+---+---+---+---+
|           |   |&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The second pass over the row adds a &lt;code class=&quot;language-text&quot;&gt;+&lt;/code&gt; and then determines if there should be a
border between the current cell and its &lt;code class=&quot;language-text&quot;&gt;south-of&lt;/code&gt; neighbour, for instance
resulting in this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;+---+---+---+---+
|           |   |
+---+---+   +   +&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After repeating this for all rows, a maze like this is printed:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;+---+---+---+---+
|           |   |
+---+---+   +   +
|       |       |
+   +   +---+   +
|   |       |   |
+   +---+   +   +
|       |       |
+---+---+---+---+&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; east-open-border? &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;maze cell&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;contains?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-in maze &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;east-of cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; south-open-border? &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;maze cell&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;contains?&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-in maze &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;south-of cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; print-cell-body &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;maze cell&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;east-open-border? maze cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;    &quot;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;   |&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; print-cell-bottom &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;maze cell&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;south-open-border? maze cell&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;   +&quot;&lt;/span&gt;
    &lt;span class=&quot;token string&quot;&gt;&quot;---+&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; print-maze &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;maze&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;result &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;atom &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        rows   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;count&lt;/span&gt; maze&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        cols   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;get-in maze &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! result &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;+&quot;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;repeat&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;count&lt;/span&gt; cols&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;---+&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;doseq&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row rows&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! result &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;|&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;doseq&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;col cols&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! result &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;print-cell-body maze &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! result &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;+&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;doseq&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;col cols&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! result &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;print-cell-bottom maze &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;row col&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;swap! result &lt;span class=&quot;token keyword&quot;&gt;conj&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;println&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;s/&lt;span class=&quot;token keyword&quot;&gt;join&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;flatten @result&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Finally, we can print all the mazes we want:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generate-maze &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

+---+---+---+---+
|   |           |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+
|   |   |       |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |       |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|       |       |
+---+---+---+---+

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generate-maze &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

+---+---+---+---+
|       |       |
+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |   |   |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |       |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|               |
+---+---+---+---+

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;generate-maze &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+
|   |               |   |       |                   |       |           |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |   |   |   |   |   |   |       |   |   |           |           |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+---+---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|       |   |       |   |   |           |           |   |           |   |
+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |       |   |       |   |   |       |   |       |       |           |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   +---+   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|           |   |   |   |       |   |           |   |   |   |   |   |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   +---+---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |           |   |       |       |   |           |   |       |   |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+---+---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|   |   |               |   |       |   |       |   |       |   |   |   |
&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   +---+   +---+---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   +---+   +---+   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;   &lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
|               |                   |           |                   |   |
+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+---+&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;So there you have it: a maze generator in ~ 30 lines of code with a 30 lines of
code ascii view on top of it, build with nothing but a REPL on a phone. I really
enjoyed the puzzle and the small (and large) successes while working in the
REPL. I hope you enjoyed this recap.&lt;/p&gt;
&lt;p&gt;I‚Äôd like to thanks &lt;a href=&quot;https://twitter.com/mfikes&quot;&gt;Mike Fikes&lt;/a&gt; for his excellent
ClojureScript REPL, &lt;a href=&quot;https://twitter.com/mark_bastian&quot;&gt;Mark Bastian&lt;/a&gt; for the
inspiration for the maze data structure, &lt;a href=&quot;https://twitter.com/jamis&quot;&gt;Jamis Buck&lt;/a&gt;
for his lovely ‚ÄòMazes for programmers‚Äô book and &lt;a href=&quot;https://twitter.com/gertgoet&quot;&gt;Gert
Goet&lt;/a&gt; for reviewing an earlier version of this
blog. Faults and not-so-idiomatic Clojure code remaining are my own.&lt;/p&gt;
&lt;p&gt;Back home, I‚Äôm happy to be working in Emacs with the excellent Clojure CIDER
plugin again. Which reminds me that during my holiday I visited a picturesque
CIDER factory in France. Cheers!&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 73.52941176470587%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAAD70lEQVQ4yzWS60+TZxiH+x8s+2DMEmIWt6nLXHQbDhUP25LBptM5RhzCICClQqCAICMecGzKSapOCAwEUQ6VIgeLsgTB00TAUqCUlh4olIIT5ViKMJd9ufa8xX345Xfdh/e5n+fOKytJP8D1fAXqPLlXEte8ZvW5GGpyDlOtUqIu+ElwFNW50dTkipzE2UKiXpUVSeWZCIrT9iHTFCQxM29jZs7C1OwQ08IlnhYsxXNuK66nBpzj/czOW735/zU1YxZuFv1DTL4wck0MEAcmM+tx4Hk5zKKkJQfuRYkdXp732EXNwdLyiJe9taXX/cLnFuxCw2K4hcqcaGQNxanMioTR3kePWc8DfTd91l76hXotvRhsfXQO6NAP6bE6B3gsWGfq8fZ3GnVMTJpwi0HSa6qkAxuLU8QEB5ZRA0NCJoeB4fFBBoUb7P2MPjWJ2Ih1bIDxSbM3truM2MaM3t7nMxZm3Xav1+TFIKsvTGZGJNweG57FFZ9zW7y+ICZLO5RYuoW0w3n3St/LZWktVubmLSwt2VhetqFRxazc8OUrF56lUSanrKLRxat/n7GwOCr2JXb3j4sFUZtfHGHx7zE8YpcvpocZmRjD8dck3QNm2vUu6u67aLmpRdZyvYhu3RM6Oh5wU6tF26wlL19FT283NquO++0N3L3XTFdnK10dLei679DV9YjgH6KIUmYTl9XMoRwzmicwbLMjqyjMJTY2EUW0nJjD0Rz8PojAwEA0dXXUV10kbP8nyIO2c1IeQHjARuR7/WhuqOfgdwHs2u2P75Zd7AuOxGiy8ri9Gdm1S5kcTUogNT6KjLQEUpQKIkKCKCu9jP5PDVdURzgeu4cTym+JD9lKSIAv2no12z/3Zc2Gt1m3aQMbNr8vtImzmenIKn/LICVRSXx0KCfSlGQcT2X/3q8pKirm0e1qMo+JQSmhpCccQKX8gprCo7Ror/PeB+t55921+PisYdVqH95YtZpjybHIqi+dIlGpZO9XX7Jnhy9hn33ExvXryMrKwtR5hzRlNKHBgfh9uJZvdm9B115D220NOwT7b/uYbZ/6sXmzL1t9t3EqNQmZuuAkCoV45o+HiDoUTFxYEBHh4Wg0tVy9qkZxRElY0B7Wv/Umqp+TMD1soqP9Fn0D4j8dNNGpN2Ew2XA4xxkyGZHd+D0T58RzxicmsI24cI65eP5sAueIXXxgZdDqxGA003b3IdYhM7Mz07Q2XqWpLIc/qs5z60o2zWW/0lRymtoLKcgupgZRpUpFfT6ZirMKyn+JpPx0GKrkA9SW5tJ2o4S2+lLuNpZxr/EyrfXlVJyRc06+lXMx/uQr/Dkft5N8wRfidvMfDMdw5XDeQYkAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/1e404e8ffcec755960604bc6e57072cc/cc182/CIDER.webp 148w,
/static/1e404e8ffcec755960604bc6e57072cc/f7e40/CIDER.webp 295w,
/static/1e404e8ffcec755960604bc6e57072cc/1a2f4/CIDER.webp 590w,
/static/1e404e8ffcec755960604bc6e57072cc/4837b/CIDER.webp 885w,
/static/1e404e8ffcec755960604bc6e57072cc/2f819/CIDER.webp 1180w,
/static/1e404e8ffcec755960604bc6e57072cc/bdd6f/CIDER.webp 1360w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/1e404e8ffcec755960604bc6e57072cc/cf440/CIDER.png 148w,
/static/1e404e8ffcec755960604bc6e57072cc/d2d38/CIDER.png 295w,
/static/1e404e8ffcec755960604bc6e57072cc/b9e4f/CIDER.png 590w,
/static/1e404e8ffcec755960604bc6e57072cc/f9b6a/CIDER.png 885w,
/static/1e404e8ffcec755960604bc6e57072cc/2d849/CIDER.png 1180w,
/static/1e404e8ffcec755960604bc6e57072cc/2f8d2/CIDER.png 1360w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/1e404e8ffcec755960604bc6e57072cc/b9e4f/CIDER.png&quot; alt=&quot;CIDER factory&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Please share your comments, suggestions and thoughts about this blog post on
&lt;a href=&quot;https://twitter.com/mmz_&quot;&gt;twitter.com/mmz_&lt;/a&gt;. Thanks for reading and Happy
Coding!&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;&lt;a href=&quot;#links&quot; aria-label=&quot;links permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.amazon.com/Mazes-Programmers-Twisty-Little-Passages/dp/1680500554&quot;&gt;‚ÄòMazes for Programmers
book‚Äô&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://itunes.apple.com/us/app/replete/id1013465639&quot;&gt;ClojureScript REPL
for mobile devices&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/mmzsource/ee88b93a3829f98fcb6188f2f2162fcf&quot;&gt;Maze generation
code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://clojure.org/guides/repl/introduction&quot;&gt;Excellent ‚ÄòProgramming at the REPL‚Äô
documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Microhack Brew your code]]></title><description><![CDATA[Working on a Mac made my work a lot more fun. Especially when I was introduced to homebrew, the missing package manager for macOS.MacPorts‚Ä¶]]></description><link>https://040code.github.io//2018-08-08-brew-some-code/</link><guid isPermaLink="false">https://040code.github.io//2018-08-08-brew-some-code/</guid><pubDate>Wed, 08 Aug 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Working on a Mac made my work a lot more fun. Especially when I was introduced to &lt;a href=&quot;https://brew.sh/&quot;&gt;homebrew&lt;/a&gt;, the missing package manager for macOS.&lt;/p&gt;
&lt;p&gt;MacPorts was fine, but it felt clumsy. Every tool seems to be switched to Homebrew and life was good.. Except when you encounter that one tool you need but is not available in brew‚Ä¶&lt;/p&gt;
&lt;h2 id=&quot;meet-gits&quot;&gt;&lt;a href=&quot;#meet-gits&quot; aria-label=&quot;meet gits permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Meet Gits&lt;/h2&gt;
&lt;p&gt;An example of this is the great shell script made by Roy Lines: &lt;a href=&quot;https://github.com/roylines/gits&quot;&gt;gits&lt;/a&gt;.
A shell script to share contribution between two git accounts when pair programming.&lt;/p&gt;
&lt;p&gt;Unfortunately you have to install it by getting a remote bash script and add it in your /usr/local/bin directory with root rights.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ sudo wget https://raw.github.com/roylines/gits/master/gits.sh -O /usr/local/bin/gits
$ sudo chmod ugo+x /usr/local/bin/gits
$ gits&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When I see something like this, it‚Äôs another hurdle for using great scripts. It‚Äôs a good practice to check these scripts, before putting them into your bash with execution rights. Sometimes, I‚Äôm to lazy to do that..
Also I always tend to forget these scripts, so they are never updated and never removed. Your system becomes a mess.&lt;/p&gt;
&lt;p&gt;More people did not like that. An &lt;a href=&quot;https://github.com/roylines/gits/issues/6&quot;&gt;issue&lt;/a&gt; was raised with a question whether it could be installed with homebrew..&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;How can it install it on mac? I would prefer to use homebrew.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Well, let‚Äôs help Adam!&lt;/p&gt;
&lt;h2 id=&quot;create-our-own-tap&quot;&gt;&lt;a href=&quot;#create-our-own-tap&quot; aria-label=&quot;create our own tap permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create our own tap&lt;/h2&gt;
&lt;h3 id=&quot;correct-format&quot;&gt;&lt;a href=&quot;#correct-format&quot; aria-label=&quot;correct format permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Correct format&lt;/h3&gt;
&lt;p&gt;First step is to change the structure of your script so it can be used for brew.
Scripts need to be in the &lt;code class=&quot;language-text&quot;&gt;bin/&lt;/code&gt; directory so that is the first thing we need to do.&lt;/p&gt;
&lt;p&gt;Simply moving the script to the &lt;code class=&quot;language-text&quot;&gt;bin&lt;/code&gt; directory..&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/JeroenKnoops/gits/commit/4de9197fe1e24b751af2a1fe214b4259bf256c49&quot;&gt;https://github.com/JeroenKnoops/gits/commit/4de9197fe1e24b751af2a1fe214b4259bf256c49&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;release-the-script&quot;&gt;&lt;a href=&quot;#release-the-script&quot; aria-label=&quot;release the script permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Release the script&lt;/h3&gt;
&lt;p&gt;You have to create a release of your script. You can do that by &lt;a href=&quot;https://github.com/JeroenKnoops/gits/releases&quot;&gt;drafting a new release&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Once you have a release, we need the SHA-256 checksum of the release to ensure a proper version of the download.
Browse to the release and copy the name of the tar-file (in our case: &lt;code class=&quot;language-text&quot;&gt;https://github.com/JeroenKnoops/gits/archive/0.1.0.tar.gz&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;Download the tar and generate the SHA-256.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;$ wget https://github.com/JeroenKnoops/gits/archive/0.1.0.tar.gz
$ shasum -a 256 0.1.0.tar.gz
13b778bf5a7f92285f54179cd88bea4b39f661a3de47a7ff0a84b9aa5d865962  0.1.0.tar.gz&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We will need this SHA-256 for our formula.&lt;/p&gt;
&lt;h3 id=&quot;define-the-formula&quot;&gt;&lt;a href=&quot;#define-the-formula&quot; aria-label=&quot;define the formula permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Define the Formula&lt;/h3&gt;
&lt;p&gt;We have to define the formula. This can be done by creating a repo called &lt;a href=&quot;https://github.com/JeroenKnoops/homebrew-tap&quot;&gt;homebrew-tap&lt;/a&gt; in your own github repo.
It‚Äôs best practice to put some information in the README of this repo about the Formulas which are defined.&lt;/p&gt;
&lt;p&gt;In our case:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;## homebrew-tap
Homebrew tap with formula for installing the following:

- [gits](https://github.com/jeroenknoops/gits)


#### Add this tap
`brew tap jeroenknoops/tap`


#### Install
- gits: `brew install gits`&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the &lt;code class=&quot;language-text&quot;&gt;/Formula&lt;/code&gt; directory you must create a ruby file with the definition, in our case: &lt;a href=&quot;https://github.com/JeroenKnoops/homebrew-tap/blob/master/Formula/gits.rb&quot;&gt;gits.rb&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;class Gits &amp;lt; Formula
  desc &amp;quot;A shell script to share contribution between two git accounts when pair programming.&amp;quot;
  homepage &amp;quot;https://github.com/jeroenknoops/gits&amp;quot;
  url &amp;quot;https://github.com/JeroenKnoops/gits/archive/0.1.0.tar.gz&amp;quot;
  version &amp;quot;0.1.0&amp;quot;
  sha256 &amp;quot;13b778bf5a7f92285f54179cd88bea4b39f661a3de47a7ff0a84b9aa5d865962&amp;quot;

  def install
    bin.install &amp;quot;bin/gits&amp;quot;
  end
end&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Push the repo to github and we‚Äôre ready to go.&lt;/p&gt;
&lt;h3 id=&quot;test-it&quot;&gt;&lt;a href=&quot;#test-it&quot; aria-label=&quot;test it permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Test it&lt;/h3&gt;
&lt;p&gt;Now people can use the script by installing it with homebrew.
It‚Äôs still in my private homebrew-tap, so people first have to tap into our private tap.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;brew tap jeroenknoops/tap&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After that they can install gits with &lt;code class=&quot;language-text&quot;&gt;brew install gits&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;i-do-not-want-to-tap-into-someones-tap&quot;&gt;&lt;a href=&quot;#i-do-not-want-to-tap-into-someones-tap&quot; aria-label=&quot;i do not want to tap into someones tap permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;I do not want to tap into someone‚Äôs tap&lt;/h2&gt;
&lt;p&gt;To even raise the level of trust of the script / tool and install convenience, you can also put the Formula directly into the &lt;a href=&quot;https://github.com/Homebrew/homebrew-core&quot;&gt;homebrew-core&lt;/a&gt;. Now people don‚Äôt need to tap into someones private tap.
This will require some extra steps, like adding tests.&lt;/p&gt;
&lt;p&gt;Brew has a way to test your formula by doing: &lt;code class=&quot;language-text&quot;&gt;brew audit --new-formula gits&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;This will show you what you still need to do, before you can submit it to homebrew. You can also find more information on that in the &lt;a href=&quot;https://docs.brew.sh/Formula-Cookbook&quot;&gt;Formula-Cookbook&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;improvements&quot;&gt;&lt;a href=&quot;#improvements&quot; aria-label=&quot;improvements permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Improvements&lt;/h2&gt;
&lt;p&gt;There are more improvements I should make to release it to homebrew. F.e. add dependencies to &lt;code class=&quot;language-text&quot;&gt;git&lt;/code&gt;.
For now I‚Äôm not going to dive into that. Homebrew has good documentation on that: &lt;a href=&quot;https://docs.brew.sh/Formula-Cookbook&quot;&gt;https://docs.brew.sh/Formula-Cookbook&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;I really liked the way homebrew is set up. I like the way they name things, like &lt;code class=&quot;language-text&quot;&gt;brew&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;tap&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;bottle&lt;/code&gt;. By adding my own &lt;code class=&quot;language-text&quot;&gt;bottle&lt;/code&gt; I‚Äôve learned how homebrew is working and now I even feel more confident in using it. I like the fact that only bottles with tests and with the proper dependencies check can be added in the core homebrew formulas.&lt;/p&gt;
&lt;h3 id=&quot;homebrew-cask&quot;&gt;&lt;a href=&quot;#homebrew-cask&quot; aria-label=&quot;homebrew cask permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Homebrew cask&lt;/h3&gt;
&lt;p&gt;Homebrew has another great feature, called &lt;a href=&quot;https://github.com/Homebrew/homebrew-cask&quot;&gt;homebrew cask&lt;/a&gt;. No more: ‚ÄúTo install, drag this icon..‚Äú. Now you can install tools like &lt;code class=&quot;language-text&quot;&gt;atom&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;1password&lt;/code&gt; by simply calling: &lt;code class=&quot;language-text&quot;&gt;brew cask install atom&lt;/code&gt;‚Ä¶&lt;/p&gt;
&lt;h2 id=&quot;more-info&quot;&gt;&lt;a href=&quot;#more-info&quot; aria-label=&quot;more info permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;More info&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.brew.sh/How-to-Create-and-Maintain-a-Tap&quot;&gt;https://docs.brew.sh/How-to-Create-and-Maintain-a-Tap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://docs.brew.sh/Formula-Cookbook&quot;&gt;https://docs.brew.sh/Formula-Cookbook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Homebrew/homebrew-cask&quot;&gt;https://github.com/Homebrew/homebrew-cask&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Immutable Infrastructure]]></title><description><![CDATA[The Docker slogan ‚ÄòBuild, Ship, and Run‚Äô advertises easy set up of immutable software builds, but it is not always that easy. Setting up‚Ä¶]]></description><link>https://040code.github.io//2018-05-26-talk-taipei/</link><guid isPermaLink="false">https://040code.github.io//2018-05-26-talk-taipei/</guid><pubDate>Sat, 26 May 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Docker slogan ‚ÄòBuild, Ship, and Run‚Äô advertises easy set up of immutable software builds, but it is not always that easy. Setting up immutable builds with Docker is pretty straight forward and shipping is just a matter of pushing the image to a repository. The next step is building the cloud infrastructure to run the containers. In the talk at
the Cloud Native Meetup in Taipei I have shown how to create an immutable infrastructure on AWS with Terraform. The example belows shows how you can run your micro services in docker containers on AWS.&lt;/p&gt;
&lt;p&gt;In this talk I briefly touch upon building immutable software. But the main focus of the talk will be on creating an immutable infrastructure. In this talk I will show you how to create an immutable infrastructure on AWS with Terraform. I will use a real world example to explain and show live how easy you can get micro services live on AWS and continuously apply changes to the same cloud environment..&lt;/p&gt;
&lt;h2 id=&quot;slides&quot;&gt;&lt;a href=&quot;#slides&quot; aria-label=&quot;slides permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Slides&lt;/h2&gt;
&lt;p&gt;Below the slides that I used for the talk, the slides are available as well on
&lt;a href=&quot;https://immutable-infrastructure.gitlab.io/taipei-2018/&quot;&gt;GitLab&lt;/a&gt;. You can easy navigate through the slides with the spacebar.&lt;/p&gt;
&lt;div style=&quot;position:relative; width:100%; height:0px; padding-bottom:56.25%;&quot;&gt;
    &lt;iframe style=&quot;position:absolute; left:0; top:0; width:100%; height:100%&quot;
        src=&quot;https://immutable-infrastructure.gitlab.io/taipei-2018/&quot;&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;To get started with Terraform the best starting points are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.terraform.io/intro/examples/&quot;&gt;Terraform.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/npalm/tf-helloworld-demo&quot;&gt;Hello World example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;examples&quot;&gt;&lt;a href=&quot;#examples&quot; aria-label=&quot;examples permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;h3 id=&quot;hello-world&quot;&gt;&lt;a href=&quot;#hello-world&quot; aria-label=&quot;hello world permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hello World&lt;/h3&gt;
&lt;p&gt;During the talk, I demonstrated a hello world example, see the link above. This examples shows some basics of terraform by creating a ec2 instance and security group to server a simple web application. The example only works in the AWS region &lt;code class=&quot;language-text&quot;&gt;eu-west-1&lt;/code&gt; since the AMI used is only available in this region.&lt;/p&gt;
&lt;h3 id=&quot;ecs-demo&quot;&gt;&lt;a href=&quot;#ecs-demo&quot; aria-label=&quot;ecs demo permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ECS demo&lt;/h3&gt;
&lt;p&gt;The second example I have shown, is creating an immutable infrastructure to server docker containers. The picture below descibes briefly the enviroment that will be cretaed.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 63.55382619974059%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACFElEQVQ4y5VTvYsaQRRfZ2Znb9eP7O7dhUQ0RokIAbUJiGKKWKWxskgTLJLKJoVFGgurFFoIFjYiFmpE8eRQBC387LVPbyH+FebNMiNb3BU38OO9ffPeb97XSoPBwByPx39Go9FriZ9IJIJBoBfCYQVns1m92WymWq3W+9Vq9b1Wq5lgxl6vVwYpQGx4ysagCFJ2KVUqFbPX6/0ul8tv2bfb7VYJIZTfUx6gcN3+rXCfG56pRC+Xi8PlcrELqdPphBaLxTfuSIrFIjMThJDs8XhYJphD6DIncllS0zTKW2exQ9lfd7vdw2QysRzhMckwDCw9fxwcTsFBzuczmc/nH9jFcrm8A3y0OVuPwaC0XC6ng64B7kQ/eVuIvWRpv9+nDofDv3w+r02n05+PcJh9s9l8BvvfarWqRaPRV6VS6UcikWCl3W63W6Xb7TISBUhFD60EULvddvX7/U/spUwmE4DJp1hvh8NhZDab/YrFYnKhUDBgvb6IOuv1egA24x3zCwaD6FqyaZqycHI6nei5PiWTSWO9XpeOx6PKh2c0Go1blhlwIN4KK14Oh8MonU5bUwVSze/3s/RpKBSST6cT8vl8hDvfUErvQbJdNdiUZVkmfI2uPRTOmL8SBAQAPttQcDwed+i67gadEb7BGN/Dzkq2P+U6ZYUHUdsf8JSkqqqyfcS2BOwx15KpLWWVS6G/BNY+/wc2sHnDymExhQAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/443737e7fb3b235929b039d616df57f2/cc182/ecs-black.webp 148w,
/static/443737e7fb3b235929b039d616df57f2/f7e40/ecs-black.webp 295w,
/static/443737e7fb3b235929b039d616df57f2/1a2f4/ecs-black.webp 590w,
/static/443737e7fb3b235929b039d616df57f2/fbf2e/ecs-black.webp 771w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/443737e7fb3b235929b039d616df57f2/cf440/ecs-black.png 148w,
/static/443737e7fb3b235929b039d616df57f2/d2d38/ecs-black.png 295w,
/static/443737e7fb3b235929b039d616df57f2/b9e4f/ecs-black.png 590w,
/static/443737e7fb3b235929b039d616df57f2/0fafd/ecs-black.png 771w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/443737e7fb3b235929b039d616df57f2/b9e4f/ecs-black.png&quot; alt=&quot;ecs-diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;The example also creates log groups in cloudwatch to capture the logging of the ecs agent and the running containers (services).&lt;/p&gt;
&lt;h4 id=&quot;setup&quot;&gt;&lt;a href=&quot;#setup&quot; aria-label=&quot;setup permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup&lt;/h4&gt;
&lt;p&gt;Before you can start, you need an AWS account with sufficient rights (admin), and you should create a &lt;code class=&quot;language-text&quot;&gt;AWS_ACCESS_KEY_ID&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt; to be able to access your account programmatically.&lt;/p&gt;
&lt;p&gt;Clone the repository containing the ECS &lt;a href=&quot;https://github.com/npalm/tf-ecs-demo.git&quot;&gt;sample&lt;/a&gt; terraform code. To create the infrastructure step-by-step you can check out the tags &lt;code class=&quot;language-text&quot;&gt;vpc&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;ecs&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/tf-ecs-demo.git
git checkout taipei-vpc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should also have Terraform installed (&lt;code class=&quot;language-text&quot;&gt;home brew install terraform&lt;/code&gt;) and
tfenv to manage your terraform installation. Alternatively use a docker container to run the terraform commands, for example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -it --env-file &amp;lt;AWS_KEYS_FILE&amp;gt; -v $(pwd):/data -w /data \
  hashicorp/terraform:0.10.4 &amp;lt;terraform command&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br&gt;
&lt;p&gt;In this example you can swithc the reqion by changing the region variable
&lt;code class=&quot;language-text&quot;&gt;aws_region&lt;/code&gt; to your own choice. Or set the following environment variable: &lt;code class=&quot;language-text&quot;&gt;export TF_VAR_aws_region=ap-northeast-1&lt;/code&gt;
for Tokyo.&lt;/p&gt;
&lt;h4 id=&quot;create-network-layers-vpc&quot;&gt;&lt;a href=&quot;#create-network-layers-vpc&quot; aria-label=&quot;create network layers vpc permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create network layers (VPC)&lt;/h4&gt;
&lt;p&gt;In the next steps we will create the network layers.&lt;/p&gt;
&lt;p&gt;First, we initialize and plan our changes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;terraform init
terraform plan&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Terraform should print on the console that 19 needs to be added and 0 to change or destroyed. Next we apply the change be executing &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&quot;add-ecs-cluster&quot;&gt;&lt;a href=&quot;#add-ecs-cluster&quot; aria-label=&quot;add ecs cluster permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Add ECS cluster&lt;/h4&gt;
&lt;p&gt;Now we have the network layer created, we will add the ECS cluster. By default the bastion host is disabled, the bastion can be enabled by updating the variable &lt;code class=&quot;language-text&quot;&gt;enable_bastion&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;terraform.tfvars&lt;/code&gt; file. Time to plan and apply the new resources for ECS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git checkout taipei-ecs-1
terraform plan
terraform apply&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once terraform is ready it will print the url of two applications on the console. One application, is a simple micro service that just prints the AWS availabilty zone where it is running, the other is a &lt;a href=&quot;/2017/05/20/nextbuild-graphql/&quot;&gt;graphql micro service&lt;/a&gt;. It will take a few minutes before the services are available.&lt;/p&gt;
&lt;h4 id=&quot;adding-your-own-service&quot;&gt;&lt;a href=&quot;#adding-your-own-service&quot; aria-label=&quot;adding your own service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding your own service.&lt;/h4&gt;
&lt;p&gt;Time to have some more fun. Edit the &lt;code class=&quot;language-text&quot;&gt;main.tf&lt;/code&gt; and start making changes. Remove all the services, add your own service. By default for each service an application load balancer (ALB) is created. Add for each services that you want to deploy a configuration as below and update the variables as required.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;your-service&amp;quot; {
  source = &amp;quot;ecs-service&amp;quot;

  service_name   = &amp;quot;&amp;lt;service-name&amp;gt;&amp;quot;
  image_url      = &amp;quot;&amp;lt;docker-image&amp;gt;&amp;quot;
  container_port = &amp;lt;port in the container where the service is listening&amp;gt;
  desired_count  = &amp;lt;number of instances&amp;gt;

  aws_region  = &amp;quot;${var.aws_region}&amp;quot;
  environment = &amp;quot;${var.environment}&amp;quot;

  vpc_id  = &amp;quot;${module.vpc.vpc_id}&amp;quot;
  subnets = &amp;quot;${module.vpc.public_subnets}&amp;quot;

  cluster_id            = &amp;quot;${module.ecs-cluster.cluster_id}&amp;quot;
  ecs_service_role_name = &amp;quot;${module.ecs-cluster.ecs_service_role_name}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now plan and apply your changes, Terraform will inform you that a few resources will be destroyed (the removed services) and a few will be added.&lt;/p&gt;
&lt;h3 id=&quot;clean-up&quot;&gt;&lt;a href=&quot;#clean-up&quot; aria-label=&quot;clean up permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clean up&lt;/h3&gt;
&lt;p&gt;Once done you can easily clean-up all created resources in AWS, just run &lt;code class=&quot;language-text&quot;&gt;terraform destroy&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&quot;serverless-containers&quot;&gt;&lt;a href=&quot;#serverless-containers&quot; aria-label=&quot;serverless containers permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Serverless containers.&lt;/h3&gt;
&lt;p&gt;Since a few months Amazon support running containers without managing your
ec2 instances, aka Serverless Containers. This services is called Fargate. I
have written a &lt;a href=&quot;https://040code.github.io/2018/01/30/fargate_with_terraform/&quot;&gt;blog
post&lt;/a&gt; about
how to run you containers serveless with terraform. Creating a mix of both
ways of running of containers is explained as well. Be aware that Fargate is
still only avaialable in &lt;code class=&quot;language-text&quot;&gt;us-east-1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Have fun!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Verlet Integration]]></title><description><![CDATA[IntroductionIn this post we‚Äôre going to dive into physics simulation with Clojure. The
ideas in this post were mostly inspired by this paper‚Ä¶]]></description><link>https://040code.github.io//2018-03-04-verlet-integration/</link><guid isPermaLink="false">https://040code.github.io//2018-03-04-verlet-integration/</guid><pubDate>Sun, 04 Mar 2018 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#introduction&quot; aria-label=&quot;introduction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;In this post we‚Äôre going to dive into physics simulation with Clojure. The
ideas in this post were mostly inspired by &lt;a href=&quot;http://graphics.cs.cmu.edu/nsp/course/15-869/2006/papers/jakobsen.htm&quot;&gt;this paper by Thomas
Jakobsen&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;My motivations for working on this toy project were:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Experimenting with a very mutable domain in a language with immutability at
its core&lt;/li&gt;
&lt;li&gt;Having some fun by making a lot happen on screen without writing lots of code&lt;/li&gt;
&lt;li&gt;Coding using emacs &amp;#x26; &lt;a href=&quot;https://github.com/clojure-emacs/cider&quot;&gt;CIDER&lt;/a&gt; (The
&lt;code class=&quot;language-text&quot;&gt;C&lt;/code&gt;lojure &lt;code class=&quot;language-text&quot;&gt;I&lt;/code&gt;nteractive &lt;code class=&quot;language-text&quot;&gt;D&lt;/code&gt;evelopment &lt;code class=&quot;language-text&quot;&gt;E&lt;/code&gt;nvironment that &lt;code class=&quot;language-text&quot;&gt;R&lt;/code&gt;ocks)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The source code can be found &lt;a href=&quot;https://github.com/mmzsource/verlet&quot;&gt;here&lt;/a&gt;.
The result:&lt;/p&gt;

          &lt;div
            class=&quot;gatsby-resp-iframe-wrapper&quot;
            style=&quot;padding-bottom: 114.375%; position: relative; height: 0; overflow: hidden;margin-bottom: 1.0725rem&quot;
          &gt;
            &lt;iframe src=&quot;https://player.vimeo.com/video/258632942&quot; frameborder=&quot;0&quot; webkitallowfullscreen mozallowfullscreen allowfullscreen style=&quot;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          &quot;&gt;&lt;/iframe&gt;
          &lt;/div&gt;
          
&lt;h2 id=&quot;one-code-classlanguage-textmain-code-to-bind-them-all&quot;&gt;&lt;a href=&quot;#one-code-classlanguage-textmain-code-to-bind-them-all&quot; aria-label=&quot;one code classlanguage textmain code to bind them all permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;One &lt;code class=&quot;language-text&quot;&gt;main-&lt;/code&gt; to bind them all&lt;/h2&gt;
&lt;p&gt;This code uses the &lt;a href=&quot;https://github.com/quil/quil&quot;&gt;Quil library&lt;/a&gt; to render points
and lines. In the &lt;code class=&quot;language-text&quot;&gt;main-&lt;/code&gt; function, the &lt;code class=&quot;language-text&quot;&gt;sketch&lt;/code&gt; macro from the Quil library is
used to bind the physics domain to the UI.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; -main &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quil/sketch
    &lt;span class=&quot;token operator&quot;&gt;:host&lt;/span&gt;           -main
    &lt;span class=&quot;token operator&quot;&gt;:title&lt;/span&gt;          &lt;span class=&quot;token string&quot;&gt;&quot;Verlet Integration&quot;&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:size&lt;/span&gt;           &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;width height&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:setup&lt;/span&gt;          setup
    &lt;span class=&quot;token operator&quot;&gt;:update&lt;/span&gt;         update-state
    &lt;span class=&quot;token operator&quot;&gt;:draw&lt;/span&gt;           draw
    &lt;span class=&quot;token operator&quot;&gt;:key-pressed&lt;/span&gt;    key-pressed
    &lt;span class=&quot;token operator&quot;&gt;:mouse-pressed&lt;/span&gt;  mouse-pressed
    &lt;span class=&quot;token operator&quot;&gt;:mouse-dragged&lt;/span&gt;  mouse-dragged
    &lt;span class=&quot;token operator&quot;&gt;:mouse-released&lt;/span&gt; mouse-released
    &lt;span class=&quot;token operator&quot;&gt;:features&lt;/span&gt;       &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:exit-on-close&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token operator&quot;&gt;:middleware&lt;/span&gt;     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;quil-mw/fun-mode&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The sketch macro basically asks the developer to configure which ‚Äòhandler
functions‚Äô it should call when certain events occur. For instance:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a key is pressed -&gt; call &lt;code class=&quot;language-text&quot;&gt;key-pressed&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;the mouse is pressed -&gt; call &lt;code class=&quot;language-text&quot;&gt;mouse-pressed&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;the state of your program has to be updated -&gt; call &lt;code class=&quot;language-text&quot;&gt;update-state&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;it‚Äôs time to draw the new state -&gt; call &lt;code class=&quot;language-text&quot;&gt;draw&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Because I configured Quil to run in functional mode &lt;code class=&quot;language-text&quot;&gt;(quil-mw/fun-mode)&lt;/code&gt;, Quil:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Uses the return value from the &lt;code class=&quot;language-text&quot;&gt;:setup&lt;/code&gt; function as the initial &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Passes the &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; to each handler function to update it&lt;/li&gt;
&lt;li&gt;Additionally passes a keyboard- and mouse &lt;code class=&quot;language-text&quot;&gt;event&lt;/code&gt; argument to keyboard - and
mouse handler functions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The handler function signatures therefore look like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; draw          &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;       &lt;span class=&quot;token keyword&quot;&gt;..&lt;/span&gt;.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; update-state  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;       &lt;span class=&quot;token keyword&quot;&gt;..&lt;/span&gt;.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; key-pressed   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state event&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;..&lt;/span&gt;.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; mouse-pressed &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state event&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;..&lt;/span&gt;.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;world-state&quot;&gt;&lt;a href=&quot;#world-state&quot; aria-label=&quot;world state permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;World state&lt;/h2&gt;
&lt;p&gt;What does a snapshot of this world state look like? &lt;code class=&quot;language-text&quot;&gt;key-pressed&lt;/code&gt; gives some
hints:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; key-pressed
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state event&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;raw-key   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:raw-key&lt;/span&gt; event&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        new-state &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;cond&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt; \&lt;span class=&quot;token number&quot;&gt;b&lt;/span&gt; raw-key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-world &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-&lt;span class=&quot;token number&quot;&gt;a&lt;/span&gt;-file &lt;span class=&quot;token string&quot;&gt;&quot;blocks.edn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt; \&lt;span class=&quot;token number&quot;&gt;c&lt;/span&gt; raw-key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-world &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-&lt;span class=&quot;token number&quot;&gt;a&lt;/span&gt;-file &lt;span class=&quot;token string&quot;&gt;&quot;cloth.edn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt; \p raw-key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-world &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-&lt;span class=&quot;token number&quot;&gt;a&lt;/span&gt;-file &lt;span class=&quot;token string&quot;&gt;&quot;points.edn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt; \s raw-key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-world &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;load-&lt;span class=&quot;token number&quot;&gt;a&lt;/span&gt;-file &lt;span class=&quot;token string&quot;&gt;&quot;sticks.edn&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt; \i raw-key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;show-info-message&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt; \q raw-key&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quil/exit&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
                   &lt;span class=&quot;token operator&quot;&gt;:else&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    new-state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So on pressing a key, a certain world is loaded. Let‚Äôs look into the ‚Äòsticks‚Äô
world:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:points&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:p0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:p1&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:p2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;500&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;525&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:p3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;475&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt;   &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;525&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:p4&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;250&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;250&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:pinned&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token operator&quot;&gt;:p5&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;350&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;350&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
 &lt;span class=&quot;token operator&quot;&gt;:sticks&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:links&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:p0&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:p1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:length&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;138&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:links&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:p2&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:p3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:length&lt;/span&gt;  &lt;span class=&quot;token number&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:links&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:p4&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:p5&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:length&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;140&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nothing special here. Just a map containing &lt;code class=&quot;language-text&quot;&gt;:points&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;:sticks&lt;/code&gt;. We‚Äôll dive
into the particulars of points and sticks soon.&lt;/p&gt;
&lt;h2 id=&quot;physics-simulation&quot;&gt;&lt;a href=&quot;#physics-simulation&quot; aria-label=&quot;physics simulation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Physics Simulation&lt;/h2&gt;
&lt;p&gt;This physics simulation deals with Points, and Sticks connecting Points. The
Points are the things that seem to have direction and speed, are influenced by
gravity and lose speed because of friction or because of bouncing against world
borders. The Sticks try to keep their 2 Points apart according to the configured
Stick length. The simulation loop boils down to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Update Points&lt;/li&gt;
&lt;li&gt;Apply Stick constraints&lt;/li&gt;
&lt;li&gt;Apply world constraints&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; update-state
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&gt;&gt;&lt;/span&gt; state
       &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;update-points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apply-stick-constraints&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
       &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;apply-world-constraints&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This code can be read like this: ‚Äòwith &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;, first &lt;code class=&quot;language-text&quot;&gt;update-points&lt;/code&gt;, then
&lt;code class=&quot;language-text&quot;&gt;apply-stick-constraints&lt;/code&gt;, and finally &lt;code class=&quot;language-text&quot;&gt;apply-world-constrains&lt;/code&gt;‚Äò.&lt;/p&gt;
&lt;h3 id=&quot;points&quot;&gt;&lt;a href=&quot;#points&quot; aria-label=&quot;points permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Points&lt;/h3&gt;
&lt;p&gt;Points are the main abstraction in this code. I decided to use a record to name
them:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defrecord&lt;/span&gt; Point &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x y oldx oldy pinned&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A Point stores its current coordinates and the coordinates it had in the
previous world state. On top of that it has a &lt;code class=&quot;language-text&quot;&gt;pinned&lt;/code&gt; property which indicates
if a Point is pinned in space and - as a result - stays on the same coordinate.
A pinned Point can be unpinned by clicking it with the mouse pointer.&lt;/p&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;update-point&lt;/code&gt; function calculates the velocity of the Point and adds some
gravity in the mix:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; update-point
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:keys&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x y oldx oldy pinned&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; pinned
    point
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;vx &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;velocity x oldx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
          vy &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;velocity y oldy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; x vx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; y vy gravity&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; x y pinned&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reading superficially, this code says: if the Point is pinned then return the
same Point. Otherwise, calculate it‚Äôs velocity (based on the current - and
previous x &amp;#x26; y coordinates), add some gravity in the y direction and return the
newly calculated Point.&lt;/p&gt;
&lt;p&gt;The function uses
&lt;a href=&quot;https://gist.github.com/john2x/e1dca953548bfdfb9844&quot;&gt;destructuring&lt;/a&gt; to name all
the arguments of the incoming Point. With destructuring, you can bind the
values in a data structure without explicitly querying the data structure. So
instead of getting each and every value out of Point and binding it to a ‚Äònew‚Äô
name‚Ä¶&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt;      point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      y      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt;      point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      oldx   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt;   point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      oldy   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt;   point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      pinned &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:pinned&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;..&lt;/span&gt;.&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;‚Ä¶ you can very effectively tell the function that it will receive a map &lt;code class=&quot;language-text&quot;&gt;{}&lt;/code&gt;
with keys &lt;code class=&quot;language-text&quot;&gt;x y oldx oldy pinned&lt;/code&gt; and that this function should have those
variables available under the same name:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:keys&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x y oldx oldy pinned&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The code in my repository has some additional type hints, because I wanted the
simulation to run smooth on my laptop and wanted to learn a bit more about type
hinting and compiler optimizations.&lt;/p&gt;
&lt;p&gt;And that‚Äôs it with regard to Points. In a couple of lines of code Points are
already moving and reacting to gravity in the simulation.&lt;/p&gt;
&lt;h3 id=&quot;world-constraints&quot;&gt;&lt;a href=&quot;#world-constraints&quot; aria-label=&quot;world constraints permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;World constraints&lt;/h3&gt;
&lt;p&gt;It‚Äôs time for Points to meet the harsh reality of life. Walls are harder than
Points and therefore Points should bounce off of them:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; hit-floor?       &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;&gt;&lt;/span&gt; y height&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; hit-ceiling?     &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;y&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;&amp;lt;&lt;/span&gt; y &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; hit-left-wall?   &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;&amp;lt;&lt;/span&gt; x &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; hit-right-wall?  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;&gt;&lt;/span&gt; x width&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; apply-world-constraint
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:keys&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x y oldx oldy pinned&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;vxb &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;velocity x oldx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; bounce&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        vyb &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;velocity y oldy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; bounce&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;cond&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hit-ceiling?    y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;miry &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; oldy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; oldx vxb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; miry &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; vyb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; oldx miry pinned&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hit-floor?      y&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;miry &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; height height &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; oldy&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; oldx vxb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; miry vyb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; oldx miry pinned&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hit-left-wall?  x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;mirx &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; oldx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; mirx &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; vxb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; oldy vyb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; mirx oldy pinned&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;hit-right-wall? x&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;mirx &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; width width &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; oldx&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
                             &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; mirx vxb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; oldy vyb&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; mirx oldy pinned&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token comment&quot;&gt;;; else: free movement&lt;/span&gt;
      &lt;span class=&quot;token operator&quot;&gt;:else&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To explain what happens here, a picture might help.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 366px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 83.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAAB/ElEQVQ4y41UTW/aQBD1303/SVqpOXFsLkhtOXBBSIQeUKFVP6RUnCCIEBA24BpjvkEuCF78Joy7pm5aS09e74zfzJuZXWs2m2E6nf4Tph/XislkguFwKPtBEMB6ckg6nhOkEfPn9XqN1t0d3lxfYxWtuW8lHWf/RUqsViv0ej28uLiAbTuYz+fiby2XS4lGmFJMYhP8UWUOBgO0Wq2YTAir1So8b4z9fh85Bqm1Mtee5wmZ7/tYLBYi+8n/RMi08/k8isUiwvCXRDfl8s0MuCaR67p/KDCTsJhZpVJBqVQS2SSkg5aATiTRrJRcQT9TkTQlDEPsdjuMxz5Go1H0HkvR6cBvlUeQUGHuxYSMTtn9fl+KTLTbbdTrdTSbTTiOI6Ddtu1U0K4NsyiRhWYWzIxGEjKIvmlTu8L85johebPZiERm1Ol0xMBxYkTWjqT8kfK0GTIqRtO03tbhcEA2m0Umk4lHwOweSbhuNBoSUAkYgIkQv2c4kvzj9hY35Q/odrvx8TkfC3NsHh66cKI68/n+7Qs+ff6KXTQp8WCTyHV/JiKlHTstA2vORl5dvcb7d29xf99B7WMV/ulQyNHTWyMInr9d9Hu73aJQKKBWq+HVy0uUb8pCmLgc0kj+dttQyfF4lBLkcjkJEDfl/Kw+dzGYflTE2vJAiO20/whuQ/HZDumZpwAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/011bd2ac37ea96e5e9f8fb6aace495b0/cc182/world-constraints.webp 148w,
/static/011bd2ac37ea96e5e9f8fb6aace495b0/f7e40/world-constraints.webp 295w,
/static/011bd2ac37ea96e5e9f8fb6aace495b0/26f56/world-constraints.webp 366w&quot; sizes=&quot;(max-width: 366px) 100vw, 366px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/011bd2ac37ea96e5e9f8fb6aace495b0/cf440/world-constraints.png 148w,
/static/011bd2ac37ea96e5e9f8fb6aace495b0/d2d38/world-constraints.png 295w,
/static/011bd2ac37ea96e5e9f8fb6aace495b0/a038c/world-constraints.png 366w&quot; sizes=&quot;(max-width: 366px) 100vw, 366px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/011bd2ac37ea96e5e9f8fb6aace495b0/a038c/world-constraints.png&quot; alt=&quot;apply world constraints diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Imagine a Point moved from A to B in the last Point update. This means a Point
record is persisted with its &lt;code class=&quot;language-text&quot;&gt;x&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;y&lt;/code&gt; being the coordinates of B and &lt;code class=&quot;language-text&quot;&gt;oldx&lt;/code&gt;
and &lt;code class=&quot;language-text&quot;&gt;oldy&lt;/code&gt; being the coordinates of A. If a wall line crossed the imaginary line
A-B, the Point history should be rewritten. In essence, line A-B is mirrored in
the wall it hits, giving rise to another imaginary line C-D where C mirrors A
and D mirrors B. The &lt;code class=&quot;language-text&quot;&gt;miry&lt;/code&gt; (mirror-y) and &lt;code class=&quot;language-text&quot;&gt;mirx&lt;/code&gt; (mirror-x) variables in the
code contain C coordinates mirroring A coordinates.&lt;/p&gt;
&lt;p&gt;The simulation will take a little velocity loss into account when bouncing at
walls. Therefore, D‚Äô is calculated by using the x and y velocities (vx and vy)
multiplied by a bounce factor (leading to the &lt;code class=&quot;language-text&quot;&gt;vxb&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;vyb&lt;/code&gt; variables in the
code).&lt;/p&gt;
&lt;p&gt;When the world state is drawn, the Point will fly off in exactly the right
direction. Additionally, because of the history rewrite, subsequent Point
updates will keep moving the Point in the right direction.&lt;/p&gt;
&lt;p&gt;The picture shows the situation when hitting the ceiling. Hitting the floor and
the walls works similar. And that‚Äôs all the math and code you need to simulate
Points moving in a bounded space. Now let‚Äôs add Sticks to the simulation.&lt;/p&gt;
&lt;h3 id=&quot;stick-constraints&quot;&gt;&lt;a href=&quot;#stick-constraints&quot; aria-label=&quot;stick constraints permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Stick constraints&lt;/h3&gt;
&lt;p&gt;Not only walls are restricting Points from free movement; Sticks also constrain
them. A Stick connects 2 Points and has a configured length. The goal of the
Stick constraint is to move the Points at the end of the Stick to the configured
length of the Stick.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 44.18316831683168%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAABB0lEQVQoz3WSV47DMAxEc//jGQZc5LJx7+0CjB+zNLzB5mNgURGHT6M81nWVeZ5lHEeZpukSdd/30ratahgG4eyyLNf3U5x52I/WhLquU7MsyyRJElVRFH8MP8U+EGoIUV3XSmq0VVXpPsaI9TcyG6KE+75L0zTieZ4amRl1WZaSpqm4kxDq4zi0cdu2f6WGENkUNu/4rKEbR2Lo1dTU3tYIM72yc06boLQMqYmAA5CSJcpzlIuLnZKz9/x5/mZcaixXhjTbY9iLv6dOmuv9H8AN5lttMVyvTANG0Pi+L0EQyHSaQhFFkRJEUShxHEsYhu9cz5uZLJ7L0Ex5IMQ06m/hf8o8MH4BFASfEpTgswAAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/6dd99e14345c35fe8d067418c788338b/cc182/stick-constraints.webp 148w,
/static/6dd99e14345c35fe8d067418c788338b/f7e40/stick-constraints.webp 295w,
/static/6dd99e14345c35fe8d067418c788338b/1a2f4/stick-constraints.webp 590w,
/static/6dd99e14345c35fe8d067418c788338b/37d0a/stick-constraints.webp 808w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/6dd99e14345c35fe8d067418c788338b/cf440/stick-constraints.png 148w,
/static/6dd99e14345c35fe8d067418c788338b/d2d38/stick-constraints.png 295w,
/static/6dd99e14345c35fe8d067418c788338b/b9e4f/stick-constraints.png 590w,
/static/6dd99e14345c35fe8d067418c788338b/4fa70/stick-constraints.png 808w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/6dd99e14345c35fe8d067418c788338b/b9e4f/stick-constraints.png&quot; alt=&quot;apply stick constraints diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Instead of trying to calculate the solution that satisfies all Stick constraints
at once, this code simply looks at one Stick at a time and ‚Äòsolves‚Äô the
constraint problem by repeatedly solving Stick constraints in isolation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; apply-stick-constraint
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;length &lt;span class=&quot;token operator&quot;&gt;:length&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; stick&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;p0x &lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; p0y &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; oldp0x &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt; oldp0y &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; pinp0 &lt;span class=&quot;token operator&quot;&gt;:pinned&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; p0&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;p1x &lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; p1y &lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; oldp1x &lt;span class=&quot;token operator&quot;&gt;:oldx&lt;/span&gt; oldp1y &lt;span class=&quot;token operator&quot;&gt;:oldy&lt;/span&gt; pinp1 &lt;span class=&quot;token operator&quot;&gt;:pinned&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; p1&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:keys&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;dx dy distance&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;distance-map p0 p1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;difference&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; length distance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        fraction   &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;difference&lt;/span&gt; distance&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        offsetX    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; dx fraction&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        offsetY    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; dy fraction&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        p0-new     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; p0x offsetX&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; p0y offsetY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; oldp0x oldp0y pinp0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        p1-new     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt;&gt;Point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; p1x offsetX&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt; p1y offsetY&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; oldp1x oldp1y pinp1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; pinp0 p0 p0-new&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; pinp1 p1 p1-new&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;apply-stick-constraint&lt;/code&gt; takes a Stick and 2 Points (P0 and P1) as arguments.
These arguments are heavily destructured. To understand what happens precisely,
the next picture might be helpful:&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 468px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 88.24786324786325%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACgUlEQVQ4y3VU2XLaQBDk/z/AeXU+wSlcrrxQkJjDwgHHQHFDuBFCKxBHHjvdi0SJIw9TWq1me7tnepQyxiBg+KsVms0mhoMBut0u+r0eegzf9xEEAZSXjOSe1ooVMVL2ADe94RBfHx9R+fWOt5KD93IZjlOG666w2WxuAK/BFJ7nIWW2WwQKoofrtd08HA7Y7/c2YibJg3Ek942JGO6fnhDmfsAsFjDLJdYEnM/nWBNc8T+p15L1tICB61p2CgEGlOdqzSQxlNwwDG0kpd8DPElmkuq4YCPE0ucFfwn0/eUFz+lnFAtF5At5ZDIZ9NkwAV9KNZc1VMJut8OQTfG5Ychuz0s+Pz5QLBat/NFohPF4bCXdY3bR5UG/j1arxUNj+ErUx4j1kiWYTCb2wq0ax2/aV9zrtAVs0Xv1Wg1/CGiiRB0WM0lYsAzT6dTWM66l1sqJPXojWQmSFd+s4s9mMwuqtQzebrdtWfpU1Ol0bP61Py1DSfRpjxmTglhyRF+HxLDRaODLwwNqVFKtVPCaz+P356dleQso2qS6kX0ElqiLGCi2Kj6/e7xY9ZQiPe/WMEynEf58pQfdEzubcGVgXcpkjeFS1uJ7bPpkg04MmRCwm0aWuTMFJgIUQ43onPlidzwezw3Su+I0KbKDDtAeMnkQ/X1knXMH9U5A+fRAkG8c12w2i2q1ilw2h7LjoMABUElSZ2mSJaZ6520eO2zlRSPlssNiGpLAWy5nf3XyqByg7itOoxdLE6PlApsau8cpMf0B6vW6tYuYzOmCHfc37PJRsvlHUpdjb2p9knxuRGCbEZYdhJSzH0/Q1k+220Ot3sCajHelEkKGLY9KddVlMfwHnW86ADx5H2oAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/da387eeec0b28916536105175d5acc1b/cc182/stick-math.webp 148w,
/static/da387eeec0b28916536105175d5acc1b/f7e40/stick-math.webp 295w,
/static/da387eeec0b28916536105175d5acc1b/a57bd/stick-math.webp 468w&quot; sizes=&quot;(max-width: 468px) 100vw, 468px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/da387eeec0b28916536105175d5acc1b/cf440/stick-math.png 148w,
/static/da387eeec0b28916536105175d5acc1b/d2d38/stick-math.png 295w,
/static/da387eeec0b28916536105175d5acc1b/bb106/stick-math.png 468w&quot; sizes=&quot;(max-width: 468px) 100vw, 468px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/da387eeec0b28916536105175d5acc1b/bb106/stick-math.png&quot; alt=&quot;stick math diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Let P0 and P1 be two Points with a Stick S between them. P0 and P1 have already
been updated by the &lt;code class=&quot;language-text&quot;&gt;update-point&lt;/code&gt; function and their new (x,y) coordinates are
(40,50) and (70,90) respectively. This means:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dx = 30&lt;/li&gt;
&lt;li&gt;dy = 40&lt;/li&gt;
&lt;li&gt;distance = 50&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since the Stick between P0 and P1 was configured to have a &lt;code class=&quot;language-text&quot;&gt;length&lt;/code&gt; of 150, and
we want P0 and P1 to be adjusted by the same amount, P0 &lt;em&gt;should&lt;/em&gt; be located at
Point S0 (10,10) and P1 &lt;em&gt;should&lt;/em&gt; be located at Point S1 (100,130). This is
exactly what &lt;code class=&quot;language-text&quot;&gt;apply-stick-constraint&lt;/code&gt; achieves:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The &lt;code class=&quot;language-text&quot;&gt;difference&lt;/code&gt; in the configured &lt;code class=&quot;language-text&quot;&gt;length&lt;/code&gt; of the Stick and the &lt;code class=&quot;language-text&quot;&gt;distance&lt;/code&gt; of P0
and P1 is 100&lt;/li&gt;
&lt;li&gt;The &lt;code class=&quot;language-text&quot;&gt;fraction&lt;/code&gt; of the &lt;code class=&quot;language-text&quot;&gt;distance&lt;/code&gt; between P0 and P1 that needs to be added to
P0 AND to P1 is 1. So by extending the &lt;code class=&quot;language-text&quot;&gt;distance&lt;/code&gt; P0 and P1 with exactly 50
(&lt;code class=&quot;language-text&quot;&gt;distance&lt;/code&gt; times &lt;code class=&quot;language-text&quot;&gt;fraction&lt;/code&gt;) in both directions, we‚Äôll solve the Stick
constraint.&lt;/li&gt;
&lt;li&gt;This is done by using &lt;code class=&quot;language-text&quot;&gt;offsetX&lt;/code&gt; on P0x and P1x and using &lt;code class=&quot;language-text&quot;&gt;offsetY&lt;/code&gt; on P0y and
P1y&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Conceptually a scaled helper triangle is used to move P0 and an identical scaled
helper triangle is used to move P1. The scale of this triangle is determined by
the &lt;code class=&quot;language-text&quot;&gt;fraction&lt;/code&gt; which in this case is 1. These triangles are depicted in red.&lt;/p&gt;
&lt;p&gt;Each Stick in the world is updated before a new world frame is drawn. It is very
well possible that the neatly placed P0 and P1 are moved to different
coordinates by another Stick constraint before the complete update is over. This
sometimes results in wiggly behavior, although in most cases, the simulation
is perceived to behave naturally.&lt;/p&gt;
&lt;h2 id=&quot;drawing&quot;&gt;&lt;a href=&quot;#drawing&quot; aria-label=&quot;drawing permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Drawing&lt;/h2&gt;
&lt;p&gt;Finally, the Points and Sticks have to be drawn on screen:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; draw
  &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;state&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quil/background &lt;span class=&quot;token number&quot;&gt;255&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:info-message&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quil/text info-message &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;do&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;doseq&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;point &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;vals&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:points&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quil/ellipse &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; point&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;doseq&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;stick &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:sticks&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;points &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:points&lt;/span&gt; state&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              p0     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:links&lt;/span&gt; stick&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
              p1     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;last&lt;/span&gt;  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:links&lt;/span&gt; stick&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; points&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;quil/line &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; p0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; p0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:x&lt;/span&gt; p1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:y&lt;/span&gt; p1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Start by clearing the screen. If there is an &lt;code class=&quot;language-text&quot;&gt;:info-message&lt;/code&gt; entry in the
&lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;, draw the &lt;code class=&quot;language-text&quot;&gt;info-message&lt;/code&gt;. Otherwise draw all Points in &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt; as a
quil/ellipse and draw all Sticks as a quil/line. And that‚Äôs all folks!&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;As always, it was a pleasure working with Clojure. It turns out to be easy to
work in a very mutable domain with mostly pure functions, also thanks to the
excellent Quil library.&lt;/p&gt;
&lt;p&gt;My current version of &lt;a href=&quot;https://github.com/AlDanial/cloc&quot;&gt;cloc&lt;/a&gt; tells me that
core.clj is 230 lines long, but it counts the function documentation as code.
Therefore, I ran a new &lt;code class=&quot;language-text&quot;&gt;cloc&lt;/code&gt; command without the doc strings. It then counts
159 lines of clojure, approximately half of which are dedicated to UI
interaction and the other half to physics simulation. Not bad at all!&lt;/p&gt;
&lt;p&gt;I‚Äôm glad I decided to ‚Äòbite the bullet‚Äô and learn Emacs and CIDER. I now use
Emacs for all my Clojure(script) development. In addition, I use Emacs for most
of my text editing these days including writing and planning.&lt;/p&gt;
&lt;p&gt;I‚Äôd like to thank Michiel Borkent a.k.a.
&lt;a href=&quot;https://twitter.com/borkdude&quot;&gt;@borkdude&lt;/a&gt; for reviewing an earlier version of
the code and giving me very helpful feedback. Faults and not-so-idiomatic
Clojure code remaining are my own.&lt;/p&gt;
&lt;p&gt;Please share your comments, suggestions and thoughts about this blog post on
&lt;a href=&quot;https://twitter.com/mmz_&quot;&gt;twitter.com/mmz_&lt;/a&gt;. Thanks for reading and Happy
Coding!&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;&lt;a href=&quot;#links&quot; aria-label=&quot;links permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://graphics.cs.cmu.edu/nsp/course/15-869/2006/papers/jakobsen.htm&quot;&gt;Verlet integration
paper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mmzsource/verlet&quot;&gt;My verlet integration code in clojure&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/quil/quil&quot;&gt;Quil library&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/clojure-emacs/cider&quot;&gt;Emacs CIDER plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/AlDanial/cloc&quot;&gt;Cloc - counting lines of code&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Service Discovery on AWS]]></title><description><![CDATA[Last year I wrote a post how to implement service discovery for Spring Boot applications running in Docker containers on AWS ECS. At that‚Ä¶]]></description><link>https://040code.github.io//2018-02-14-service-discovery/</link><guid isPermaLink="false">https://040code.github.io//2018-02-14-service-discovery/</guid><pubDate>Wed, 14 Feb 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last year I wrote a &lt;a href=&quot;/2017/04/20/discovery-agent/&quot;&gt;post&lt;/a&gt; how to implement service discovery for Spring Boot applications running in Docker containers on AWS ECS. At that time the Amazon ECS agent does not have support to discover the docker exposed ports inside the container. In November 2017 Amazon released a feature in the &lt;a href=&quot;https://github.com/aws/amazon-ecs-agent/releases/tag/v1.15.0&quot;&gt;ECS agent 1.15&lt;/a&gt; to retrieve container meta data in the container. This feature makes the discovery agent obsolete.&lt;/p&gt;
&lt;h3 id=&quot;the-problem&quot;&gt;&lt;a href=&quot;#the-problem&quot; aria-label=&quot;the problem permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The problem&lt;/h3&gt;
&lt;p&gt;Looking back to the last years problem. A Spring service running in a container needs its external ip address and port to register to Eureka for service discovery. A service running in a container does not know the external exposed port and docker does not support a way to obtain the port mapping. We could inject the ip address but for the port that would not work. Since the port is unknown at start time. Of course, this in only valid when using random ports. But fixing the port can eventually cause port conflicts. Besides that, you are not able to scale the container on the same host. Therefore, it makes sense to use automatic port assignment.&lt;/p&gt;
&lt;p&gt;At that time I have solved this problem by adding an agent that can be called via a REST interface to lookup the exposed port based on the container id and internal port. The agent returns the external port, and the service can use this information to register itself to Eureka. This approach worked well but since the ECS agent is now shipped with a feature to retrieve the meta data we do not need longer an extra agent anymore.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;img src=&quot;./ecs1.png&quot; height=&quot;80%&quot; width=&quot;80%&quot; alt=&quot;ECS&quot;&gt;
&lt;/a&gt;
&lt;h3 id=&quot;solution&quot;&gt;&lt;a href=&quot;#solution&quot; aria-label=&quot;solution permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Solution&lt;/h3&gt;
&lt;p&gt;The approach to register the container to the discovery service remains the same. During container startup, the start script obtains the external ip address, and docker exposed port. The discovered information will be passed to the Spring Boot application using environment variables. At application start the Spring service discovery client uses the environment variables to register the application to Eureka.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 30.92885375494071%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8ElEQVQY03VPy04CMRSdf8SdCcS48Rv8BcKexWwMaiZxzwYiwcgWCBtI2Ii8JoGAdKbtdHoftoMCMfHmLHraex4NdtJWHtd30UoZy8xEfBxAf3oZplfhvBTO629bR6O+KIWLcmN9/bCsPMVBItWX1CJRIkmJsTlR1fa29rprjRPvxYTIAM70x9XdAJCnRMExTRm0boV5NJNRL653Vr3pvlj1r05/OSfqxb4g8UxT+KGfl1n3QHmuAW0GlDMb5Aw4pzOUvRBD4TTYm9v3xU33876/iYWWUmIRQegXiM8oKv6K/xRz/xGpNi6a2MHH/lP7GzauUK6sx1oiAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/25e184fa827b834f292338cc7a813f29/cc182/sequence.webp 148w,
/static/25e184fa827b834f292338cc7a813f29/f7e40/sequence.webp 295w,
/static/25e184fa827b834f292338cc7a813f29/1a2f4/sequence.webp 590w,
/static/25e184fa827b834f292338cc7a813f29/4837b/sequence.webp 885w,
/static/25e184fa827b834f292338cc7a813f29/5a7f1/sequence.webp 1012w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/25e184fa827b834f292338cc7a813f29/cf440/sequence.png 148w,
/static/25e184fa827b834f292338cc7a813f29/d2d38/sequence.png 295w,
/static/25e184fa827b834f292338cc7a813f29/b9e4f/sequence.png 590w,
/static/25e184fa827b834f292338cc7a813f29/f9b6a/sequence.png 885w,
/static/25e184fa827b834f292338cc7a813f29/37b61/sequence.png 1012w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/25e184fa827b834f292338cc7a813f29/b9e4f/sequence.png&quot; alt=&quot;Sequence Diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Before we are able retrieve information about the container (in the container) we need to enable the feature on the ECS instance. For more details about this feature see the &lt;a href=&quot;https://docs.aws.amazon.com/AmazonECS/latest/developerguide/container-metadata.html&quot;&gt;Amazon documentation&lt;/a&gt;. To enable the meta data in the container you need to set &lt;code class=&quot;language-text&quot;&gt;ECS_ENABLE_CONTAINER_METADATA&lt;/code&gt; to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;. This can be easily done by adding the line below the user data script.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;echo ECS_ENABLE_CONTAINER_METADATA=true &amp;gt;&amp;gt; /etc/ecs/ecs.config&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now each created container by ECS on the EC2 instances will have the meta data available in the file assigned to the environment variable &lt;code class=&quot;language-text&quot;&gt;ECS_CONTAINER_METADATA_FILE&lt;/code&gt;. An example of the meta data looks like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  &amp;quot;Cluster&amp;quot;: &amp;quot;ecs-cluster&amp;quot;,
  &amp;quot;ContainerInstanceARN&amp;quot;: &amp;quot;arn:aws:ecs:eu-west-1:1234445678:some-id&amp;quot;,
  &amp;quot;TaskARN&amp;quot;: &amp;quot;arn:aws:ecs:eu-west-1:1234445678:some-other-id&amp;quot;,
  &amp;quot;ContainerID&amp;quot;: &amp;quot;container-id&amp;quot;,
  &amp;quot;ContainerName&amp;quot;: &amp;quot;my-service&amp;quot;,
  &amp;quot;DockerContainerName&amp;quot;: &amp;quot;docker-container-name&amp;quot;,
  &amp;quot;ImageID&amp;quot;: &amp;quot;image-id&amp;quot;,
  &amp;quot;ImageName&amp;quot;: &amp;quot;docker-image&amp;quot;,
  &amp;quot;PortMappings&amp;quot;: [
    {
      &amp;quot;ContainerPort&amp;quot;: 8080,
      &amp;quot;HostPort&amp;quot;: 320001,
      &amp;quot;BindIp&amp;quot;: &amp;quot;0.0.0.0&amp;quot;,
      &amp;quot;Protocol&amp;quot;: &amp;quot;tcp&amp;quot;
    }
  ],
  &amp;quot;Networks&amp;quot;: [
    {
      &amp;quot;NetworkMode&amp;quot;: &amp;quot;default&amp;quot;,
      &amp;quot;IPv4Addresses&amp;quot;: [
        &amp;quot;172.17.0.2&amp;quot;
      ]
    }
  ],
  &amp;quot;MetadataFileStatus&amp;quot;: &amp;quot;READY&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we fetch the ip address and port during container start. The ip address we still get through the standard amazon info endpoint.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;export EUREKA_INSTANCE_IP_ADDRESS=$(curl --retry 5 --connect-timeout 3 -s 169.254.169.254/latest/meta-data/local-ipv4)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We extract the port mapping from the metadata using &lt;code class=&quot;language-text&quot;&gt;jq&lt;/code&gt;. We assume the service will run in the container on port 8080. Otherwise you can make this configurable as well.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;export EUREKE_INSTANCE_NON_SECURE_PORT=$(cat ${ECS_CONTAINER_METADATA_FILE} | jq -c -r &amp;quot;.PortMappings[] | select(.ContainerPort == 8080) | .HostPort&amp;quot;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By using the Spring properties as environment variables, we can inject the information to the Spring application. Alternatively, you can use other names and assign the values in the &lt;code class=&quot;language-text&quot;&gt;application.yml&lt;/code&gt; file, see the example below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;eureka:
  instance:
    preferIpAddress: true
    ip-address: ${EXTERNAL_IP}
    non-secure-port: ${EXTERNAL_PORT}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With this approach the discovery agent becomes obsolete and we can retrieve the information for discovery through standard Amazon features. The example I have described in this post is just one way to implement service discovery in ECS, many alternatives are available.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[MicroHack Fargate]]></title><description><![CDATA[Last December at the AWS re:invent, AWS announced the new container service platform Fargate. Fargate is integrated to ECS. The key‚Ä¶]]></description><link>https://040code.github.io//2018-01-30-fargate_with_terraform/</link><guid isPermaLink="false">https://040code.github.io//2018-01-30-fargate_with_terraform/</guid><pubDate>Tue, 30 Jan 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Last December at the AWS re:invent, AWS announced the new container service platform Fargate. Fargate is integrated to ECS. The key difference is that Fargate does not require you to have EC2 instances running to host your containers, which means we have serverless containers. A drawback is that Fargate is not globally available yet, today Fargate is only available in &lt;code class=&quot;language-text&quot;&gt;us-east-1&lt;/code&gt;, see also the &lt;a href=&quot;https://aws.amazon.com/about-aws/global-infrastructure/regional-product-services/&quot;&gt;list&lt;/a&gt; of supported regions. Later in December Fargate also become available in &lt;a href=&quot;https://www.terraform.io/&quot;&gt;Terraform&lt;/a&gt; so time to see how it works.&lt;/p&gt;
&lt;p&gt;In this post I will show how to deploy containers to Fargate using Terraform. As example docker image I will use the blog itself. The complete example in available on &lt;a href=&quot;https://github.com/npalm/blog_terraform_aws_fargate&quot;&gt;GitHub&lt;/a&gt;. First I show how you can deploy a container using Terraform to Fargate. In case you would like to experiment with AWS console instead of Terraform you should be able to execute the same steps direct in AWS. Only the VPC part could be a bit tricky, but even that part can be skipped and replaced with the default VPC. In that case you don‚Äôt have private subnets available.&lt;/p&gt;
&lt;p&gt;Finally I will discuss how a deployment with Fargate in ECS compares to a deployment with EC2 in ECS. And show what steps have to be taken to move the deployment from Fargate to EC2 instances.&lt;/p&gt;
&lt;h2 id=&quot;prerequisites&quot;&gt;&lt;a href=&quot;#prerequisites&quot; aria-label=&quot;prerequisites permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;Before you start you need to have programmatically access to an AWS account and Terraform (0.11+) installed. The tool &lt;a href=&quot;http://brewformulas.org/Tfenv&quot;&gt;tfenv&lt;/a&gt; let you manage multiple terraform version on your system.&lt;/p&gt;
&lt;h2 id=&quot;deploy-serverless-containers-on-fargate&quot;&gt;&lt;a href=&quot;#deploy-serverless-containers-on-fargate&quot; aria-label=&quot;deploy serverless containers on fargate permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Deploy serverless containers on Fargate&lt;/h2&gt;
&lt;p&gt;Before we can create our containers, we have to create a few infrastructural components. For this example we create an own VPC including public and private subnets. An ECS cluster for our containers, and a CloudWatch log group for centralized logging. The diagram below shows an abstract view of the deployment we are going to create, this view contains two in instead of the 3 availability zones we use.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACr0lEQVQoz21ST0zTcBT+dbAEvYgxIUE0AWO86I3EePRqjF4lGk0MCScPnPRgojEe9CImaoygUTMScHEBphB0G7Cxjs12rlu3tR3buu5v11a2FQaMRXiWygig3+m9L9/78r7f+yGkwWQeR4WCuF2iwY+jqCiKTQCg9wDrrSVFfCrL0qqyVPrGLfLd2/wvOd2saQxJPokuXOpB23o+JSCUEtKotKTowxUpjQ27Uwa0gxTP907gXFpUa1D0ft5SwjiUl6ugKFIv2gOATcONvn40NvkdoUm7c4dUsYZgWcldLBRlT622Ds6QAA9HyC0nyUFeSK4EAiRMWUcYScrfyebF20dOnGpCB9GItyKnzk37YmY6KUG9tgq5glivqqXNpJCpOgj2mT8cbTd9Gn/CsCzU1pahXFFhqVTCtZSXX701tbgXCAOi6Cg2+GHYqPkZpBx/3eMn1edfaTC7tI3yeRByRXCRESkaDl1RxGw/HuJzAxOh385AfEOWFaiuroH2dmPzHt/pL9P2ZkQEQkYyQHfNuPB2fduq41hykXw06SKCVJC+NmV33YwwsQ21XIKKugyqWgGSScP7aQqisQTFcVzP44E3Lfsip7O5ZjrKdVB0pPO1aaLD5pi757NZOu2WoVaaCVuHbAw4g6l6JpvdKmumsvYN5Hz6vtvjbWt4xOMJNGKxIvQzGNk15uL8ITrCdNpn5u4Oj1q6zQ72cDbh75vzLTAvrH7wULFaLiO8s8/7zjZm1qormBP3IYcT370FYmMJFGZi+44U4eInHU73cb2vE0fzAvuApMJX92gwP0VjjlmX3nsJP8K9P5Bu5PIQOhnl4sjt/VuzLGeIsPG2QDB0xmpzd52/9dK4Gy+RxKZss3qtJdLmff/8nH0bHqiNVJDSzZhEBiNIUudFUUTz/zH6A5311DMw1KRlAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/2701f076404b39a83e017aadc9c77c86/cc182/ecs-fargate-diagram.webp 148w,
/static/2701f076404b39a83e017aadc9c77c86/f7e40/ecs-fargate-diagram.webp 295w,
/static/2701f076404b39a83e017aadc9c77c86/1a2f4/ecs-fargate-diagram.webp 590w,
/static/2701f076404b39a83e017aadc9c77c86/4837b/ecs-fargate-diagram.webp 885w,
/static/2701f076404b39a83e017aadc9c77c86/2f819/ecs-fargate-diagram.webp 1180w,
/static/2701f076404b39a83e017aadc9c77c86/a1c21/ecs-fargate-diagram.webp 1280w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/2701f076404b39a83e017aadc9c77c86/cf440/ecs-fargate-diagram.png 148w,
/static/2701f076404b39a83e017aadc9c77c86/d2d38/ecs-fargate-diagram.png 295w,
/static/2701f076404b39a83e017aadc9c77c86/b9e4f/ecs-fargate-diagram.png 590w,
/static/2701f076404b39a83e017aadc9c77c86/f9b6a/ecs-fargate-diagram.png 885w,
/static/2701f076404b39a83e017aadc9c77c86/2d849/ecs-fargate-diagram.png 1180w,
/static/2701f076404b39a83e017aadc9c77c86/0309e/ecs-fargate-diagram.png 1280w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/2701f076404b39a83e017aadc9c77c86/b9e4f/ecs-fargate-diagram.png&quot; alt=&quot;Fargate&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;We start with defining the VPC, we choose &lt;code class=&quot;language-text&quot;&gt;us-east-1&lt;/code&gt; since Fargate is only available in this region. In the blog post &lt;a href=&quot;/2017/06/18/terraform-aws-vpc/&quot;&gt;Coding a VPC in Terraform&lt;/a&gt; you find more details about how this VPC module is structured.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;provider &amp;quot;aws&amp;quot; {
  region  = &amp;quot;us-east-1&amp;quot;
  version = &amp;quot;1.7.1&amp;quot;
}

provider &amp;quot;template&amp;quot; {
  version = &amp;quot;1.0&amp;quot;
}

module &amp;quot;vpc&amp;quot; {
  source  = &amp;quot;npalm/vpc/aws&amp;quot; // https://registry.terraform.io/modules/npalm/vpc/aws
  version = &amp;quot;1.1.0&amp;quot;

  environment = &amp;quot;blog&amp;quot;
  aws_region  = &amp;quot;us-east-1&amp;quot;

  create_private_hosted_zone = &amp;quot;false&amp;quot;

  // us-east-1 is the only region that supports Fargate
  availability_zones = {
    us-east-1 = [&amp;quot;us-east-1a&amp;quot;, &amp;quot;us-east-1b&amp;quot;, &amp;quot;us-east-1c&amp;quot;]
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next we define the ECS cluster, and CloudWatch log group. Since we will deploy to Fargate we don‚Äôt have to attache EC2 instances to our cluster.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_ecs_cluster&amp;quot; &amp;quot;cluster&amp;quot; {
  name = &amp;quot;blog-ecs-cluster&amp;quot;
}

resource &amp;quot;aws_cloudwatch_log_group&amp;quot; &amp;quot;log_group&amp;quot; {
  name = &amp;quot;blog&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the first part is defined we execute a &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt; and inpect the results.&lt;/p&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2018/01/30/microhack-fargate/fargate-terraform-1.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;The next step is to deploy the docker image with the blog. In ECS you deploy a docker container with a task. And your task will be managed by a service. First we create the task definition which contains the container deployment definition as well. Fargate is using &lt;a href=&quot;https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task-networking.html&quot;&gt;awsvpc as networking mode&lt;/a&gt;, in this mode each task definiton gets its own private ip address. This network mode requires a role for the task execution. In case you create your definition through the Amazon console a service linked role will be created for you. We will create this role also via code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;data &amp;quot;aws_iam_policy_document&amp;quot; &amp;quot;ecs_tasks_execution_role&amp;quot; {
  statement {
    actions = [&amp;quot;sts:AssumeRole&amp;quot;]

    principals {
      type        = &amp;quot;Service&amp;quot;
      identifiers = [&amp;quot;ecs-tasks.amazonaws.com&amp;quot;]
    }
  }
}

resource &amp;quot;aws_iam_role&amp;quot; &amp;quot;ecs_tasks_execution_role&amp;quot; {
  name               = &amp;quot;blog-ecs-task-execution-role&amp;quot;
  assume_role_policy = &amp;quot;${data.aws_iam_policy_document.ecs_tasks_execution_role.json}&amp;quot;
}

resource &amp;quot;aws_iam_role_policy_attachment&amp;quot; &amp;quot;ecs_tasks_execution_role&amp;quot; {
  role       = &amp;quot;${aws_iam_role.ecs_tasks_execution_role.name}&amp;quot;
  policy_arn = &amp;quot;arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We have defined the execution rol for the task, next we define the task definion. This task definition consist of two parts. First we define a container definition via a &lt;code class=&quot;language-text&quot;&gt;template_file&lt;/code&gt;. In this container definition you see container port 80 is mapped to host port 80, the task will get its own private IP. And after that we define the task definition self. The following settings are required for a task that will run in Fargate: requires&lt;em&gt;compatibilities, network&lt;/em&gt;mode, cpu and memory.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;data &amp;quot;template_file&amp;quot; &amp;quot;blog&amp;quot; {
  template = &amp;lt;&amp;lt;EOF
  [
    {
      &amp;quot;essential&amp;quot;: true,
      &amp;quot;image&amp;quot;: &amp;quot;npalm/040code.github.io:latest&amp;quot;,
      &amp;quot;name&amp;quot;: &amp;quot;blog&amp;quot;,
      &amp;quot;portMappings&amp;quot;: [
        {
          &amp;quot;hostPort&amp;quot;: 80,
          &amp;quot;protocol&amp;quot;: &amp;quot;tcp&amp;quot;,
          &amp;quot;containerPort&amp;quot;: 80
        }
      ],
      &amp;quot;logConfiguration&amp;quot;: {
        &amp;quot;logDriver&amp;quot;: &amp;quot;awslogs&amp;quot;,
        &amp;quot;options&amp;quot;: {
          &amp;quot;awslogs-group&amp;quot;: &amp;quot;blog&amp;quot;,
          &amp;quot;awslogs-region&amp;quot;: &amp;quot;us-east-1&amp;quot;,
          &amp;quot;awslogs-stream-prefix&amp;quot;: &amp;quot;040code&amp;quot;
        }
      }
    }
  ]

  EOF
}

resource &amp;quot;aws_ecs_task_definition&amp;quot; &amp;quot;task&amp;quot; {
  family                   = &amp;quot;blog-blog&amp;quot;
  container_definitions    = &amp;quot;${data.template_file.blog.rendered}&amp;quot;
  network_mode             = &amp;quot;awsvpc&amp;quot;
  cpu                      = &amp;quot;256&amp;quot;
  memory                   = &amp;quot;512&amp;quot;
  requires_compatibilities = [&amp;quot;FARGATE&amp;quot;]
  execution_role_arn       = &amp;quot;${aws_iam_role.ecs_tasks_execution_role.arn}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Time to verify the code is working by executing a &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2018/01/30/microhack-fargate/fargate-terraform-2.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.0&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 67.29678638941398%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABzElEQVQoz1VR2Y6cMBDk/78s76usZncAcZrDJ7bBNgM4xTDZZFCphdyuqm5XwoaeNHVTV0ZPzi0huOD9jM8a7xa3zEZrawzwc4IftyxrCMlnw359pEUzEKo+btktK/O6SytyLwlhU93zr6y+F+T2rB3XaUm+8rqlikqT5NQUfNFb5A446LzReRchqjUKH4l0rVi43/Uepy3KNarH2eI+6hCTUdmiZ5205hGnEPV6QvpD+n1aIxH2My2rUTZsytqxU3PR82FalI9mPRJmQ07oMDnUTi24RISBinK7CrEV9l73nZyVP/iyCbfz+YEqA8gxodqXowStHATag/aj9qABcG65+a66miqoN3TCRDhES7rjJDMTGm6KXvRqBg3CZ9sfAPzhmRPWCAPd0a6X6En2l7Pxecey9pwZttSES/uvs+7VwueN2ZXND3Qv3ZfzqN21M5aXbpvC9VonwIdcMYgeM3ODFVDfnEHICG24xoTjf7YXykHeq77o+BQO/Yg/G72ce2mRBJvXs/HOBOBZUby/xSCDduIZwT9nLPM7qxqmq3FChpfwC7gUIqJCwiCnzUDt+nrti4w8ET21QYXXnj/AvdH49EmGRzkKPr+R/wAMI99xYR5OmgAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/97f5936174c67199672f40abfcc13a0d/cc182/container-definition.webp 148w,
/static/97f5936174c67199672f40abfcc13a0d/f7e40/container-definition.webp 295w,
/static/97f5936174c67199672f40abfcc13a0d/1a2f4/container-definition.webp 590w,
/static/97f5936174c67199672f40abfcc13a0d/4837b/container-definition.webp 885w,
/static/97f5936174c67199672f40abfcc13a0d/2f819/container-definition.webp 1180w,
/static/97f5936174c67199672f40abfcc13a0d/799b2/container-definition.webp 1770w,
/static/97f5936174c67199672f40abfcc13a0d/cb54e/container-definition.webp 2116w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/97f5936174c67199672f40abfcc13a0d/cf440/container-definition.png 148w,
/static/97f5936174c67199672f40abfcc13a0d/d2d38/container-definition.png 295w,
/static/97f5936174c67199672f40abfcc13a0d/b9e4f/container-definition.png 590w,
/static/97f5936174c67199672f40abfcc13a0d/f9b6a/container-definition.png 885w,
/static/97f5936174c67199672f40abfcc13a0d/2d849/container-definition.png 1180w,
/static/97f5936174c67199672f40abfcc13a0d/bbefa/container-definition.png 1770w,
/static/97f5936174c67199672f40abfcc13a0d/86e91/container-definition.png 2116w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/97f5936174c67199672f40abfcc13a0d/b9e4f/container-definition.png&quot; alt=&quot;Fargate&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;We have still nothing running but you can already see the different parts in de AWS console. We have now a VPC, CloudWatch log group, ECS cluster and task definition available. The next logical step in de AWS console would be to create the service, and find out at the latest step that you need to create a load balancer first. So in code we will define the load balancer first. The load balancer will route traffic via HTTP to the container.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_security_group&amp;quot; &amp;quot;alb_sg&amp;quot; {
  name   = &amp;quot;blog-blog-alb-sg&amp;quot;
  vpc_id = &amp;quot;${module.vpc.vpc_id}&amp;quot;

  ingress {
    protocol    = &amp;quot;tcp&amp;quot;
    from_port   = 80
    to_port     = 80
    cidr_blocks = [&amp;quot;0.0.0.0/0&amp;quot;]
  }

  egress {
    from_port = 0
    to_port   = 0
    protocol  = &amp;quot;-1&amp;quot;

    cidr_blocks = [&amp;quot;0.0.0.0/0&amp;quot;]
  }
}

resource &amp;quot;aws_alb&amp;quot; &amp;quot;main&amp;quot; {
  internal        = &amp;quot;false&amp;quot;
  subnets         = [&amp;quot;${module.vpc.public_subnets}&amp;quot;]
  security_groups = [&amp;quot;${aws_security_group.alb_sg.id}&amp;quot;]
}

resource &amp;quot;aws_alb_listener&amp;quot; &amp;quot;main&amp;quot; {
  load_balancer_arn = &amp;quot;${aws_alb.main.id}&amp;quot;
  port              = 80
  protocol          = &amp;quot;HTTP&amp;quot;

  default_action {
    target_group_arn = &amp;quot;${aws_alb_target_group.main.id}&amp;quot;
    type             = &amp;quot;forward&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We connect a target group to the load balancer. The same target group will be used later in the service, the service can register itself to the target group with the actual IP address once up and running. For the target group we have to specify the target type &lt;code class=&quot;language-text&quot;&gt;ip&lt;/code&gt; and not &lt;code class=&quot;language-text&quot;&gt;instance&lt;/code&gt; since containers running in Fargate will get their own IP. Actually this not Fargate but &lt;code class=&quot;language-text&quot;&gt;awsvpc&lt;/code&gt; behavior.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_alb_target_group&amp;quot; &amp;quot;main&amp;quot; {
  port        = &amp;quot;80&amp;quot;
  protocol    = &amp;quot;HTTP&amp;quot;
  vpc_id      = &amp;quot;${module.vpc.vpc_id}&amp;quot;
  target_type = &amp;quot;ip&amp;quot;
}

output &amp;quot;blog_url&amp;quot; {
  value = &amp;quot;http://${aws_alb.main.dns_name}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Again we verify our new code by executing a &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2018/01/30/microhack-fargate/fargate-terraform-3.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;We are almost there, next we define the service. A task running in in network mode &lt;code class=&quot;language-text&quot;&gt;awsvpc&lt;/code&gt;, requires a service that defines a network configuration. In the networking configuration we define a security group to control access to our containers, and we define the subnets in which the containers are hosted.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_security_group&amp;quot; &amp;quot;awsvpc_sg&amp;quot; {
  name   = &amp;quot;blog-awsvpc-cluster-sg&amp;quot;
  vpc_id = &amp;quot;${module.vpc.vpc_id}&amp;quot;

  ingress {
    protocol  = &amp;quot;tcp&amp;quot;
    from_port = 0
    to_port   = 65535

    cidr_blocks = [
      &amp;quot;${module.vpc.vpc_cidr}&amp;quot;,
    ]
  }

  egress {
    from_port   = 0
    to_port     = 65535
    protocol    = &amp;quot;tcp&amp;quot;
    cidr_blocks = [&amp;quot;0.0.0.0/0&amp;quot;]
  }

  tags {
    Name        = &amp;quot;blog-ecs-cluster-sg&amp;quot;
    Environment = &amp;quot;blog&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The last resource to create is the service. In the service we connect the task, load balancer and security group together. By setting the launch type to &lt;code class=&quot;language-text&quot;&gt;FARGATE&lt;/code&gt; we tell Amazon to deploy the container to Fargate.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_ecs_service&amp;quot; &amp;quot;service&amp;quot; {
  name            = &amp;quot;blog&amp;quot;
  cluster         = &amp;quot;${aws_ecs_cluster.cluster.id}&amp;quot;
  task_definition = &amp;quot;${aws_ecs_task_definition.task.arn}&amp;quot;
  desired_count   = 1

  load_balancer = {
    target_group_arn = &amp;quot;${aws_alb_target_group.main.arn}&amp;quot;
    container_name   = &amp;quot;blog&amp;quot;
    container_port   = 80
  }

  launch_type = &amp;quot;FARGATE&amp;quot;

  network_configuration {
    security_groups = [&amp;quot;${aws_security_group.awsvpc_sg.id}&amp;quot;]
    subnets         = [&amp;quot;${module.vpc.private_subnets}&amp;quot;]
  }

  depends_on = [&amp;quot;aws_alb_listener.main&amp;quot;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That is the last part of coding, run &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt; and inspect the result.&lt;/p&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2018/01/30/microhack-fargate/fargate-terraform-4.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;That is all, we have now our blog running as serverless container in AWS Fargate.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 51.61290322580645%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABD0lEQVQoz42Ra27DIBCEuf9BepNKvUNSVyG8zCsmxhjsOO4E1P5rk+/HCsme2dldoqSSUva95lwopTjnt9vt/jf7vuecIbHWkjQ9SCldK+EaIN7/BRZLhWzbVpaCCr9xinlb9pch67qioRSCMXa5XOIYEeS+318StxhnSruuwxhSSK11m+25eCvjkgJk0KCz934YhpRmgFmeiJVxX9w654wxfd+HECDWFUzUcmGFMGq1sVbI+yG8fWiMPc+p1vlXgwcEpZQpxnYR0B7WGMQkOUWreNsWmh8PR5zaOyfr2Rk7CynxVf5UUaGnE8KSnAtXMDK4cYyxmifjLdNiCNdPqqyDlcMuHtV5Sil+ZpwjwjfzCD7rxWEvrwAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/05b2cf60a35d313afb24fcc3ffa029f7/cc182/ecs-fargate.webp 148w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/f7e40/ecs-fargate.webp 295w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/1a2f4/ecs-fargate.webp 590w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/4837b/ecs-fargate.webp 885w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/1da3d/ecs-fargate.webp 1085w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/05b2cf60a35d313afb24fcc3ffa029f7/cf440/ecs-fargate.png 148w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/d2d38/ecs-fargate.png 295w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/b9e4f/ecs-fargate.png 590w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/f9b6a/ecs-fargate.png 885w,
/static/05b2cf60a35d313afb24fcc3ffa029f7/89595/ecs-fargate.png 1085w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/05b2cf60a35d313afb24fcc3ffa029f7/b9e4f/ecs-fargate.png&quot; alt=&quot;Fargate&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;h2 id=&quot;mixing-ec2-and-fargate-on-ecs&quot;&gt;&lt;a href=&quot;#mixing-ec2-and-fargate-on-ecs&quot; aria-label=&quot;mixing ec2 and fargate on ecs permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Mixing EC2 and Fargate on ECS&lt;/h2&gt;
&lt;p&gt;Great we have now our container running in ECS with Fargate but what if we would like to move the container to a dedicated EC2 instances in ECS. Or what if we need that are not available in in Fargate, such as a volume mount? How difficult would it be to move our containers to an ECS cluster with dedicated EC2 instances? Time to do an experiment to see how difficult is is.&lt;/p&gt;
&lt;p&gt;First we refactor the above code to some &lt;a href=&quot;https://github.com/npalm/terraform-aws-ecs-service&quot;&gt;generic ecs service modules&lt;/a&gt; to be able to define our services with just a few lines of code. This module replaces all code of defining the load balancer, service and task. It still requires a VPC, ECS cluster, CloudWatch logging group, awsvpc security group and execution role. In the code you see a similar deployment of the blog but now with a generic ECS service module.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;locals {
  fg_container_name = &amp;quot;blog&amp;quot;
  fg_container_port = &amp;quot;80&amp;quot;
}

data &amp;quot;template_file&amp;quot; &amp;quot;blog&amp;quot; {
  template = &amp;quot;${file(&amp;quot;${path.root}/task-definition/blog.json&amp;quot;)}&amp;quot;

  vars {
    container_name   = &amp;quot;${local.fg_container_name}&amp;quot;
    container_port   = &amp;quot;${local.fg_container_port}&amp;quot;
    log_group_name   = &amp;quot;${aws_cloudwatch_log_group.log_group.name}&amp;quot;
    log_group_region = &amp;quot;${var.aws_region}&amp;quot;
    log_group_prefix = &amp;quot;blog&amp;quot;
  }
}

module &amp;quot;blog-fg&amp;quot; {
  source = &amp;quot;npalm/ecs-service/aws&amp;quot; // https://registry.terraform.io/modules/npalm/ecs-service/aws

  service_launch_type  = &amp;quot;FARGATE&amp;quot;
  service_name          = &amp;quot;${local.fg_container_name}&amp;quot;

  vpc_id       = &amp;quot;${module.vpc.vpc_id}&amp;quot;
  vpc_cidr     = &amp;quot;${module.vpc.vpc_cidr}&amp;quot;
  lb_subnetids = &amp;quot;${module.vpc.public_subnets}&amp;quot;
  ecs_cluster_id = &amp;quot;${aws_ecs_cluster.cluster.id}&amp;quot;
  lb_internal = false

  task_definition = &amp;quot;${data.template_file.blog.rendered}&amp;quot;
  task_cpu        = &amp;quot;256&amp;quot;
  task_memory     = &amp;quot;512&amp;quot;

  awsvpc_task_execution_role_arn = &amp;quot;${aws_iam_role.ecs_tasks_execution_role.arn}&amp;quot;
  awsvpc_service_security_groups = [&amp;quot;${aws_security_group.awsvpc_sg.id}&amp;quot;]
  awsvpc_service_subnetids       = &amp;quot;${module.vpc.private_subnets}&amp;quot;

  lb_target_group = {
    container_name = &amp;quot;${local.fg_container_name}&amp;quot;
    container_port = &amp;quot;${local.fg_container_port}&amp;quot;
  }

  lb_listener = {
    port     = 80
    protocol = &amp;quot;HTTP&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We still have our container not running in ECS on EC2 instances. For that we first have to create EC2 instances that will be attached to the same ECS cluster. For more details about create the EC2 instances see the &lt;a href=&quot;https://github.com/npalm/terraform-aws-ecs-instances&quot;&gt;ecs instance repo&lt;/a&gt; on GitHub.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;locals {
  key_name = &amp;quot;blog&amp;quot;
  environment = &amp;quot;dev&amp;quot;
}

resource &amp;quot;aws_key_pair&amp;quot; &amp;quot;key&amp;quot; {
  key_name   = &amp;quot;${local.key_name}&amp;quot;
  public_key = &amp;quot;${file(&amp;quot;id_rsa&amp;quot;)}&amp;quot;
}

module &amp;quot;ecs_instances&amp;quot; {
  source  = &amp;quot;npalm/ecs-instances/aws&amp;quot; // https://registry.terraform.io/modules/npalm/ecs-instances/aws

  ecs_cluster_name = &amp;quot;${aws_ecs_cluster.cluster.name}&amp;quot;
  aws_region       = &amp;quot;${local.aws_region}&amp;quot;
  environment      = &amp;quot;${local.environment}&amp;quot;
  key_name         = &amp;quot;${local.key_name}&amp;quot;
  vpc_id           = &amp;quot;${module.vpc.vpc_id}&amp;quot;
  vpc_cidr         = &amp;quot;${module.vpc.vpc_cidr}&amp;quot;
  subnets          = &amp;quot;${module.vpc.private_subnets}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we have our EC2 instances available we only have to copy the the blog module above and change the launch type to &lt;code class=&quot;language-text&quot;&gt;EC2&lt;/code&gt;, and our container will be deployed to a dedicated EC2 instance.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;blog-ec&amp;quot; {
  source = &amp;quot;npalm/ecs-service/aws&amp;quot; // https://registry.terraform.io/modules/npalm/ecs-service/aws

  service_launch_type  = &amp;quot;FARGATE&amp;quot;
  service_name          = &amp;quot;blog-ec2&amp;quot;

  ... SAME AS ABOVE ...
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That is all, all sample code is available at &lt;a href=&quot;https://github.com/npalm/blog_terraform_aws_fargate&quot;&gt;GitHub&lt;/a&gt; see subdir &lt;code class=&quot;language-text&quot;&gt;fargate-ec2&lt;/code&gt;. Time to run a &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt; to see if it works.&lt;/p&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2018/01/30/microhack-fargate/fargate-ec2.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;In the output you will find the two endpoint links to the blogs. After a few minutes both links will be active. You can also see the service running on the Amazon console, simply navigate to the ECS console and select the cluster. You should see now one service on Fargate and the second one on EC2.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 53.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABHUlEQVQoz5VSW3KEIBDk/nfIZXIPk1peykNU2IJVYUkvJPlKJZuuckqEHrubIZyLaZoopUopRllKqdZ6/xVGGyllCIHEGEG4NvirP8+z/oVSSs4ZXchxHOX+WHgfbnmv/wFZ15VROgwDZHvvt21D42fJ+DtolDHn3GytMQYqniWX/WoMOHb5Qmp4pgUZmLJ21lojc9dgrR3H8cfY4ajX/kJeXicfQooJ0e/7/m24b+dcYoodKfV6Q7RaKRwmapKcs7kBsXEh3OKgQmkthYAEDAJuVYhH7eCcYy5wTYRJNVwkrCJn3wDyu7ws6/pGpRiV0RpGECq6gzNKtONYYiLIFg8bjnuTCp14zpLd7nMpxh/h9jkzj61aEUTzkvuXD/s6ejsZi8g0AAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/9bf9eac181171c2eb608b40db7953d4c/cc182/ecs-fargate-2.webp 148w,
/static/9bf9eac181171c2eb608b40db7953d4c/f7e40/ecs-fargate-2.webp 295w,
/static/9bf9eac181171c2eb608b40db7953d4c/1a2f4/ecs-fargate-2.webp 590w,
/static/9bf9eac181171c2eb608b40db7953d4c/4837b/ecs-fargate-2.webp 885w,
/static/9bf9eac181171c2eb608b40db7953d4c/fde25/ecs-fargate-2.webp 1092w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/9bf9eac181171c2eb608b40db7953d4c/cf440/ecs-fargate-2.png 148w,
/static/9bf9eac181171c2eb608b40db7953d4c/d2d38/ecs-fargate-2.png 295w,
/static/9bf9eac181171c2eb608b40db7953d4c/b9e4f/ecs-fargate-2.png 590w,
/static/9bf9eac181171c2eb608b40db7953d4c/f9b6a/ecs-fargate-2.png 885w,
/static/9bf9eac181171c2eb608b40db7953d4c/a7b2a/ecs-fargate-2.png 1092w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/9bf9eac181171c2eb608b40db7953d4c/b9e4f/ecs-fargate-2.png&quot; alt=&quot;Fargate&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;</content:encoded></item><item><title><![CDATA[Runners on the Spot]]></title><description><![CDATA[IntroductionGitLab CI is a first class citizen in GitLab to enable continuous integration and delivery to your project. Builds are‚Ä¶]]></description><link>https://040code.github.io//2017-11-24-runners-on-the-spot/</link><guid isPermaLink="false">https://040code.github.io//2017-11-24-runners-on-the-spot/</guid><pubDate>Sat, 09 Dec 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;introduction&quot;&gt;&lt;a href=&quot;#introduction&quot; aria-label=&quot;introduction permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Introduction&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://about.gitlab.com/features/gitlab-ci-cd/&quot;&gt;GitLab CI&lt;/a&gt; is a first class citizen in GitLab to enable continuous integration and delivery to your project. Builds are orchestrated via &lt;a href=&quot;https://docs.gitlab.com/runner/&quot;&gt;GitLab Runners&lt;/a&gt;, which are agents registered to your GitLab account. An agent runs builds using a local shell or a container. Runnings these builds requires a well-defined infrastructure, both with respect to the type of server and the server capacity. Would it not be great if you can scale the infrastructure based on your needs? Indeed, GitLabs runner supports out of the box auto scaling using docker machine, which is discussed in the GitLab blog article: &lt;a href=&quot;https://about.gitlab.com/2017/11/23/autoscale-ci-runners/&quot;&gt;Autoscale GitLab CI runners and save 90% on EC2 costs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The GitLab blog article nicely explains how to create your infrastructure in a manual way. However, we rather automate all things. Thus, we will automate the set up described in the blog article. In this post I will discuss how to create the infrastructure needed to run the build on AWS spot instances with &lt;a href=&quot;https://www.terraform.io/&quot;&gt;Hashicorp Terraform&lt;/a&gt;. The GitLab Runner module discussed in the post is available in the &lt;a href=&quot;https://registry.terraform.io/modules/npalm/gitlab-runner/aws/0.1.0&quot;&gt;Terraform Registery&lt;/a&gt;.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 42.07650273224044%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQY001RS1KDQBTkGt7HhVfyHF7BhTtX2ZmyKvuoVYGEgDPABDAQ5RMKGIb52GAlZS+GrvfmTXc/rL7vOe/tzWa9Xn+lqRgnKKW6rhuGgXMuhDifz7ZtM3YAR4UPUwfcwrAxxnGc1WqVZRk4uhhGXWsNgrNpmuXyxfN9dJWSZipPFyxcNf8gpcSTOKGcZxkhBDxJYkpoxFgUUP+Q75PaaAkDFh9H09bd8yN/++gXT8qYYfbVtq2aAeUgoO5uRym+xKUJTQqIQxXKozHN+HBX3d6Y13sMV2VZFD/A6fRd1xU8B0GwdZxPQrz9zvYTklSX4TmzblK1WRgzKqlhGI2iKLbOlkXR8XiM45jMoJSEYeSF6TDjklnra2ZUsfA8zyFeliW2yBhzXRexw4B6lL2TEj/ozzaftiqlGgUSCjFiYRhGvYbpqrqGn7tCDIPWEhwXfgFUEL7p2geODAAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/fd91ecffb8159f85b66f5b526bb498f5/cc182/gitlab-runner.webp 148w,
/static/fd91ecffb8159f85b66f5b526bb498f5/f7e40/gitlab-runner.webp 295w,
/static/fd91ecffb8159f85b66f5b526bb498f5/1a2f4/gitlab-runner.webp 590w,
/static/fd91ecffb8159f85b66f5b526bb498f5/7dd13/gitlab-runner.webp 732w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/fd91ecffb8159f85b66f5b526bb498f5/cf440/gitlab-runner.png 148w,
/static/fd91ecffb8159f85b66f5b526bb498f5/d2d38/gitlab-runner.png 295w,
/static/fd91ecffb8159f85b66f5b526bb498f5/b9e4f/gitlab-runner.png 590w,
/static/fd91ecffb8159f85b66f5b526bb498f5/7ec06/gitlab-runner.png 732w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/fd91ecffb8159f85b66f5b526bb498f5/b9e4f/gitlab-runner.png&quot; alt=&quot;GitLab Runner&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;h2 id=&quot;prerequisites&quot;&gt;&lt;a href=&quot;#prerequisites&quot; aria-label=&quot;prerequisites permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;Before we start, we need to briefly discuss the GitLab runners. To execute the builds, GitLab uses an agent to orchestrate the build with a docker machine. A docker machine creates instances with docker engine to run docker containers. The first step for setting up a runner is to register a new runner. Because GitLab currently does not provide a fully automated way for this, we will do this manually.&lt;/p&gt;
&lt;p&gt;Open you GitLab project and lookup the token to register a runner. Be aware that there are project tokens and a GitLab global token. Next, we use a docker container to register a runner. The command will ask a few details.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -it --rm gitlab/gitlab-runner register&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2017/12/09/runners-on-the-spot/register.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;Provide the requested details and consult the GitLab manual for more details. Once done, you should see a new runner registered at your project or globally. Open the runner settings in edit mode and record the token. This token is needed later for connecting the agent.&lt;/p&gt;
&lt;h2 id=&quot;creating-infrastructure-for-the-runners&quot;&gt;&lt;a href=&quot;#creating-infrastructure-for-the-runners&quot; aria-label=&quot;creating infrastructure for the runners permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating infrastructure for the runners&lt;/h2&gt;
&lt;p&gt;Now the runner is configured in GitLab, we can start creating the infrastructure on AWS. For setting up the network layers, we use &lt;a href=&quot;http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenario2.html&quot;&gt;Amazon networking scenario 2&lt;/a&gt; to build a VPC with a public and private subnets. For more details see this &lt;a href=&quot;2017/06/18/terraform-aws-vpc/&quot;&gt;post&lt;/a&gt; about creating a VPC in terraform. You can also simply use the &lt;a href=&quot;https://registry.terraform.io/modules/terraform-aws-modules/vpc/aws/1.7.0&quot;&gt;official terraform module&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;vpc&amp;quot; {
  source  = &amp;quot;terraform-aws-modules/vpc/aws&amp;quot;
  version = &amp;quot;1.5.1&amp;quot;

  name = &amp;quot;vpc-${var.environment}&amp;quot;
  cidr = &amp;quot;10.0.0.0/16&amp;quot;

  azs             = [&amp;quot;eu-west-1a&amp;quot;, &amp;quot;eu-west-1b&amp;quot;, &amp;quot;eu-west-1c&amp;quot;]
  private_subnets = [&amp;quot;10.0.1.0/24&amp;quot;, &amp;quot;10.0.2.0/24&amp;quot;, &amp;quot;10.0.3.0/24&amp;quot;]
  public_subnets  = [&amp;quot;10.0.101.0/24&amp;quot;, &amp;quot;10.0.102.0/24&amp;quot;, &amp;quot;10.0.103.0/24&amp;quot;]

  enable_nat_gateway = true

  tags = {
    Environment = &amp;quot;${var.environment}&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, we create a &lt;code class=&quot;language-text&quot;&gt;t2.micro&lt;/code&gt; instance using an autoscaling group in the private network. On this instance we install and configure the GitLab runner. Configuration of GitLab runners is done via the &lt;code class=&quot;language-text&quot;&gt;config.toml&lt;/code&gt; file. Below the parameterized version of this configuration file. In the Terraform module you will find that the configuration file is loaded via a data template.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;concurrent = ${runner_concurrent}
check_interval = 0

[[runners]]
  name = &amp;quot;${runners_name}&amp;quot;
  url = &amp;quot;${gitlab_url}&amp;quot;
  token = &amp;quot;${runners_token}&amp;quot;
  executor = &amp;quot;docker+machine&amp;quot;
  limit = ${runners_limit}
  [runners.docker]
    tls_verify = false
    image = &amp;quot;docker:17.11.0-ce&amp;quot;
    privileged = ${runners_privilled}
    disable_cache = false
    volumes = [&amp;quot;/cache&amp;quot;]
    shm_size = 0
  [runners.cache]
    Type = &amp;quot;s3&amp;quot;
    ServerAddress = &amp;quot;s3-${aws_region}.amazonaws.com&amp;quot;
    AccessKey = &amp;quot;${bucket_user_access_key}&amp;quot;
    SecretKey = &amp;quot;${bucket_user_secret_key}&amp;quot;
    BucketName = &amp;quot;${bucket_name}&amp;quot;
    Insecure = false
  [runners.machine]
    IdleCount = ${runners_idle_count}
    IdleTime = ${runners_idle_time}
    MachineDriver = &amp;quot;amazonec2&amp;quot;
    MachineName = &amp;quot;runner-%s&amp;quot;
    MachineOptions = [
      &amp;quot;amazonec2-access-key=${access_key}&amp;quot;,
      &amp;quot;amazonec2-secret-key=${secret_key}&amp;quot;,
      &amp;quot;amazonec2-instance-type=${instance_type}&amp;quot;,
      &amp;quot;amazonec2-region=${aws_region}&amp;quot;,
      &amp;quot;amazonec2-vpc-id=${vpc_id}&amp;quot;,
      &amp;quot;amazonec2-subnet-id=${subnet_id}&amp;quot;,
      &amp;quot;amazonec2-private-address-only=true&amp;quot;,
      &amp;quot;amazonec2-request-spot-instance=true&amp;quot;,
      &amp;quot;amazonec2-spot-price=${spot_price_bid}&amp;quot;,
      &amp;quot;amazonec2-security-group=${security_group_name}&amp;quot;
    ]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;All variables can be configured and most of them have default values. Only the name of the runner, the token and the GitLab URL need to be configured. The configuration contains a shared cache in S3 which will expire at the end of the next day (after creation) by default. Files will be deleted via S3 lifecycle management once expired, but the number of expiration days can be changed to your needs. You can find all the available variables in the &lt;code class=&quot;language-text&quot;&gt;variables.tf&lt;/code&gt; file of the module. Next we add the module to our Terraform file and define a minimal set of variables.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;gitlab-runner&amp;quot; {
  source = &amp;quot;npalm/gitlab-runner/aws&amp;quot;

  aws_region     = &amp;quot;&amp;lt;region-to-use&amp;gt;&amp;quot;
  environment    = &amp;quot;ci-runners&amp;quot;
  ssh_public_key = &amp;quot;&amp;lt;contains-public-key&amp;quot;

  vpc_id                  = &amp;quot;${module.vpc.vpc_id}&amp;quot;
  subnet_id_gitlab_runner = &amp;quot;${element(module.vpc.private_subnets, 0)}&amp;quot;
  subnet_id_runners       = &amp;quot;${element(module.vpc.private_subnets, 0)}&amp;quot;

  # Values below are created during the registration process of the runner.
  runner_name       = &amp;quot;&amp;lt;name-of-the-runner&amp;quot;
  runner_gitlab_url = &amp;quot;&amp;lt;gitlab-url&amp;gt;&amp;quot;
  runner_token      = &amp;quot;&amp;lt;token-of-the-runner&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The complete example is in &lt;a href=&quot;https://github.com/npalm/terraform-aws-gitlab-runner/tree/master/example&quot;&gt;GitHub&lt;/a&gt;. Now it is time to execute the scripts to create the actual infrastructure. Be aware that you need to configure AWS keys and have Terraform installed. The steps below should guide you through the setup.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/terraform-aws-gitlab-runner.git
cd tf-aws-gitlab-runner/example&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The example directory contains the example as described above, so the properties for your newly registered runner in GitLab need to be configured. Please register a runner in GitLab (see docker command above) and update the &lt;code class=&quot;language-text&quot;&gt;terraform.tfvars&lt;/code&gt; file. That is all, now execute the Terraform code.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# genere SSH key pair
./init.sh

# initialize terraform
terraform init

# apply, or plan first
terraform apply&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;asciinema-player src=&quot;/2017/12/09/runners-on-the-spot/terraform.json&quot;
  cols=&quot;166&quot; rows=&quot;15&quot; autoplay=&quot;true&quot; loop=&quot;true&quot; speed=&quot;1.5&quot;&gt;
&lt;/asciinema-player&gt;&lt;/p&gt;
&lt;p&gt;After a few minutes the runner should be running and you should see it in your AWS console.
&lt;a href=&quot;#&quot;&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 15.377358490566037%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAlUlEQVQI1zWNOw7CMBBEc3lqLsApqCg5AS3ExrGytuMP/sWiSJHYbJDyqnm7Gk13uavzbTxd+ePtviUBiFJKa63W2g4qWtt1Xddt25Zlmec5hNBZ56RU2lhzgFfsxxgxpJS893EHYzTaAABjrO97Kacu58z5YK0tf/BHCEHlnGutlVKUUvexr+EphQQ1UkpwQAjwfvoB56ij6wuRaagAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/da22dc7ce8a7f28e3d3a087312726989/cc182/ec2.webp 148w,
/static/da22dc7ce8a7f28e3d3a087312726989/f7e40/ec2.webp 295w,
/static/da22dc7ce8a7f28e3d3a087312726989/1a2f4/ec2.webp 590w,
/static/da22dc7ce8a7f28e3d3a087312726989/4837b/ec2.webp 885w,
/static/da22dc7ce8a7f28e3d3a087312726989/2f819/ec2.webp 1180w,
/static/da22dc7ce8a7f28e3d3a087312726989/799b2/ec2.webp 1770w,
/static/da22dc7ce8a7f28e3d3a087312726989/2c53d/ec2.webp 2120w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/da22dc7ce8a7f28e3d3a087312726989/cf440/ec2.png 148w,
/static/da22dc7ce8a7f28e3d3a087312726989/d2d38/ec2.png 295w,
/static/da22dc7ce8a7f28e3d3a087312726989/b9e4f/ec2.png 590w,
/static/da22dc7ce8a7f28e3d3a087312726989/f9b6a/ec2.png 885w,
/static/da22dc7ce8a7f28e3d3a087312726989/2d849/ec2.png 1180w,
/static/da22dc7ce8a7f28e3d3a087312726989/bbefa/ec2.png 1770w,
/static/da22dc7ce8a7f28e3d3a087312726989/6ecdf/ec2.png 2120w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/da22dc7ce8a7f28e3d3a087312726989/b9e4f/ec2.png&quot; alt=&quot;Running EC2 instances&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;br&gt;
The runner should be active as well in GitLab. Check the runner pages which should now indicate the latest moment of contact.
&lt;a href=&quot;#&quot;&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 76.30573248407643%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAABDklEQVQoz5WT3XKDIBCFef9H6kxfoulML3OXQFFAEZBfc1DHTC9M6F4o6h7Px+5CKGOc89vtTild/hlETxoy6K118V2EEJSU3vvtkVhrh2HAKqWUcy4vAzla6yONOOe6rksptnBCDLMnNsRSKSFE3/fzPOPVufECQGNdLnsOmZ2DDOaM0k38IgqIfXUuh/M0TbnuJ9afn8nWa0jl43v4/Bl3bGusMaaxNymXr2t3uXLw78561KUtUDBvdclhK3gVK6WWc+A/8KWgugdp7TNK3YgNw3HUR10JVqIXMcQW7CoexueQQMx/OeamERt9PeakYjPGjJnWb/mts5ASQ4FqV2fcYGuda9w2WouzMK/5D52sc2TxHp2fAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/d9ff5713181f96b5c776524cd5081007/cc182/runner.webp 148w,
/static/d9ff5713181f96b5c776524cd5081007/f7e40/runner.webp 295w,
/static/d9ff5713181f96b5c776524cd5081007/1a2f4/runner.webp 590w,
/static/d9ff5713181f96b5c776524cd5081007/4837b/runner.webp 885w,
/static/d9ff5713181f96b5c776524cd5081007/2f819/runner.webp 1180w,
/static/d9ff5713181f96b5c776524cd5081007/1752f/runner.webp 1570w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/d9ff5713181f96b5c776524cd5081007/cf440/runner.png 148w,
/static/d9ff5713181f96b5c776524cd5081007/d2d38/runner.png 295w,
/static/d9ff5713181f96b5c776524cd5081007/b9e4f/runner.png 590w,
/static/d9ff5713181f96b5c776524cd5081007/f9b6a/runner.png 885w,
/static/d9ff5713181f96b5c776524cd5081007/2d849/runner.png 1180w,
/static/d9ff5713181f96b5c776524cd5081007/a0d55/runner.png 1570w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/d9ff5713181f96b5c776524cd5081007/b9e4f/runner.png&quot; alt=&quot;GitLab Runner details&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;br&gt;&lt;/p&gt;
&lt;p&gt;The modules also enable CloudWatch logging, all &lt;code class=&quot;language-text&quot;&gt;systemd&lt;/code&gt; logging is streamed. Go to CloudWatch to inspect the logging and you will see that the installation process was logged as well.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 16.97401508801341%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsSAAALEgHS3X78AAAAjUlEQVQI1zWMXQ+CMAxF+f9/z0jXjn24BxPcFDVsHbCIjcSTm5M+9N4uxsTM+76LrbWllFqr956IQgjGGDnEzjn7I+e8/Olu49haO8rGDDnPzEWeFIBMaK0BABFlAlGlFFvb1mU96K7pFZ+8bJ/CTHp4z3kudbCuB2WcV6hP514hIWlAcpdwn57pMYklX9i7o8CqzzMNAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/1111ac4745032de3c599fdfa409cd4b1/cc182/cloudwatch.webp 148w,
/static/1111ac4745032de3c599fdfa409cd4b1/f7e40/cloudwatch.webp 295w,
/static/1111ac4745032de3c599fdfa409cd4b1/1a2f4/cloudwatch.webp 590w,
/static/1111ac4745032de3c599fdfa409cd4b1/4837b/cloudwatch.webp 885w,
/static/1111ac4745032de3c599fdfa409cd4b1/2f819/cloudwatch.webp 1180w,
/static/1111ac4745032de3c599fdfa409cd4b1/799b2/cloudwatch.webp 1770w,
/static/1111ac4745032de3c599fdfa409cd4b1/7c78f/cloudwatch.webp 2386w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/1111ac4745032de3c599fdfa409cd4b1/cf440/cloudwatch.png 148w,
/static/1111ac4745032de3c599fdfa409cd4b1/d2d38/cloudwatch.png 295w,
/static/1111ac4745032de3c599fdfa409cd4b1/b9e4f/cloudwatch.png 590w,
/static/1111ac4745032de3c599fdfa409cd4b1/f9b6a/cloudwatch.png 885w,
/static/1111ac4745032de3c599fdfa409cd4b1/2d849/cloudwatch.png 1180w,
/static/1111ac4745032de3c599fdfa409cd4b1/bbefa/cloudwatch.png 1770w,
/static/1111ac4745032de3c599fdfa409cd4b1/26fc7/cloudwatch.png 2386w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/1111ac4745032de3c599fdfa409cd4b1/b9e4f/cloudwatch.png&quot; alt=&quot;CloudWatch logging&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;h2 id=&quot;verify&quot;&gt;&lt;a href=&quot;#verify&quot; aria-label=&quot;verify permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Verify&lt;/h2&gt;
&lt;p&gt;Finally we can verify that the runner is working properly by executing a build. The &lt;code class=&quot;language-text&quot;&gt;.gitlab-ci.yml&lt;/code&gt; below is an example to verify the runner is working properly. The build contains two stages. In the first stage an ascii art image is generated, stored in a file which is cached in S3. In the second stage the file is retrieved from the build cache.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;stages:
  - build
  - verify

cache:
  key: &amp;quot;$CI_BUILD_REF&amp;quot;
  untracked: true

image: npalm/cowsay

build:
  stage: build

  script:
    - cowsay -f ghostbusters building &amp;quot;$CI_BUILD_NAME&amp;quot; @ stage &amp;quot;$CI_BUILD_STAGE&amp;quot; &amp;gt; ghosts.txt

  tags:
     - docker.m3

verify:
  stage: verify

  script:
    - cat ghosts.txt

  tags:
    - docker.m3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Add the file above to the GitLab repository that has the created runner attached. Once you commit the file a build should triggered. The logging of the verification step should contain the ascii art image.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 47.993705743509054%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABv0lEQVQoz12R3WriQBTHk0mIHzVFE7u4sKltDb0UIdFFKFu6L+KVDyB4KZtSWiz4KIJWfQWhj9DC7o0IlSKbSaL5mDjqHrVlW/+ESeDMb35nTpjpdEopfX5+ajavm/c3t3fXhvFrF8MwGo1GvV6v1WrVarXValmWFQZ+SMjMI5ZLGMdx1ut1r/8Qi3GiGOV5xLIs8zkIIVjz+bxp4j+jyfQvpnQRhuEbPBgMEOIEIRKDxOMcx8ER3DY8zwuCAHCpVLJs5/E3fsXekoYE4Pl8vjH3elAWRRFQSZJzuVwikdgz67qOsQnB2CaEbMyTySvAnU4Hdhxns7Amk0lFUTKZzB6s6brt2KZlm7ZrO64fEOblZQLHtNvtSCT65egonU6nJAl6lWV5x3w0z9xZEJDlcknhoZQZjUZBEAAMZVVVoWf4gOYV5XjfrGlzz/V8b7FY0G2Y8XgMr263C2VJls7P1ZPTrKqeHR4eIMSibWBmOzNoYPPuwps7wwBWq1V/0PumpDJfk6nUQTzOR6MAMCz6ZC4UCr7vg/Y/jDGGgQ2Hw6ufFz8uL3StqMFk9GKxCL+m9H2bcrkMZKVSATPA4Xv+AdGoBSyConzvAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/d4b535fa8f201439b10aa5e2ce199557/cc182/ghost.webp 148w,
/static/d4b535fa8f201439b10aa5e2ce199557/f7e40/ghost.webp 295w,
/static/d4b535fa8f201439b10aa5e2ce199557/1a2f4/ghost.webp 590w,
/static/d4b535fa8f201439b10aa5e2ce199557/4837b/ghost.webp 885w,
/static/d4b535fa8f201439b10aa5e2ce199557/2f819/ghost.webp 1180w,
/static/d4b535fa8f201439b10aa5e2ce199557/799b2/ghost.webp 1770w,
/static/d4b535fa8f201439b10aa5e2ce199557/87621/ghost.webp 2542w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/d4b535fa8f201439b10aa5e2ce199557/cf440/ghost.png 148w,
/static/d4b535fa8f201439b10aa5e2ce199557/d2d38/ghost.png 295w,
/static/d4b535fa8f201439b10aa5e2ce199557/b9e4f/ghost.png 590w,
/static/d4b535fa8f201439b10aa5e2ce199557/f9b6a/ghost.png 885w,
/static/d4b535fa8f201439b10aa5e2ce199557/2d849/ghost.png 1180w,
/static/d4b535fa8f201439b10aa5e2ce199557/bbefa/ghost.png 1770w,
/static/d4b535fa8f201439b10aa5e2ce199557/6de9f/ghost.png 2542w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/d4b535fa8f201439b10aa5e2ce199557/b9e4f/ghost.png&quot; alt=&quot;Build log&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;h2 id=&quot;warning&quot;&gt;&lt;a href=&quot;#warning&quot; aria-label=&quot;warning permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Warning&lt;/h2&gt;
&lt;p&gt;Be aware that prices of a spot instance can change over the time and instances can be terminated without a warning. Last black Friday prices of spot instances went up to over 2 dollar occasionally.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[GraphQL]]></title><description><![CDATA[A short post to share the slides and examples I used in my talk at the GeeCON conference on October the 19th in Prague.SlidesBelow the‚Ä¶]]></description><link>https://040code.github.io//2017-10-19-graphql-geecon/</link><guid isPermaLink="false">https://040code.github.io//2017-10-19-graphql-geecon/</guid><pubDate>Thu, 19 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;A short post to share the slides and examples I used in my talk at the &lt;a href=&quot;https://2017.geecon.cz&quot;&gt;GeeCON&lt;/a&gt; conference on October the 19th in Prague.&lt;/p&gt;
&lt;h2 id=&quot;slides&quot;&gt;&lt;a href=&quot;#slides&quot; aria-label=&quot;slides permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Slides&lt;/h2&gt;
&lt;p&gt;Below the slides that I for the talk, the slides are available as well on &lt;a href=&quot;https://npalm.github.io/graphql-slides-20171019/&quot;&gt;GitHub&lt;/a&gt;. You can easy navigate through the slides with the spacebar.&lt;/p&gt;
&lt;div style=&quot;position:relative; width:100%; height:0px; padding-bottom:56.25%;&quot;&gt;
    &lt;iframe style=&quot;position:absolute; left:0; top:0; width:100%; height:100%&quot;
        src=&quot;https://npalm.github.io/graphql-slides-20171019/&quot;&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;To get started with GraphQL the best starting points are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://graphql.org&quot;&gt;GraphQL.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/chentsulin/awesome-graphql&quot;&gt;Awesome GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;examples&quot;&gt;&lt;a href=&quot;#examples&quot; aria-label=&quot;examples permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;p&gt;During the talk, I demonstrated GraphQL via &lt;a href=&quot;https://www.graph.cool/&quot;&gt;graphcool&lt;/a&gt;, which is cloud service for creating a flexible GraphGL backend. I modelled a basic model of a Talk and Person with relation speakers and visitors on graphcool. Furthermore, I modelled two basic sample implementations of a GraphQL backend in Java and JavaScript that are available via GitHub. Those implementation are more limited than the online one, but both serve the following minimal queries.&lt;/p&gt;
&lt;p&gt;Query for the name and the title of the talks given by all persons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  persons {
    name
    talks {
      title
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And secondly, a query for all titles of talks with their speaker‚Äôs names.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  talks {
    title
    speakers {
      name
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;javascript-sample&quot;&gt;&lt;a href=&quot;#javascript-sample&quot; aria-label=&quot;javascript sample permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript sample&lt;/h3&gt;
&lt;p&gt;The JavaScript &lt;a href=&quot;https://github.com/npalm/graphql-js-demo.git&quot;&gt;sample&lt;/a&gt; is based on &lt;a href=&quot;https://github.com/apollostack/apollo-starter-kit&quot;&gt;Apollo GraphQL tutorial kit&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/graphql-js-demo.git
cd graphql-js-demo
yarn &amp;amp;&amp;amp; yarn start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Instead of yarn, you can use &lt;code class=&quot;language-text&quot;&gt;npm install &amp;amp;&amp;amp; npm start&lt;/code&gt;. Once started, browse to &lt;a href=&quot;http://localhost:8080/graphiql&quot;&gt;http://localhost:8080/graphiql&lt;/a&gt; and play around with the GraphQL web interface. Implementing the JavaScript version was straightforward due to the many examples and good tutorials around.&lt;/p&gt;
&lt;h3 id=&quot;spring-boot-java-sample&quot;&gt;&lt;a href=&quot;#spring-boot-java-sample&quot; aria-label=&quot;spring boot java sample permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Boot Java sample&lt;/h3&gt;
&lt;p&gt;The Spring Boot Java &lt;a href=&quot;https://github.com/npalm/graphql-java-demo.git&quot;&gt;sample&lt;/a&gt; is based on the Spring Boot Starter available for GraphQL and GraphQL java tools lib with schema first support.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/graphql-java-demo.git
git checkout nextbuild
cd graphql-java-demo
docker build -t graphql-java-demo &amp;amp;&amp;amp; docker run -it --rm -p 8080:8080 graphql-java-demo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, you can build and run via gradle. Once started, browse to &lt;a href=&quot;http://localhost:8080/&quot;&gt;http://localhost:8080/&lt;/a&gt; to play around with the GraphQL web interface.&lt;/p&gt;
&lt;p&gt;Many languages already have support, so feel free to try out your favourite language. Currently the support on JavaScript looks like by far the best.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[MicroHack Zappa.io]]></title><description><![CDATA[MicroHack - Python serverless with Zappa.ioThe contextI‚Äôve visited one of the best conferences last september, Full Stack Fest in Barcelona‚Ä¶]]></description><link>https://040code.github.io//2017-10-01-micro-hack-zappa-io/</link><guid isPermaLink="false">https://040code.github.io//2017-10-01-micro-hack-zappa-io/</guid><pubDate>Sun, 01 Oct 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;microhack---python-serverless-with-zappaio&quot;&gt;&lt;a href=&quot;#microhack---python-serverless-with-zappaio&quot; aria-label=&quot;microhack   python serverless with zappaio permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;MicroHack - Python serverless with Zappa.io&lt;/h1&gt;
&lt;h2 id=&quot;the-context&quot;&gt;&lt;a href=&quot;#the-context&quot; aria-label=&quot;the context permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The context&lt;/h2&gt;
&lt;p&gt;I‚Äôve visited one of the best conferences last september, Full Stack Fest in Barcelona. Since then, two talks are constantly in the back of my mind.&lt;/p&gt;
&lt;p&gt;The first one is the talk by Ben Foxall (&lt;a href=&quot;https://twitter.com/benjaminbenben&quot;&gt;@benjaminbenben&lt;/a&gt;). He talked about Microhacks and how to become better in your experiments by constraining them. Write small reports / blogs of your Microhacks to so you have a nice overview of some of the experiments you‚Äôve done. Guess what this blog is about..&lt;/p&gt;
&lt;p&gt;The second talk I‚Äôm frequently think of was the talk by Rich Jones (&lt;a href=&quot;https://twitter.com/GUNdotIO&quot;&gt;@GUNdotIO&lt;/a&gt;) titled ‚ÄúGone in 60 milliseconds: Offensive security in the serverless age‚Äù. A DDoS attack of slides, 452 in total. The talk main focus was about security and how you can hack the AWS infrastructure if things are not setup correctly. He knows his ways in AWS. That‚Äôs comes very handy if you want to build a cli which helps other people to run serverless python apps in the cloud. And this is exactly what he‚Äôs been doing with &lt;a href=&quot;https://www.zappa.io&quot;&gt;https://www.zappa.io&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;whats-the-experiment&quot;&gt;&lt;a href=&quot;#whats-the-experiment&quot; aria-label=&quot;whats the experiment permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What‚Äôs the experiment&lt;/h2&gt;
&lt;p&gt;I wanted to test the cli zappa.io with a simple python Flask app. The specs are simple: A service which reverses an input string running in the cloud with zappa.io. Serverless services are very interesting, because it‚Äôs based on lambdas and they typically run for a few milliseconds. So the costs are very low, utilization is very high.
I‚Äôve asked some colleagues to join me on a friday afternoon experiment and &lt;a href=&quot;https://github.com/13B-MSP&quot;&gt;Jos Beijk&lt;/a&gt; wanted to help.&lt;/p&gt;
&lt;h2 id=&quot;lets-do-it&quot;&gt;&lt;a href=&quot;#lets-do-it&quot; aria-label=&quot;lets do it permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Let‚Äôs do it!&lt;/h2&gt;
&lt;p&gt;We need &lt;a href=&quot;https://www.python.org/&quot;&gt;Python&lt;/a&gt;, a package manager (&lt;a href=&quot;https://pip.pypa.io&quot;&gt;pip&lt;/a&gt;) and a tool to create isolated Python environments (&lt;a href=&quot;https://virtualenv.pypa.io&quot;&gt;Virtualenv&lt;/a&gt;).
Store your AWS secrets in your &lt;code class=&quot;language-text&quot;&gt;.aws&lt;/code&gt; directory.&lt;/p&gt;
&lt;p&gt;If you do not have an AWS account, don‚Äôt worry. Just signup and the first 1.000.000 requests per month are for free. &lt;a href=&quot;https://aws.amazon.com/lambda/pricing/&quot;&gt;https://aws.amazon.com/lambda/pricing&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-experiment&quot;&gt;&lt;a href=&quot;#the-experiment&quot; aria-label=&quot;the experiment permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The experiment&lt;/h2&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;https://asciinema.org/a/139025.js&quot; id=&quot;asciicast-139025&quot; async data-speed=&quot;2&quot; &gt;&lt;/script&gt;
&lt;p&gt;GitHub: &lt;a href=&quot;https://github.com/JeroenKnoops/zappa-string-reverser&quot;&gt;https://github.com/JeroenKnoops/zappa-string-reverser&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;what-just-happened&quot;&gt;&lt;a href=&quot;#what-just-happened&quot; aria-label=&quot;what just happened permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What just happened?&lt;/h2&gt;
&lt;h3 id=&quot;the-service&quot;&gt;&lt;a href=&quot;#the-service&quot; aria-label=&quot;the service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The service&lt;/h3&gt;
&lt;p&gt;Create a simple &lt;code class=&quot;language-text&quot;&gt;Flask&lt;/code&gt; service which reverses an input string.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;python&quot;&gt;&lt;pre class=&quot;language-python&quot;&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; flask &lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Flask&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; request

app &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; Flask&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;__name__&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

@app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;route&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/&amp;lt;string:str&gt;&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; methods&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reverse_str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; __name__ &lt;span class=&quot;token operator&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;__main__&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
    app&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;run&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;required-libraries&quot;&gt;&lt;a href=&quot;#required-libraries&quot; aria-label=&quot;required libraries permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Required libraries&lt;/h3&gt;
&lt;p&gt;Add required libraries Flask and Zappa in &lt;code class=&quot;language-text&quot;&gt;requirements.txt&lt;/code&gt; so pip can install it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;Flask&amp;gt;=0.12
zappa&amp;gt;=0.17.6&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;install-required-libraries-in-virtual-environment&quot;&gt;&lt;a href=&quot;#install-required-libraries-in-virtual-environment&quot; aria-label=&quot;install required libraries in virtual environment permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Install required libraries in virtual environment&lt;/h3&gt;
&lt;p&gt;Create a virtaul environment and activate it.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;virtualenv venv
&lt;span class=&quot;token function&quot;&gt;source&lt;/span&gt; venv/bin/activate.fish&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Note: If you use &lt;code class=&quot;language-text&quot;&gt;zsh&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;bash&lt;/code&gt; you can use: &lt;code class=&quot;language-text&quot;&gt;source venv/bin/activate&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;pip &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -r requirements.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;setup-zappa-and-deploy-the-service&quot;&gt;&lt;a href=&quot;#setup-zappa-and-deploy-the-service&quot; aria-label=&quot;setup zappa and deploy the service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup Zappa and deploy the service&lt;/h3&gt;
&lt;p&gt;Setup Zappa:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;zappa init&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you finish initialization, you‚Äôll have a file named &lt;code class=&quot;language-text&quot;&gt;zappa_settings.json&lt;/code&gt; in your project directory defining your basic deployment settings.&lt;/p&gt;
&lt;p&gt;Edit this file to add more service specific configurations:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;dev&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;app_function&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;string_reverser.app&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;keep_warm&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;debug&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;log_level&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;DEBUG&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;aws_region&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;eu-west-1&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;profile_name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;default&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;http_methods&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;GET&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;parameter_depth&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;timeout_seconds&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;300&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;memory_size&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;use_precompiled_packages&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;s3_bucket&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;zappa-&amp;lt;unique-thingy-goes-here&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Deploy the app:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;zappa deploy dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The output is the url to our service. You see it‚Äôs https out-of-the-box.. :)&lt;/p&gt;
&lt;h3 id=&quot;test-our-service&quot;&gt;&lt;a href=&quot;#test-our-service&quot; aria-label=&quot;test our service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Test our service&lt;/h3&gt;
&lt;p&gt;The previous step will output an url to our service. In my case: &lt;a href=&quot;https://z9cxt9gky6.execute-api.eu-west-1.amazonaws.com/dev/&quot;&gt;https://z9cxt9gky6.execute-api.eu-west-1.amazonaws.com/dev/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Append the test string behind it and check the result.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; https://z9cxt9gky6.execute-api.eu-west-1.amazonaws.com/dev/thisisateststring&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Wiehoe! We got: &lt;code class=&quot;language-text&quot;&gt;gnirtstsetasisiht&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&quot;update-the-service&quot;&gt;&lt;a href=&quot;#update-the-service&quot; aria-label=&quot;update the service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Update the service&lt;/h3&gt;
&lt;p&gt;When you want to apply some changes, you can deploy it by running:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;zappa update dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you add other libraries, make sure you add it in &lt;code class=&quot;language-text&quot;&gt;requirements.txt&lt;/code&gt; and install it locally in your virtual environment. All the packages in this folder will be shipped.&lt;/p&gt;
&lt;h3 id=&quot;debugging&quot;&gt;&lt;a href=&quot;#debugging&quot; aria-label=&quot;debugging permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Debugging&lt;/h3&gt;
&lt;p&gt;You can do various things with the zappa cli.&lt;/p&gt;
&lt;p&gt;You can view logging for example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;zappa tail dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;See help for more info:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;zappa --help&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Feel free to check the created services in AWS console. You will see API gateway, CloudWatch and Lambdas.&lt;/p&gt;
&lt;h3 id=&quot;cleanup&quot;&gt;&lt;a href=&quot;#cleanup&quot; aria-label=&quot;cleanup permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Cleanup&lt;/h3&gt;
&lt;p&gt;Remove the infrastructure by simply undeploy the environment:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;zappa undeploy dev&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Ofcourse this example has no real value, but I wanted to see how it works.
I think zappa.io is very good in its default values, but is extremely flexible.
You don‚Äôt like the JSON format and prefer YAML or TOML? no problem. Want to run it in a VPC, no problem. Don‚Äôt like the Keeping The Server Warm settings, you can change it.
Look at &lt;a href=&quot;https://github.com/Miserlou/Zappa&quot;&gt;https://github.com/Miserlou/Zappa&lt;/a&gt; for the complete list of options. There‚Äôs good community support with a slack channel, so I would encourage you to look at this project. Especially because you have a lot of good defaults in this setup and this guy knows a few things about AWS.&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;&lt;a href=&quot;#links&quot; aria-label=&quot;links permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Full Stack Fest - frontend: &lt;a href=&quot;https://040code.github.io/2017/09/08/fsf-fontend/&quot;&gt;https://040code.github.io/2017/09/08/fsf-fontend/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Full Stack Fest - backend: &lt;a href=&quot;https://040code.github.io/2017/09/05/fsf-backend/&quot;&gt;https://040code.github.io/2017/09/05/fsf-backend/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.zappa.io&quot;&gt;https://www.zappa.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Miserlou/Zappa&quot;&gt;https://github.com/Miserlou/Zappa&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Immutable Infrastructure]]></title><description><![CDATA[The Docker slogan ‚ÄòBuild, Ship, and Run‚Äô advertises easy set up of immutable software builds, but it is not always that easy. Setting up‚Ä¶]]></description><link>https://040code.github.io//2017-09-19-talk-immutable-infrastructure/</link><guid isPermaLink="false">https://040code.github.io//2017-09-19-talk-immutable-infrastructure/</guid><pubDate>Tue, 19 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;The Docker slogan ‚ÄòBuild, Ship, and Run‚Äô advertises easy set up of immutable software builds, but it is not always that easy. Setting up immutable builds with Docker is pretty straight forward and shipping is just a matter of pushing the image to a repository. The next step is building the cloud infrastructure to run the containers. &lt;a href=&quot;https://www.devopsdays.org/events/2017-riga/program/niek-palm/&quot;&gt;In the talk at the DevOps Days in Riga&lt;/a&gt; I have shown how to create an immutable infrastructure on AWS with Terraform. The example belows shows how you can run your micro services in docker containers on AWS.&lt;/p&gt;
&lt;p&gt;In this talk I briefly touch upon building immutable software. But the main focus of the talk will be on creating an immutable infrastructure. In this talk I will show you how to create an immutable infrastructure on AWS with Terraform. I will use a real world example to explain and show live how easy you can get micro services live on AWS and continuously apply changes to the same cloud environment..&lt;/p&gt;
&lt;h2 id=&quot;slides&quot;&gt;&lt;a href=&quot;#slides&quot; aria-label=&quot;slides permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Slides&lt;/h2&gt;
&lt;p&gt;Below the slides that I used for the talk, the slides are available as well on &lt;a href=&quot;https://immutable-infrastructure.gitlab.io/dodr-2017/&quot;&gt;GitLab&lt;/a&gt;. You can easy navigate through the slides with the spacebar.&lt;/p&gt;
&lt;div style=&quot;position:relative; width:100%; height:0px; padding-bottom:56.25%;&quot;&gt;
    &lt;iframe style=&quot;position:absolute; left:0; top:0; width:100%; height:100%&quot;
        src=&quot;https://immutable-infrastructure.gitlab.io/dodr-2017/&quot;&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;To get started with Terraform the best starting points are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.terraform.io/intro/examples/&quot;&gt;Terraform.io&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/npalm/tf-helloworld-demo&quot;&gt;Hello World example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;examples&quot;&gt;&lt;a href=&quot;#examples&quot; aria-label=&quot;examples permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;h3 id=&quot;hello-world&quot;&gt;&lt;a href=&quot;#hello-world&quot; aria-label=&quot;hello world permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Hello World&lt;/h3&gt;
&lt;p&gt;During the talk, I demonstrated a hello world example, see the link above. This examples shows some basics of terraform by creating a ec2 instance and security group to server a simple web application. The example only works in the AWS region &lt;code class=&quot;language-text&quot;&gt;eu-west-1&lt;/code&gt; since the AMI used is only available in this region.&lt;/p&gt;
&lt;h3 id=&quot;ecs-demo&quot;&gt;&lt;a href=&quot;#ecs-demo&quot; aria-label=&quot;ecs demo permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ECS demo&lt;/h3&gt;
&lt;p&gt;The second example I have shown, is creating an immutable infrastructure to server docker containers. The picture below descibes briefly the enviroment that will be cretaed.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 63.55382619974059%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACFElEQVQ4y5VTvYsaQRRfZ2Znb9eP7O7dhUQ0RokIAbUJiGKKWKWxskgTLJLKJoVFGgurFFoIFjYiFmpE8eRQBC387LVPbyH+FebNMiNb3BU38OO9ffPeb97XSoPBwByPx39Go9FriZ9IJIJBoBfCYQVns1m92WymWq3W+9Vq9b1Wq5lgxl6vVwYpQGx4ysagCFJ2KVUqFbPX6/0ul8tv2bfb7VYJIZTfUx6gcN3+rXCfG56pRC+Xi8PlcrELqdPphBaLxTfuSIrFIjMThJDs8XhYJphD6DIncllS0zTKW2exQ9lfd7vdw2QysRzhMckwDCw9fxwcTsFBzuczmc/nH9jFcrm8A3y0OVuPwaC0XC6ng64B7kQ/eVuIvWRpv9+nDofDv3w+r02n05+PcJh9s9l8BvvfarWqRaPRV6VS6UcikWCl3W63W6Xb7TISBUhFD60EULvddvX7/U/spUwmE4DJp1hvh8NhZDab/YrFYnKhUDBgvb6IOuv1egA24x3zCwaD6FqyaZqycHI6nei5PiWTSWO9XpeOx6PKh2c0Go1blhlwIN4KK14Oh8MonU5bUwVSze/3s/RpKBSST6cT8vl8hDvfUErvQbJdNdiUZVkmfI2uPRTOmL8SBAQAPttQcDwed+i67gadEb7BGN/Dzkq2P+U6ZYUHUdsf8JSkqqqyfcS2BOwx15KpLWWVS6G/BNY+/wc2sHnDymExhQAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/443737e7fb3b235929b039d616df57f2/cc182/ecs-black.webp 148w,
/static/443737e7fb3b235929b039d616df57f2/f7e40/ecs-black.webp 295w,
/static/443737e7fb3b235929b039d616df57f2/1a2f4/ecs-black.webp 590w,
/static/443737e7fb3b235929b039d616df57f2/fbf2e/ecs-black.webp 771w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/443737e7fb3b235929b039d616df57f2/cf440/ecs-black.png 148w,
/static/443737e7fb3b235929b039d616df57f2/d2d38/ecs-black.png 295w,
/static/443737e7fb3b235929b039d616df57f2/b9e4f/ecs-black.png 590w,
/static/443737e7fb3b235929b039d616df57f2/0fafd/ecs-black.png 771w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/443737e7fb3b235929b039d616df57f2/b9e4f/ecs-black.png&quot; alt=&quot;ecs-diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;The example also creates log groups in cloudwatch to capture the logging of the ecs agent and the running containers (services).&lt;/p&gt;
&lt;h4 id=&quot;setup&quot;&gt;&lt;a href=&quot;#setup&quot; aria-label=&quot;setup permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup&lt;/h4&gt;
&lt;p&gt;Before you can start, you need an AWS account with sufficient rights (admin), and you should create a &lt;code class=&quot;language-text&quot;&gt;AWS_ACCESS_KEY_ID&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt; to be able to access your account programmatically.&lt;/p&gt;
&lt;p&gt;Clone the repository containing the ECS &lt;a href=&quot;https://github.com/npalm/tf-ecs-demo.git&quot;&gt;sample&lt;/a&gt; terraform code. To create the infrastructure step-by-step you can check out the tags &lt;code class=&quot;language-text&quot;&gt;vpc&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;ecs&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/tf-ecs-demo.git
git checkout vpc&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You should also have Terraform installed (&lt;code class=&quot;language-text&quot;&gt;home brew install terraform&lt;/code&gt;) or use a docker container to run the terraform commands, for example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -it --env-file &amp;lt;AWS_KEYS_FILE&amp;gt; -v $(pwd):/data -w /data \
  hashicorp/terraform:0.10.4 &amp;lt;terraform command&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;br&gt;
&lt;h4 id=&quot;create-network-layers-vpc&quot;&gt;&lt;a href=&quot;#create-network-layers-vpc&quot; aria-label=&quot;create network layers vpc permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Create network layers (VPC)&lt;/h4&gt;
&lt;p&gt;In the next steps we will create the network layers.&lt;/p&gt;
&lt;p&gt;First, we initialize and plan our changes.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;terraform init
terraform plan&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Terraform should print on the console that 19 needs to be added and 0 to change or destroyed. Next we apply the change be executing &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt;.&lt;/p&gt;
&lt;h4 id=&quot;add-ecs-cluster&quot;&gt;&lt;a href=&quot;#add-ecs-cluster&quot; aria-label=&quot;add ecs cluster permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Add ECS cluster&lt;/h4&gt;
&lt;p&gt;Now we have the network layer created, we will add the ECS cluster. By default the bastion host is disabled, the bastion can be enabled by updating the variable &lt;code class=&quot;language-text&quot;&gt;enable_bastion&lt;/code&gt; in the &lt;code class=&quot;language-text&quot;&gt;terraform.tfvars&lt;/code&gt; file. Time to plan and apply the new resources for ECS.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git checkout ecs
terraform plan
terraform apply&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once terraform is ready it will print the url of two applications on the console. One application, is a simple micro service that just prints the AWS availabilty zone where it is running, the other is a &lt;a href=&quot;/2017/05/20/nextbuild-graphql/&quot;&gt;graphql micro service&lt;/a&gt;. It will take a few minutes before the services are available.&lt;/p&gt;
&lt;h4 id=&quot;adding-your-own-service&quot;&gt;&lt;a href=&quot;#adding-your-own-service&quot; aria-label=&quot;adding your own service permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Adding your own service.&lt;/h4&gt;
&lt;p&gt;Time to have some more fun. Edit the &lt;code class=&quot;language-text&quot;&gt;main.tf&lt;/code&gt; and start making changes. Remove all the services, add your own service. By default for each service an application load balancer (ALB) is created. Add for each services that you want to deploy a configuration as below and update the variables as required.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;your-service&amp;quot; {
  source = &amp;quot;ecs-service&amp;quot;

  service_name   = &amp;quot;&amp;lt;service-name&amp;gt;&amp;quot;
  image_url      = &amp;quot;&amp;lt;docker-image&amp;gt;&amp;quot;
  container_port = &amp;lt;port in the container where the service is listening&amp;gt;
  desired_count  = &amp;lt;number of instances&amp;gt;

  aws_region  = &amp;quot;${var.aws_region}&amp;quot;
  environment = &amp;quot;${var.environment}&amp;quot;

  vpc_id  = &amp;quot;${module.vpc.vpc_id}&amp;quot;
  subnets = &amp;quot;${module.vpc.public_subnets}&amp;quot;

  cluster_id            = &amp;quot;${module.ecs-cluster.cluster_id}&amp;quot;
  ecs_service_role_name = &amp;quot;${module.ecs-cluster.ecs_service_role_name}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now plan and apply your changes, Terraform will inform you that a few resources will be destroyed (the removed services) and a few will be added.&lt;/p&gt;
&lt;h3 id=&quot;clean-up&quot;&gt;&lt;a href=&quot;#clean-up&quot; aria-label=&quot;clean up permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clean up&lt;/h3&gt;
&lt;p&gt;Once done you can easily clean-up all created resources in AWS, just run &lt;code class=&quot;language-text&quot;&gt;terraform destroy&lt;/code&gt;.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Full Stack Fest 2017]]></title><description><![CDATA[Full Stack Fest 2017This week we (Jeroen and Niek) enjoyining Full Stack Fest 2017 Barcelona,
a week-long full stack development conference‚Ä¶]]></description><link>https://040code.github.io//2017-09-08-fsf-fontend/</link><guid isPermaLink="false">https://040code.github.io//2017-09-08-fsf-fontend/</guid><pubDate>Fri, 08 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;full-stack-fest-2017&quot;&gt;&lt;a href=&quot;#full-stack-fest-2017&quot; aria-label=&quot;full stack fest 2017 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Full Stack Fest 2017&lt;/h1&gt;
&lt;p&gt;This week we (Jeroen and Niek) enjoyining &lt;a href=&quot;https://2017.fullstackfest.com/&quot;&gt;Full Stack Fest 2017 Barcelona&lt;/a&gt;,
a week-long full stack development conference with a focus on solving current problems with new &amp;#x26; inspiring perspectives.&lt;/p&gt;
&lt;p&gt;In this quite short blog we just summarizing briefly the talks and &lt;strong&gt;our opinion&lt;/strong&gt; about the talks. We have rated all talks, the rating is subjective ass well.&lt;/p&gt;
&lt;p&gt;The last days are more frontend focussed read &lt;a href=&quot;https://040code.github.io/2017/09/05/fsf-backend/&quot;&gt;here&lt;/a&gt; more about the backend days.&lt;/p&gt;
&lt;h2 id=&quot;day-four&quot;&gt;&lt;a href=&quot;#day-four&quot; aria-label=&quot;day four permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day four&lt;/h2&gt;
&lt;h3 id=&quot;keynote&quot;&gt;&lt;a href=&quot;#keynote&quot; aria-label=&quot;keynote permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keynote&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Jenn Schiffer (&lt;a href=&quot;https://twitter.com/jennschiffer&quot;&gt;@jennschiffer&lt;/a&gt;) showed how to make coding actually friendly with &lt;a href=&quot;https://glitch.com/&quot;&gt;glitch&lt;/a&gt;. And remember once you got bored you will not trying new cool stuff which makes you even unhappier and so on‚Ä¶ And some cool &lt;a href=&quot;http://jennmoney.biz/&quot;&gt;pixel art&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;once-you-go-prpl&quot;&gt;&lt;a href=&quot;#once-you-go-prpl&quot; aria-label=&quot;once you go prpl permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Once you go PRPL‚Ä¶&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Service Workers by Houssein Djireden (&lt;a href=&quot;https://twitter.com/hdjirdeh&quot;&gt;@hdjirdeh&lt;/a&gt;) are stable and most serious browsers support them. SWs are a big help in improving the experience for the user. &lt;code class=&quot;language-text&quot;&gt;Workbox-cli&lt;/code&gt; is a great for configuring your app to cache usefull stuff only. Don‚Äôt cache too much. &lt;code class=&quot;language-text&quot;&gt;FoamTree&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;webpack-bundle-analytics&lt;/code&gt; show a good overview what to cache. Split up your js, with http/2, we do not need one big js file. React has good SW support.&lt;/p&gt;
&lt;h3 id=&quot;magic-tricks-with-css-houdini&quot;&gt;&lt;a href=&quot;#magic-tricks-with-css-houdini&quot; aria-label=&quot;magic tricks with css houdini permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Magic tricks with css houdini&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Absolutely awesome to see the future already working in this talk by Sam Richard (&lt;a href=&quot;https://twitter.com/Snugug&quot;&gt;@Snugug&lt;/a&gt;). A lot of visual stuff is currently blocking the main JS thread. With Houdini CSS a lot of css stuff can be handle on Worklets. ‚ÄòMuch like Service Workers are a low-level JavaScript API for the browser‚Äôs cache Houdini introduces low-level JavaScript APIs for the browser‚Äôs render engine‚Äô. Currently only available in Chrome Canary and the definition of unstable, but ooooh so beautiful, &lt;a href=&quot;https://snugug.github.io/magic-tricks-with-houdini/#/0/0&quot;&gt;slides in canary&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;master-the-art-of-the-ast-and-take-control-of-your-js&quot;&gt;&lt;a href=&quot;#master-the-art-of-the-ast-and-take-control-of-your-js&quot; aria-label=&quot;master the art of the ast and take control of your js permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Master the art of the ast (and take control of your js)&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Talk by Sears israel (&lt;a href=&quot;https://twitter.com/cowchimp&quot;&gt;@cowchimp&lt;/a&gt;) to understand most JS libraries you only need to know two things. AST and the visitor pattern. With this knowledge you can easily add ESLint, create Babel plugins or add jscodeshift refactor modules. A great tool to help with AST is &lt;a href=&quot;https://astexplorer.net&quot;&gt;https://astexplorer.net&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;svg-can-do-that&quot;&gt;&lt;a href=&quot;#svg-can-do-that&quot; aria-label=&quot;svg can do that permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;SVG can do that?!&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Awesome what you can do with SVG by Sarah Drasner (&lt;a href=&quot;https://twitter.com/sarah_edo&quot;&gt;@sarah_edo&lt;/a&gt;). This girl really knows her stuff. SVG is supported by all browsers including Opera Mini! Good integration with VueJS, react and other modern frameworks is possible. Lots of examples of really beautiful animations all working for all types of devices. Size does matter for images and animations. Normally it will result in ugly things, but with SVG this is absolutely not the case, &lt;a href=&quot;http://slides.com/sdrasner/svg-can-do-that#/&quot;&gt;slides&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;using-react-native--clojurescript-to-launch-iosandroid-apps-to-1m-users&quot;&gt;&lt;a href=&quot;#using-react-native--clojurescript-to-launch-iosandroid-apps-to-1m-users&quot; aria-label=&quot;using react native  clojurescript to launch iosandroid apps to 1m users permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using react native + clojurescript to launch ios/android apps to 1m users&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;A long intro to &lt;code class=&quot;language-text&quot;&gt;react native&lt;/code&gt;, which is most likely not necessary on this conference. A nice twist with &lt;code class=&quot;language-text&quot;&gt;clojureScript&lt;/code&gt;. The code looks very clean. It is possible to create apps for both iOS and Android with a 99% simular codebase. The crashlogs of apps created with clojurescript and reactnative are unfortunately almost not readible. This set of tools is also great to use in combination with &lt;code class=&quot;language-text&quot;&gt;codepush&lt;/code&gt;. Now we can update the app on the fly without bothering appstores. Talk by Emin Hasanov (&lt;a href=&quot;https://twitter.com/hasanove&quot;&gt;@hasanove&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&quot;blasting-react-into-space-building-fluid-beautiful-interfaces-with-react-and-webgl-and-other-exotic-explorations&quot;&gt;&lt;a href=&quot;#blasting-react-into-space-building-fluid-beautiful-interfaces-with-react-and-webgl-and-other-exotic-explorations&quot; aria-label=&quot;blasting react into space building fluid beautiful interfaces with react and webgl and other exotic explorations permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Blasting react into space: building fluid, beautiful interfaces with react and webgl (and other exotic explorations)&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;A good talk by Chad Ostrowski (&lt;a href=&quot;https://twitter.com/chadoh&quot;&gt;@chadoh&lt;/a&gt;), on how all the new technologies can help us in the future when live is possible on Mars. Using: &lt;code class=&quot;language-text&quot;&gt;HTTP/2&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ServiceWorkers&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;LocalStorage&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;Bittorent + git&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;IPFS&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;blockchain&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;bitcoin&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ethereum&lt;/code&gt;. ‚ÄúTomorrow‚Äôs problems === Today‚Äôs problems but bigger.‚Äù Last year a simular talk was told on FSF, but it‚Äôs good to see that the technologies mentioned then are now in a much further state. Great talk and good choice from the organiser of this beautiful conference.&lt;/p&gt;
&lt;div style=&quot;position:relative; width:100%; height:0px; padding-bottom:56.25%;&quot;&gt;
    &lt;iframe style=&quot;position:absolute; left:0; top:0; width:100%; height:100%&quot;
        src=&quot;https://chadoh.github.io/online-offline-equivalence/&quot;&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;h2 id=&quot;day-five&quot;&gt;&lt;a href=&quot;#day-five&quot; aria-label=&quot;day five permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day five&lt;/h2&gt;
&lt;h3 id=&quot;bringing-back-the-1990s-the-revenge-of-javascript-stylesheets&quot;&gt;&lt;a href=&quot;#bringing-back-the-1990s-the-revenge-of-javascript-stylesheets&quot; aria-label=&quot;bringing back the 1990s the revenge of javascript stylesheets permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Bringing back the 1990s: The revenge of javascript stylesheets&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Steve Kinney (&lt;a href=&quot;https://twitter.com/stevekinney&quot;&gt;@stevekinney&lt;/a&gt;) did a lot of work in getting the Javascript Stylesheets, a technology only working in 1996 in Netscape 4) to work in 2017. In the beginning of the internet, people were debating about the split of concern regarding content and layout. One of the proposals was Javascript Stylesheets. Netscape 4 was the only browser capable of this feature. Steve showed us how we can do some really neat stuff in 1996 technology. A lot of this, we now take for granted, but we have to keep in mind that this was 1996. A lot of simularities with SASS, LESS, but also REACT like structures with the &lt;a href=&quot;https://en.wikipedia.org/wiki/ECMAScript_for_XML&quot;&gt;ECMA E4X for XML proposal&lt;/a&gt;. Conclusion: We still can learn from the past. Although some good initiatives take 20 years to become meanstream.&lt;/p&gt;
&lt;h3 id=&quot;rendering-performance-from-the-ground-up&quot;&gt;&lt;a href=&quot;#rendering-performance-from-the-ground-up&quot; aria-label=&quot;rendering performance from the ground up permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rendering performance from the ground up&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Good presentation about how we can improve the performance a lot by using the GPU instead of CPU. A good explaination what the differences are between a CPU and GPU. Try to use translate and shaders because they don‚Äôt require repaintings. Thanks Martin Splitt (&lt;a href=&quot;https://twitter.com/g33konaut&quot;&gt;@g33konaut&lt;/a&gt;)!, &lt;a href=&quot;https://t.co/oFDjyf5Bb6&quot;&gt;slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;web-based-virtual-reality&quot;&gt;&lt;a href=&quot;#web-based-virtual-reality&quot; aria-label=&quot;web based virtual reality permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Web based virtual reality&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Shagufta Gurmukhdas (&lt;a href=&quot;https://twitter.com/shaguftamethwan&quot;&gt;@shaguftamethwan&lt;/a&gt;) give a good talk ok the Web based virtual reality. Starting WebVR with WebGL is very hard. She showed us &lt;a href=&quot;https://aframe.io&quot;&gt;A-Frame&lt;/a&gt;. A-Frame was already mentioned three times in FSF, so we were already very curious about it. You can easily start your own VR world with this framework. It uses GPU under the hood and you can use one of your favourite webframeworks (vueJS, React, and so on) to change properties of the 3D models. Very impressive. With this tool, even the most suburn backenders, (we) can start with VR.&lt;/p&gt;
&lt;h3 id=&quot;exploring-the-world-of-decentralized-networks-with-webrtc&quot;&gt;&lt;a href=&quot;#exploring-the-world-of-decentralized-networks-with-webrtc&quot; aria-label=&quot;exploring the world of decentralized networks with webrtc permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Exploring the world of decentralized networks with webRTC&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Nikita Baksalyar (&lt;a href=&quot;https://twitter.com/nbaksalyar&quot;&gt;@nbaksalyar&lt;/a&gt;) started his talk with some technical issues, but he recovered quickly from that. Nikita tought us about how the internet can truly be implemented the way it was supposed to be implemented. Decentralised! Now-a-days we‚Äôre using a lot of things which are ment to be decentralised in a centralised way. Git and the internet are a nice examples of that. Serving the web, securely and encrypted, with webRTC through all client devices will make it imposible to censor the internet by governments. During the Q&amp;#x26;A a question come up on what to do with unwanted content. The response of Nikita was amazing. We should educate people that they don‚Äôt want to see unwanted content instead of putting the responsibility of this on technology, &lt;a href=&quot;https://gist.github.com/nbaksalyar/cfee2bdac7cd0f66e0a91af9621ab264&quot;&gt;resources&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;developing-for-the-next-billion&quot;&gt;&lt;a href=&quot;#developing-for-the-next-billion&quot; aria-label=&quot;developing for the next billion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developing for the next billion&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Look to your target group. Keep in mind that your apps might not be used by the people you‚Äôve targetted on. Natalie Pispistunovich (&lt;a href=&quot;https://twitter.com/nataliepis&quot;&gt;@nataliepis&lt;/a&gt;) showed some examples from Kenya. What apps are used and why. The delivery of apps can be very different from ours. The way payments are done also.
Nice reference to &lt;a href=&quot;https://www.youtube.com/watch?v=hjzRbgxZXz8&quot;&gt;Fun with Flags&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;progressive-web-apps-and-the-internet-of-things&quot;&gt;&lt;a href=&quot;#progressive-web-apps-and-the-internet-of-things&quot; aria-label=&quot;progressive web apps and the internet of things permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Progressive web apps and the internet of things&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;A story of with amongst other libraries, the &lt;code class=&quot;language-text&quot;&gt;johnny-five&lt;/code&gt; library. Today it‚Äôs easy to communicate with all kind of device with &lt;code class=&quot;language-text&quot;&gt;nodeJS&lt;/code&gt;. Well done, Luis Montes (&lt;a href=&quot;https://twitter.com/monteslu&quot;&gt;@monteslu&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&quot;lightning-talks&quot;&gt;&lt;a href=&quot;#lightning-talks&quot; aria-label=&quot;lightning talks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lightning talks&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;PAKO a zlib for uploads in js. For uploading large files. :) NICE. @bombasarkadian&lt;/li&gt;
&lt;li&gt;DevTools in Firefox: Alex Lakatos @lakatos88;  BASIC&lt;/li&gt;
&lt;li&gt;Internet for Everyone. Tom Enden en Liran Kurtz. Accessible. GOOD&lt;/li&gt;
&lt;li&gt;Marek - ProRouter.js - Router.maniak.pro - No idea what this is all about.&lt;/li&gt;
&lt;li&gt;Kirill Pimenov - Rust! Go write to Rust and go back to your own language and you will be beter. Awesome!&lt;/li&gt;
&lt;li&gt;Raj - iOS Event Communication without internet, API and no loss of data. Way to fast. OMG‚Ä¶ Peer to Peer connectivity with iPhone through Bonjour protocol&lt;/li&gt;
&lt;li&gt;Paulo -  Functional Programming: Elixir and Phoenix. I love Phoenix! See also &lt;a href=&quot;https://paulodiniz.github.io/flappy-bird&quot;&gt;git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;FSF designer. Uses emoiji as classes. Awesome way of keeping the names short and compact. Really high quality frontend work. See &lt;a href=&quot;http://2017.fullstackfest.com&quot;&gt;Full Stack Fest web page&lt;/a&gt; and Inspect the code!&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;making-a-lot-of-things&quot;&gt;&lt;a href=&quot;#making-a-lot-of-things&quot; aria-label=&quot;making a lot of things permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Making a lot of things&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Ben Foxall (&lt;a href=&quot;https://twitter.com/benjaminbenben&quot;&gt;@benjaminbenben&lt;/a&gt;) gave us two talks for the price of one!
&lt;a href=&quot;https://cojs.co&quot;&gt;https://cojs.co&lt;/a&gt; is collaborate platform were people can co-create software. With blocks you can split the code. Adding a &lt;code class=&quot;language-text&quot;&gt;!&lt;/code&gt; behind the url will fork the code. Other users can continue on the code in their own context, but with shared code. Awesome. The second part was about Microhacks. He explained how you should constrain your experiments to make them work. Plan your goal, not your work. Start it and finish it.&lt;/p&gt;
&lt;h2 id=&quot;awesome&quot;&gt;&lt;a href=&quot;#awesome&quot; aria-label=&quot;awesome permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Awesome!!!&lt;/h2&gt;
&lt;p&gt;Many thanks to &lt;a href=&quot;https://www.codegram.com/&quot;&gt;Codegram&lt;/a&gt; the company that organized once again the best conference!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Full Stack Fest 2017]]></title><description><![CDATA[Full Stack Fest 2017This week we (Jeroen and Niek) enjoyining Full Stack Fest 2017 Barcelona,
a week-long full stack development conference‚Ä¶]]></description><link>https://040code.github.io//2017-09-06-fsf-backend/</link><guid isPermaLink="false">https://040code.github.io//2017-09-06-fsf-backend/</guid><pubDate>Tue, 05 Sep 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;full-stack-fest-2017&quot;&gt;&lt;a href=&quot;#full-stack-fest-2017&quot; aria-label=&quot;full stack fest 2017 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Full Stack Fest 2017&lt;/h1&gt;
&lt;p&gt;This week we (Jeroen and Niek) enjoyining &lt;a href=&quot;https://2017.fullstackfest.com/&quot;&gt;Full Stack Fest 2017 Barcelona&lt;/a&gt;,
a week-long full stack development conference with a focus on solving current problems with new &amp;#x26; inspiring perspectives.&lt;/p&gt;
&lt;p&gt;In this quite short blog we just summarizing briefly the talks and &lt;strong&gt;our opinion&lt;/strong&gt; about the talks. We have rated all talks, the rating is subjective ass well.&lt;/p&gt;
&lt;p&gt;The first two days are more backend focussed, the last two days have a frontend focus, read more &lt;a href=&quot;https://040code.github.io/2017/09/08/fsf-fontend/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;day-one&quot;&gt;&lt;a href=&quot;#day-one&quot; aria-label=&quot;day one permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day one&lt;/h2&gt;
&lt;h3 id=&quot;keynotes---science---backup-the-internet&quot;&gt;&lt;a href=&quot;#keynotes---science---backup-the-internet&quot; aria-label=&quot;keynotes   science   backup the internet permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Keynotes - Science - Backup the internet&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Karissa McKelvey (&lt;a href=&quot;https://twitter.com/okdistribute&quot;&gt;@okdistribute&lt;/a&gt;) discussed the topic to share fairly large data sets in the science community in a secure and distributed way. The &lt;a href=&quot;https://docs.datproject.org/&quot;&gt;dat project&lt;/a&gt; enables file sharing via peer to peer for example with the beaker browser.&lt;/p&gt;
&lt;h3 id=&quot;ehtereum-aeternity-and-the-distributed-wonders&quot;&gt;&lt;a href=&quot;#ehtereum-aeternity-and-the-distributed-wonders&quot; aria-label=&quot;ehtereum aeternity and the distributed wonders permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ehtereum, aeternity and the distributed wonders&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Luca Marchesini (&lt;a href=&quot;https://twitter.com/kuzzleio&quot;&gt;@kuzzleio&lt;/a&gt;) did a great job by explanining about blockchain and the differences between ethereum and bitcoin. Blockchain; the system where playing by the rules is more profitable than cheating.&lt;/p&gt;
&lt;h3 id=&quot;terraform-in-your-delivery-pipeline&quot;&gt;&lt;a href=&quot;#terraform-in-your-delivery-pipeline&quot; aria-label=&quot;terraform in your delivery pipeline permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Terraform in your delivery pipeline&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;We love the Terraform framework of HashiCorp but the talk not as good as we hoped, nothing new. The speaker Anton (&lt;a href=&quot;https://twitter.com/antonbabenko&quot;&gt;@antonbabenko&lt;/a&gt;) is an expert on the topic and also maintains some great &lt;a href=&quot;https://github.com/terraform-community-modules&quot;&gt;Terraform modules&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;migrating-an-existing-service-to-serverless&quot;&gt;&lt;a href=&quot;#migrating-an-existing-service-to-serverless&quot; aria-label=&quot;migrating an existing service to serverless permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Migrating an existing service to serverless&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;For us a standard talk by Marcia (&lt;a href=&quot;https://twitter.com/mavi888uy&quot;&gt;@mavi888uy&lt;/a&gt;) about migrating an existing monolitic applicaton to smaller components. We loved all the (angry) birds flying around.&lt;/p&gt;
&lt;h3 id=&quot;defending-the-human-network&quot;&gt;&lt;a href=&quot;#defending-the-human-network&quot; aria-label=&quot;defending the human network permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Defending the human network&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Good story about cyber security by Dr. Jessica Barker (&lt;a href=&quot;https://twitter.com/drjessicabarker&quot;&gt;@drjessicabarker&lt;/a&gt;). About how the mood of a user is one of the weakest link. How you can trick people into clicking a bad links. Socially engineering and use stress full situation let a user execute an (maybe) unwanted action.&lt;/p&gt;
&lt;p&gt;Key take aways, learn to think as hacker and focus on the why not on how to enforce / restrict users to do something.&lt;/p&gt;
&lt;h3 id=&quot;rise-and-the-fall-of-the-full-stack-database&quot;&gt;&lt;a href=&quot;#rise-and-the-fall-of-the-full-stack-database&quot; aria-label=&quot;rise and the fall of the full stack database permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rise and the fall of the full stack database&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Comparison with the army knife. Don‚Äôt be afraid of new technologies.
One tool for everything is not going to work.
Example with analytics service, kafka stream, bus. Frank Lyaruu (&lt;a href=&quot;https://twitter.com/lyaruu&quot;&gt;@lyaruu&lt;/a&gt;) did a great job!&lt;/p&gt;
&lt;h3 id=&quot;how-bookingcom-serves-deep-learning-model-predictions&quot;&gt;&lt;a href=&quot;#how-bookingcom-serves-deep-learning-model-predictions&quot; aria-label=&quot;how bookingcom serves deep learning model predictions permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How booking.com serves deep learning model predictions&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Good explaination by Sahil (&lt;a href=&quot;https://twitter.com/sahildua2305&quot;&gt;@sahildua2305&lt;/a&gt;) about how to train a model and how to deploy them.&lt;/p&gt;
&lt;h3 id=&quot;what-to-do-when-complex-systems-fail&quot;&gt;&lt;a href=&quot;#what-to-do-when-complex-systems-fail&quot; aria-label=&quot;what to do when complex systems fail permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What to do when complex systems fail&lt;/h3&gt;
&lt;p&gt;Rating:&lt;/p&gt;
&lt;p&gt;Not relevant to our needs.&lt;/p&gt;
&lt;h2 id=&quot;day-two&quot;&gt;&lt;a href=&quot;#day-two&quot; aria-label=&quot;day two permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Day Two:&lt;/h2&gt;
&lt;h3 id=&quot;the-internet-of-things-an-army-of-devices-ready-for-ddos&quot;&gt;&lt;a href=&quot;#the-internet-of-things-an-army-of-devices-ready-for-ddos&quot; aria-label=&quot;the internet of things an army of devices ready for ddos permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The internet of things: An army of devices ready for DDoS&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Good talk by John Graham-Cummin (&lt;a href=&quot;https://twitter.com/jgrahamc&quot;&gt;@jgrahamc&lt;/a&gt;) about how IoT device can be used to do a DDoS attack. About port 1900 showing all kinds of information which is sent to victims address. How to block DDoS attacks by putting the ip-address in a grid to search for patterns. Talked about Trump attacks and anonymous being stupid by setting the evil flag (We‚Äôre anonymous).&lt;/p&gt;
&lt;h3 id=&quot;how-to-properly-blame-things-for-causing-latency-an-introduction-to-distributed-tracing-and-zipkin&quot;&gt;&lt;a href=&quot;#how-to-properly-blame-things-for-causing-latency-an-introduction-to-distributed-tracing-and-zipkin&quot; aria-label=&quot;how to properly blame things for causing latency an introduction to distributed tracing and zipkin permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How to properly blame things for causing latency: An introduction to distributed tracing and Zipkin&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Difference between logs, metric and trace. Good (known) story by Adrian Cole (&lt;a href=&quot;https://twitter.com/adrianfcole&quot;&gt;@adrianfcole&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&quot;ship-more-sink-less-changing-chaos-engineering--distributed-tracing&quot;&gt;&lt;a href=&quot;#ship-more-sink-less-changing-chaos-engineering--distributed-tracing&quot; aria-label=&quot;ship more sink less changing chaos engineering  distributed tracing permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Ship more, sink less. Changing chaos engineering &amp;#x26; Distributed tracing&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;The story about testing in real live situations is not new, good te remember the importance to be prepared for failure. For not much new things in this talk since we here the chaos monkeys stories new for a couple of years. But we will plan our Chaos GameDay soon. Thanks to Aish (&lt;a href=&quot;https://twitter.com/aishrajdahal&quot;&gt;@aishrajdahal&lt;/a&gt;)&lt;/p&gt;
&lt;h3 id=&quot;flying-spaghetti-monster-verifying-protocols-with-types-and-finite-state-machines&quot;&gt;&lt;a href=&quot;#flying-spaghetti-monster-verifying-protocols-with-types-and-finite-state-machines&quot; aria-label=&quot;flying spaghetti monster verifying protocols with types and finite state machines permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Flying Spaghetti monster: Verifying protocols with types and finite-state machines&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Complexity of systems cause a lot of problems. &lt;code class=&quot;language-text&quot;&gt;Idris&lt;/code&gt; has a nice feature that Types are also values, so state changes can easialy be checked in compile time. &lt;code class=&quot;language-text&quot;&gt;talk.applaud()&lt;/code&gt; should only run after &lt;code class=&quot;language-text&quot;&gt;talk.give()&lt;/code&gt; and Idris has a way to check this easily during compile time.&lt;/p&gt;
&lt;p&gt;Inspiration for doing more with new languages. Chris Ford (&lt;a href=&quot;https://twitter.com/ctford&quot;&gt;@ctford&lt;/a&gt;), thanks!&lt;/p&gt;
&lt;h3 id=&quot;smart-grid-how-iot-fights-climate-change&quot;&gt;&lt;a href=&quot;#smart-grid-how-iot-fights-climate-change&quot; aria-label=&quot;smart grid how iot fights climate change permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Smart grid: How iot fights climate change&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê&lt;/p&gt;
&lt;p&gt;Kelsey Breseman (&lt;a href=&quot;https://twitter.com/ifoundtheme&quot;&gt;@ifoundtheme&lt;/a&gt;) explains us how complex the eletrical grids works which makes it hard as well to safe for example solar eneregy. It was great to hear the complecity of this relevant topic but unfortunately there was not much relation betwoon the world of of software.&lt;/p&gt;
&lt;h3 id=&quot;beyond-patterns-technological-systems-and-the-nature-of-order&quot;&gt;&lt;a href=&quot;#beyond-patterns-technological-systems-and-the-nature-of-order&quot; aria-label=&quot;beyond patterns technological systems and the nature of order permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Beyond patterns: Technological systems and the nature of order&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Good to see the that our hipster shit is the same as the problems the manufacturing has already solved. Learn from that! Talk by Jerome Scheuring&lt;/p&gt;
&lt;h3 id=&quot;lighting-talks&quot;&gt;&lt;a href=&quot;#lighting-talks&quot; aria-label=&quot;lighting talks permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Lighting Talks&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;There where quite a lot fo lighting talks. In our opinion: hight quality but too many.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Docker talk about &lt;code class=&quot;language-text&quot;&gt;docker build&lt;/code&gt; was fun. Docker build takes long, and from now on I can‚Äôt ignore it anymore. THANKS!!! aka we should fix the layer thing.&lt;/li&gt;
&lt;li&gt;Fullstack is a zoo. Complexity of our work environment.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://exercism.io/&quot;&gt;http://exercism.io/&lt;/a&gt;: Nice code kata kind of thing. (not a talk, but worth to mention)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;gone-in-60-milliseconds-offensive-security-in-the-serverless-age&quot;&gt;&lt;a href=&quot;#gone-in-60-milliseconds-offensive-security-in-the-serverless-age&quot; aria-label=&quot;gone in 60 milliseconds offensive security in the serverless age permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Gone in 60 milliseconds: Offensive security in the serverless age&lt;/h3&gt;
&lt;p&gt;Rating: ‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê&lt;/p&gt;
&lt;p&gt;Awesome DDoS attack of slides by Rich Jones (&lt;a href=&quot;https://twitter.com/GUNdotIO&quot;&gt;@GUNdotIO&lt;/a&gt;). A lot of cool stuff. A very usefull and insight talk about how unsecure you serverless application can be. Serverless python with &lt;a href=&quot;http://zappa.io&quot;&gt;zappa&lt;/a&gt; and &lt;a href=&quot;https://rawgit.com/Miserlou/Talks/master/full-stack-barcelona-2017/stack.html&quot;&gt;slides&lt;/a&gt;&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Visualising B√©zier Curves Part II]]></title><description><![CDATA[In my previous post I described how to visualise simple B√©zier curves. I chose  as implementation language. Unfortunately I had to ask you‚Ä¶]]></description><link>https://040code.github.io//2017-07-12-bezier-in-clojurescript/</link><guid isPermaLink="false">https://040code.github.io//2017-07-12-bezier-in-clojurescript/</guid><pubDate>Wed, 12 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;In my &lt;a href=&quot;https://040code.github.io/2017/07/01/bezier-in-clojure/&quot;&gt;previous post&lt;/a&gt; I described how to visualise simple B√©zier curves. I chose &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; as implementation language. Unfortunately I had to ask you to jump through a couple of hoops in order to code along: installing leiningen, installing and configuring the lein-try plugin and maybe even installing the JVM.&lt;/p&gt;
&lt;p&gt;This post will be easier for you - at least in terms of setup. You won‚Äôt have to leave your browser and can experiment with &lt;code class=&quot;language-text&quot;&gt;Clojure(Script)&lt;/code&gt; right here on this page!&lt;/p&gt;
&lt;h2 id=&quot;no-setup&quot;&gt;&lt;a href=&quot;#no-setup&quot; aria-label=&quot;no setup permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;NO Setup&lt;/h2&gt;
&lt;p&gt;In this post we‚Äôre going to use the very useful &lt;a href=&quot;https://github.com/viebel/klipse&quot;&gt;klipse plugin&lt;/a&gt;. Klipse is a client-side code evaluator pluggable on any web page. It can evaluate &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt;, ruby, javascript, python, scheme, es2017, jsx, brainfuck, c++, reagent and probably much more languages in the near future. It‚Äôs like &lt;a href=&quot;https://jsfiddle.net&quot;&gt;jsfiddle&lt;/a&gt; on steroids, right here in the 040code blog.&lt;/p&gt;
&lt;p&gt;Let‚Äôs start with a very simple Klipse demonstration. I‚Äôm going to &lt;code class=&quot;language-text&quot;&gt;map&lt;/code&gt; the &lt;code class=&quot;language-text&quot;&gt;inc&lt;/code&gt;(rement) function over the numbers 1, 2 and 3. The result will not surprise you:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-klipse&quot;&gt;(map inc [1 2 3])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What might surprise you though, is that &lt;strong&gt;you can change the code in the klipse evaluator&lt;/strong&gt; and see the results immediately in your browser. So for instance change &lt;code class=&quot;language-text&quot;&gt;(map inc [1 2 3])&lt;/code&gt; into &lt;code class=&quot;language-text&quot;&gt;(map inc [41 999 2])&lt;/code&gt; and be amazed. Or change it into something completely different like &lt;code class=&quot;language-text&quot;&gt;(filter even? (range 10))&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Defining functions and calling them? No problem:&lt;/p&gt;
&lt;pre&gt;
  &lt;code class=&quot;language-klipse&quot;&gt;
(defn factorial [n]
  (if (= 1 n)
    n
    (* n (factorial (- n 1)))))

(factorial 4)
  &lt;/code&gt;
&lt;/pre&gt;
&lt;p&gt;Now call the factorial function with some other natural number (whole number &gt; 0) and see the results.&lt;/p&gt;
&lt;p&gt;For those of you who don‚Äôt know &lt;code class=&quot;language-text&quot;&gt;Clojure(Script)&lt;/code&gt;, this function basically says:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;define a function named &lt;code class=&quot;language-text&quot;&gt;factorial&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;let &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; be its argument&lt;/li&gt;
&lt;li&gt;if &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; equals 1, return &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;otherwise return the multiplication of &lt;code class=&quot;language-text&quot;&gt;n&lt;/code&gt; with the &lt;code class=&quot;language-text&quot;&gt;factorial&lt;/code&gt; of (n - 1)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lisp in the browser. Embedded in this blog. No setup required. Excellent!&lt;/p&gt;
&lt;p&gt;But hang on, better things will follow soon.&lt;/p&gt;
&lt;h2 id=&quot;clojure-is-designed-to-be-a-hosted-language&quot;&gt;&lt;a href=&quot;#clojure-is-designed-to-be-a-hosted-language&quot; aria-label=&quot;clojure is designed to be a hosted language permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Clojure is designed to be a hosted language&lt;/h2&gt;
&lt;p&gt;Why reinvent your own platform, your own runtime, your own garbage collector, your own ecosystem, when all you need is a decent language? &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; is designed to be a hosted language. It runs on:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.clojure.org/about/jvm_hosted&quot;&gt;The JVM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.clojure.org/about/clojureclr&quot;&gt;The CLR&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://clojurescript.org&quot;&gt;Javascript engines&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Clojurescript&lt;/code&gt; - a compiler for &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; that emits javascript - will be the tool we use in this blog to visualise B√©zier curves. We are going to manipulate a html canvas right from a klipse plugin.&lt;/p&gt;
&lt;h2 id=&quot;b√©zier-in-clojurescript&quot;&gt;&lt;a href=&quot;#b%C3%A9zier-in-clojurescript&quot; aria-label=&quot;b√©zier in clojurescript permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;B√©zier in ClojureScript&lt;/h2&gt;
&lt;p&gt;In my &lt;a href=&quot;https://040code.github.io/2017/07/01/bezier-in-clojure/&quot;&gt;previous post&lt;/a&gt; I tried to explain how (simple) B√©zier curves ‚Äòwork‚Äô. You might want to go there or scan the &lt;a href=&quot;https://en.wikipedia.org/wiki/B%C3%A9zier_curve&quot;&gt;Wikipedia page on B√©zier curves&lt;/a&gt; if you have no clue what I‚Äôm talking about. Otherwise, let‚Äôs dive right in and try to play with B√©zier curves directly on this page.&lt;/p&gt;
  &lt;pre&gt;
    &lt;code class=&quot;language-klipse&quot;&gt;
;; Get a grip on the html canvas element I inserted on this page
(def canvas (.getElementById js/document &quot;canvas-2d&quot;))
(def ctx    (.getContext canvas &quot;2d&quot;))


;; Draws a blue circle with radius `r` on the canvas on point [x y]
(defn draw-point [x y]
  (let [r 5] ;; radius
    (set! (.-fillStyle ctx) &quot;blue&quot;)
    (.beginPath ctx)
    (.arc ctx x y r 0 (* 2 Math/PI))
    (.fill ctx)))


;; Draws a red B√©zier curve and its blue control points on the canvas
(defn draw-bezier-curve [[x1 y1] [x2 y2] [x3 y3]]
  ;; draw curve
  (set! (.-strokeStyle ctx) &quot;red&quot;)
  (set! (.-lineWidth   ctx) 2)
  (.beginPath ctx)
  (.moveTo ctx x1 y1)
  (.quadraticCurveTo ctx x2 y2 x3 y3)
  (.stroke ctx)
  (.closePath ctx)
  ;; draw control points
  (draw-point x1 y1)
  (draw-point x2 y2)
  (draw-point x3 y3))


;; Center the *drawing* canvas within the *html* canvas and draw the curves
;;
;; Reason for centering: keep the coordinates simple AND
;; see the complete shapes (not cropped at the edge of the html canvas)
;; make the ratio 1 to see what I mean with &apos;cropped at the edge&apos;
;;
(let [wc (.-width canvas)  ;; width of *html* canvas
      hc (.-height canvas) ;; height of *html* canvas
      ratio 0.9            ;; ratio of *html* canvas to use as *drawing* canvas
      t  (/ (- 1 ratio) 2) ;; translation constant
      w  (* ratio wc)      ;; width of *drawing* canvas
      h  (* ratio hc)      ;; height of *drawing* canvas
      x  (* 1/2 w)         ;; x val in the middle of 0 and w
      y  (* 1/2 h)]        ;; y val in the middle of 0 and h

  ;; clear *html* canvas
  (.clearRect ctx 0 0 wc hc)

  ;; Center the *drawing* canvas in the *html* canvas
  (.save ctx)
  (.translate ctx (* t wc) (* t hc))

  ;; Draw a grey border around the *drawing* canvas
  (set! (.-lineWidth ctx) 1)
  (set! (.-strokeStyle ctx) &quot;grey&quot;)
  (.strokeRect ctx 0 0 w h)

  ;; Draw main &apos;anchor&apos; points
  ;; This is what I meant with &apos;simple coordinates&apos;:
  ;; (draw-point 0 0)
  ;; (draw-point x y)
  ;; (draw-point w h)

  ;; Increasing ascending curve
  (draw-bezier-curve [0 h] [w h] [w 0])

  ;; Swoosh
  ;; (draw-bezier-curve [0 y] [0 h] [w 0])

  ;; normal curve
  ;; (draw-bezier-curve [0 h] [x 0] [w h])

  ;; my pulse after a useless meeting
  ;; (draw-bezier-curve [0 y] [x y] [w y])

  (.restore ctx))
    &lt;/code&gt;
  &lt;/pre&gt;
&lt;p&gt;&lt;canvas id=&quot;canvas-2d&quot; width=&quot;600&quot; height=&quot;600&quot;&gt;&lt;/canvas&gt;&lt;/p&gt;
&lt;script src=&quot;https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js?&quot;&gt;&lt;/script&gt;
&lt;p&gt;Before reading further you might want to experiment a bit by (un)commenting code and seeing the results. (Un)comment the different B√©zier curves and different control points in the Klipse evaluator and see what happens.&lt;/p&gt;
&lt;h2 id=&quot;explanation&quot;&gt;&lt;a href=&quot;#explanation&quot; aria-label=&quot;explanation permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Explanation&lt;/h2&gt;
&lt;p&gt;Scanning the code quickly without going into detail, this is what happens:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Get a grip on the html canvas element&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Define functions to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Draw (control) points&lt;/li&gt;
&lt;li&gt;Draw B√©zier curves with 3 control points&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Draw the actual curves and points&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; is a hosted language, it must be able to access its host platform and libraries. &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt; have good &lt;a href=&quot;https://clojure.org/reference/java_interop&quot;&gt;interop&lt;/a&gt; &lt;a href=&quot;http://cljs.github.io/api/syntax/#dot&quot;&gt;documentation&lt;/a&gt; so I won‚Äôt go into detail here, but we‚Äôre basically using these forms in this blog:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;js/document&lt;/code&gt;       =&gt; the global document object&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;(.beginPath ctx)&lt;/code&gt;  =&gt; &lt;code class=&quot;language-text&quot;&gt;ctx.beginPath()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;Math/PI&lt;/code&gt;           =&gt; 3.141592653589793&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;(.-lineWidth ctx)&lt;/code&gt; =&gt; &lt;code class=&quot;language-text&quot;&gt;ctx.lineWidth&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The last form is used for instance in &lt;code class=&quot;language-text&quot;&gt;(set! (.-lineWidth ctx) 1)&lt;/code&gt; and translates to &lt;code class=&quot;language-text&quot;&gt;ctx.lineWidth = 1&lt;/code&gt;. The more general syntax is &lt;code class=&quot;language-text&quot;&gt;(set! var-symbol expr)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The second form &lt;code class=&quot;language-text&quot;&gt;(.beginPath ctx)&lt;/code&gt; can also have arguments. The general syntax is &lt;code class=&quot;language-text&quot;&gt;(.instanceMember instance args*)&lt;/code&gt; in that case.&lt;/p&gt;
&lt;p&gt;Other than that it‚Äôs basic &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; and &lt;a href=&quot;https://www.w3schools.com/tags/ref_canvas.asp&quot;&gt;HTML Canvas functionality&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Thanks to the klipse plugin and a bit of preparation from my side, you can now play around with B√©zier Curves in &lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt; directly in this blog. I do realise this post is probably not a compelling case for using &lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Javascript ‚Äúin the small‚Äù is not really the place where &lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt; shines, especially when the largest part of that small program is javascript interop&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt; fits large browser applications better, where you need sane state management, immutable datastructures, lazy sequences, and a fast,  stable and robust language&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I‚Äôm not interested in ‚Äòreligious‚Äô discussions about technology A versus technology B. &lt;code class=&quot;language-text&quot;&gt;Clojure&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;ClojureScript&lt;/code&gt; are THE sane way forward for me, in my context. I hope to share the fun I‚Äôm experiencing with it. Goethe said it best:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is always better to say right out what you think without trying to prove anything much: for all our proofs are only variations of our opinions, and the contrary-minded listen neither to one nor the other.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But with all this talk about language, we‚Äôre almost forgetting what it‚Äôs all about: building useful stuff and having a great time doing it.&lt;/p&gt;
&lt;p&gt;I hope you enjoyed experimenting with B√©zier curves. The &lt;a href=&quot;http://blog.klipse.tech&quot;&gt;Klipse Blog&lt;/a&gt; has several great examples of using Klipse for ‚Äòinteractive programming‚Äô, for instance &lt;a href=&quot;http://blog.klipse.tech/data/2017/03/17/data-driven-documents-google-charts.html&quot;&gt;to write data driven documents&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Thanks Niek for sharing the 040code repo with me. Please share your comments, suggestions and thoughts about this blog post on &lt;a href=&quot;https://twitter.com/mmz_&quot;&gt;twitter.com/mmz_&lt;/a&gt;. Thanks for reading and Happy Coding!&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;&lt;a href=&quot;#links&quot; aria-label=&quot;links permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://040code.github.io/2017/07/01/bezier-in-clojure/&quot;&gt;B√©zier in Clojure - Part I&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/viebel/klipse&quot;&gt;Klipse plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.klipse.tech&quot;&gt;Klipse Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://app.klipse.tech&quot;&gt;Klipse App in the browser&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.klipse.tech/clojure/2016/03/17/klipse.html&quot;&gt;Explanation about the Klipse app&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blog.klipse.tech/data/2017/03/17/data-driven-documents-google-charts.html&quot;&gt;Using Klipse for generating data driven charts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://jsfiddle.net&quot;&gt;JSfiddle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cljs.github.io/api/syntax/#dot&quot;&gt;Javascript interop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://clojure.org/reference/java_interop&quot;&gt;Java interop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.w3schools.com/tags/ref_canvas.asp&quot;&gt;HTML Canvas functionality&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Visualising B√©zier Curves]]></title><description><![CDATA[For reasons I might explain in another post, I was reading about B√©zier curves on wikipedia the other day. Especially the paragraph on‚Ä¶]]></description><link>https://040code.github.io//2017-07-01-bezier-in-clojure/</link><guid isPermaLink="false">https://040code.github.io//2017-07-01-bezier-in-clojure/</guid><pubDate>Sat, 01 Jul 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;For reasons I might explain in another post, I was reading about &lt;a href=&quot;https://en.wikipedia.org/wiki/B%C3%A9zier_curve&quot;&gt;B√©zier curves on wikipedia&lt;/a&gt; the other day. Especially the paragraph on ‚ÄúConstructing B√©zier curves‚Äù made me understand intuitively how these curves are constructed. I wondered if &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt; could help me easily visualise some of these curves so I fired up a &lt;a href=&quot;https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop&quot;&gt;REPL&lt;/a&gt; (Read-Eval-Print-Loop) to investigate.&lt;/p&gt;
&lt;h2 id=&quot;setup&quot;&gt;&lt;a href=&quot;#setup&quot; aria-label=&quot;setup permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setup&lt;/h2&gt;
&lt;p&gt;I assume you have a working &lt;a href=&quot;https://leiningen.org&quot;&gt;leiningen&lt;/a&gt; setup with the &lt;a href=&quot;https://github.com/rkneufeld/lein-try&quot;&gt;lein-try plugin&lt;/a&gt; installed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Leiningen will help you get started with &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt; right away from your shell&lt;/li&gt;
&lt;li&gt;Lein-try enables you to spin up a repl and try a library without any hassle.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Let‚Äôs first start a repl, and specify the library we want to try:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;lein try incanter &lt;span class=&quot;token string&quot;&gt;&quot;1.5.7&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://incanter.org&quot;&gt;Incanter&lt;/a&gt; is a &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt;-based, R-like platform for statistical computing and graphics. We‚Äôll use it to visualise the B√©zier curves.&lt;/p&gt;
&lt;p&gt;Since the repl is already fired up, let‚Äôs immediately require the dependencies we‚Äôll need:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require &apos;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;incanter.core   &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; incanter&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require &apos;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;incanter.charts &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; charts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nothing fancy going on here. Simply ‚Äòimport‚Äô statements the &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt; way.&lt;/p&gt;
&lt;h2 id=&quot;helper-function&quot;&gt;&lt;a href=&quot;#helper-function&quot; aria-label=&quot;helper function permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Helper function&lt;/h2&gt;
&lt;p&gt;I decided to hand-roll my own &lt;code class=&quot;language-text&quot;&gt;pow&lt;/code&gt; function, because we‚Äôll need it later in the creation of b√©zier curves:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; pow &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;base exponent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;reduce&lt;/span&gt; *&apos; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;repeat&lt;/span&gt; exponent base&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This function basically says:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;define a function named &lt;code class=&quot;language-text&quot;&gt;pow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;let &lt;code class=&quot;language-text&quot;&gt;base&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;exponent&lt;/code&gt; be its arguments&lt;/li&gt;
&lt;li&gt;make it &lt;code class=&quot;language-text&quot;&gt;repeat&lt;/code&gt; the &lt;code class=&quot;language-text&quot;&gt;base&lt;/code&gt; &lt;code class=&quot;language-text&quot;&gt;exponent&lt;/code&gt; times&lt;/li&gt;
&lt;li&gt;and &lt;code class=&quot;language-text&quot;&gt;reduce&lt;/code&gt; that result with the &lt;code class=&quot;language-text&quot;&gt;*&amp;#39;&lt;/code&gt; multiply function&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;;; so:&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pow &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;;; will lead to&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;reduce&lt;/span&gt; *&apos; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;;; which results in&lt;/span&gt;
&lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I‚Äôm using the &lt;code class=&quot;language-text&quot;&gt;*&amp;#39;&lt;/code&gt; multiply function instead of the normal &lt;code class=&quot;language-text&quot;&gt;*&lt;/code&gt; multiply function, because according to the docs &lt;code class=&quot;language-text&quot;&gt;*&amp;#39;&lt;/code&gt; supports arbitrary precision. You can see for yourself by typing &lt;code class=&quot;language-text&quot;&gt;(doc *&amp;#39;)&lt;/code&gt; in your repl, or study the code by typing &lt;code class=&quot;language-text&quot;&gt;(source *&amp;#39;)&lt;/code&gt; in your repl.&lt;/p&gt;
&lt;h2 id=&quot;b√©zier&quot;&gt;&lt;a href=&quot;#b%C3%A9zier&quot; aria-label=&quot;b√©zier permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;B√©zier&lt;/h2&gt;
&lt;p&gt;B√©zier functions work with control points. The minimum number of control points is 2 and B√©zier curves with 2 control points are straight lines (although you can also create straight lines with more than 2 control points).&lt;/p&gt;
&lt;p&gt;For the moment I only need B√©zier curves with 3 control points: a start point, an end point and one point controlling the curve of the line between start and end.&lt;/p&gt;
&lt;p&gt;Quoting the &lt;a href=&quot;https://en.wikipedia.org/wiki/B%C3%A9zier_curve&quot;&gt;Wikipedia page&lt;/a&gt;: ‚ÄúA quadratic B√©zier curve is the path traced by the function B(t), given points P0, P1, and P2‚Äù:&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 6.487695749440715%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAARElEQVQI1x3IMQ4AIQgF0b3/AWkslNBRABKD5TdLMZnkfXNOqCqqCmbWZ2astXDvhYi0uTuICOccRATGGNh7t/+Wmd0D29ZLPTdV80IAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/b1db3caa87d4878344715c08553bba4e/cc182/bezier-formula.webp 148w,
/static/b1db3caa87d4878344715c08553bba4e/f7e40/bezier-formula.webp 295w,
/static/b1db3caa87d4878344715c08553bba4e/1a2f4/bezier-formula.webp 590w,
/static/b1db3caa87d4878344715c08553bba4e/4837b/bezier-formula.webp 885w,
/static/b1db3caa87d4878344715c08553bba4e/2f819/bezier-formula.webp 1180w,
/static/b1db3caa87d4878344715c08553bba4e/799b2/bezier-formula.webp 1770w,
/static/b1db3caa87d4878344715c08553bba4e/da990/bezier-formula.webp 1788w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/b1db3caa87d4878344715c08553bba4e/cf440/bezier-formula.png 148w,
/static/b1db3caa87d4878344715c08553bba4e/d2d38/bezier-formula.png 295w,
/static/b1db3caa87d4878344715c08553bba4e/b9e4f/bezier-formula.png 590w,
/static/b1db3caa87d4878344715c08553bba4e/f9b6a/bezier-formula.png 885w,
/static/b1db3caa87d4878344715c08553bba4e/2d849/bezier-formula.png 1180w,
/static/b1db3caa87d4878344715c08553bba4e/bbefa/bezier-formula.png 1770w,
/static/b1db3caa87d4878344715c08553bba4e/435fe/bezier-formula.png 1788w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/b1db3caa87d4878344715c08553bba4e/b9e4f/bezier-formula.png&quot; alt=&quot;bezier-formula&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;So given 3 points (P0, P1 and P2) I should be able to describe the curve with this math function. Conceptually a pen is drawing the curve by starting on P0 on moment &lt;code class=&quot;language-text&quot;&gt;t = 0&lt;/code&gt; and following the curve described by this formula and the position of the 3 points until it hits the end point at &lt;code class=&quot;language-text&quot;&gt;t = 1&lt;/code&gt;. The only thing this resulting &lt;code class=&quot;language-text&quot;&gt;B(t)&lt;/code&gt; function needs is the moment &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt; and it will calculate the X or Y co√∂rdinate at that particular moment.&lt;/p&gt;
&lt;p&gt;Let‚Äôs convert the math function to &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;P0 P1 P2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pow &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; P0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; t     P1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pow t &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;       P2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, you‚Äôll have to translate the infix notation to &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt;‚Äôs prefix notation. The advantage is there are no precedence rules to remember anymore. These are all just lists where the first element of the list is interpreted as a function to call and the brackets are used to put them into context. &lt;em&gt;(If you can‚Äôt live with that: you can also use infix notation in clojure. For instance incanter can also be fed with &lt;a href=&quot;https://data-sorcery.org/2010/05/14/infix-math/&quot;&gt;infix notation&lt;/a&gt;. However, you‚Äôll lose [the power of the ùù∫](&lt;a href=&quot;https://en.wikipedia.org/wiki/Lambda&quot;&gt;https://en.wikipedia.org/wiki/Lambda&lt;/a&gt;&lt;/em&gt;calculus))_&lt;/p&gt;
&lt;p&gt;This function basically states:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;define a function named &lt;code class=&quot;language-text&quot;&gt;bezier-3&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;let it have 3 arguments: &lt;code class=&quot;language-text&quot;&gt;P0&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;P1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;P2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;make it return an anonymous function&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This anonymous function:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;takes &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt; as an argument&lt;/li&gt;
&lt;li&gt;has &lt;code class=&quot;language-text&quot;&gt;P0&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;P1&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;P2&lt;/code&gt; already ‚Äòinjected‚Äô&lt;/li&gt;
&lt;li&gt;applies the B√©zier math function&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Excellent. Let‚Äôs try it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;def&lt;/span&gt; test-&lt;span class=&quot;token number&quot;&gt;b3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;test-&lt;span class=&quot;token number&quot;&gt;b3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt;&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here I‚Äôm defining a variable &lt;code class=&quot;language-text&quot;&gt;test-b3&lt;/code&gt; which holds the anonymous function returned by the &lt;code class=&quot;language-text&quot;&gt;bezier-3&lt;/code&gt; function call. The 3 points are either all x or all y coordinates of the points P0, P1 and P2.&lt;/p&gt;
&lt;p&gt;With the &lt;code class=&quot;language-text&quot;&gt;(test-b3 0)&lt;/code&gt; function call I‚Äôm calling the anonymous function with a &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt; value of &lt;code class=&quot;language-text&quot;&gt;0&lt;/code&gt;. This nicely returns an answer representing the x coordinates at moment &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt; if you provided the (P0, P1 and P2) x coordinates when calling the &lt;code class=&quot;language-text&quot;&gt;bezier-3&lt;/code&gt; function or the y coordinate at moment &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt; if you provided the (P0, P1 and P2) y coordinates.&lt;/p&gt;
&lt;p&gt;Since this test didn‚Äôt blow the stack or throw a NullPointerException or anything,  let‚Äôs map this function over a range of &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt;‚Äôs &lt;code class=&quot;language-text&quot;&gt;[0 0.25 0.5 0.75 1]&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;map&lt;/span&gt; test-&lt;span class=&quot;token number&quot;&gt;b3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt;&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;9375&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;4375&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Instead of typing these &lt;code class=&quot;language-text&quot;&gt;t&lt;/code&gt;‚Äôs to &lt;code class=&quot;language-text&quot;&gt;map&lt;/code&gt; over, we could also use the &lt;code class=&quot;language-text&quot;&gt;range&lt;/code&gt; function:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt;&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt;&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you can see, &lt;code class=&quot;language-text&quot;&gt;range&lt;/code&gt; allows you to specify a start (inclusive), an end (exclusive) and a step size (optional).&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;map&lt;/span&gt; test-&lt;span class=&quot;token number&quot;&gt;b3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;=&lt;/span&gt;&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;9900000000000001&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;9600000000000002&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;9099999999999999&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;84&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;75&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;64&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;51&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;3600000000000001&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;19000000000000014&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;220446049250313E&lt;/span&gt;-&lt;span class=&quot;token number&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Although a certain pattern is already visible in these numbers, now might be the right time to start visualising the curves.&lt;/p&gt;
&lt;h2 id=&quot;visualise&quot;&gt;&lt;a href=&quot;#visualise&quot; aria-label=&quot;visualise permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Visualise&lt;/h2&gt;
&lt;p&gt;Let‚Äôs be brave and go right to the essence:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; view-bezier-plot &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x1 y1&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x2 y2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x3 y3&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; plot-title&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;b3x         &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; x1 x2 x3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        xs          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;map&lt;/span&gt; b3x &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        b3y         &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; y1 y2 y3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        ys          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;map&lt;/span&gt; b3y &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        dataset     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;incanter/conj-cols xs ys&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        xy-plot     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;charts/xy-plot &lt;span class=&quot;token string&quot;&gt;&quot;col-0&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;col-1&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:data&lt;/span&gt; dataset &lt;span class=&quot;token operator&quot;&gt;:points&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:title&lt;/span&gt; plot-title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;incanter/view xy-plot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;code class=&quot;language-text&quot;&gt;let&lt;/code&gt; form is &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt;‚Äôs way of defining local variables. So &lt;code class=&quot;language-text&quot;&gt;b3x&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;xs&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;b3y&lt;/code&gt;, etc. can be seen as local variables with their values specified in the functions directly after their declaration.&lt;/p&gt;
&lt;p&gt;This function basically states:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;define a function named &lt;code class=&quot;language-text&quot;&gt;view-bezier-plot&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;let it have 3 arguments which are destructured into their 2D x &amp;#x26; y coordinates&lt;/li&gt;
&lt;li&gt;let the fourth argument be the title of the plot&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;let&lt;/code&gt; it have some local variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;b3x&lt;/code&gt; takes all x coordinates of the 3 points&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;b3y&lt;/code&gt; takes the y coordinates&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;xs&lt;/code&gt; are the all x values resulting from applying the &lt;code class=&quot;language-text&quot;&gt;b3x&lt;/code&gt; anonymous function with all the range values&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;ys&lt;/code&gt; are the all y values resulting from applying the &lt;code class=&quot;language-text&quot;&gt;b3y&lt;/code&gt; anonymous function with all the range values&lt;/li&gt;
&lt;li&gt;incanter can work with columns similarly to spreadsheets. &lt;code class=&quot;language-text&quot;&gt;dataset&lt;/code&gt; is an incanter dataset where 2 columns are ‚Äòbrought together‚Äô, or in &lt;a href=&quot;https://en.wikipedia.org/wiki/Lisp_(programming_language)&quot;&gt;lisp&lt;/a&gt; terms &lt;code class=&quot;language-text&quot;&gt;conj&lt;/code&gt;[oined]. By default, these columns are called &lt;code class=&quot;language-text&quot;&gt;col-0&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;col-1&lt;/code&gt;, ‚Ä¶ , &lt;code class=&quot;language-text&quot;&gt;col-n&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;xy-plot contains an incanter chart where &lt;code class=&quot;language-text&quot;&gt;dataset&lt;/code&gt; provides the data, the x-axis - and y-axis values are found in columns &lt;code class=&quot;language-text&quot;&gt;col-0&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;col-1&lt;/code&gt; respectively and viewing the points is set to &lt;code class=&quot;language-text&quot;&gt;true&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;and make it return an &lt;code class=&quot;language-text&quot;&gt;xy-plot&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;i-love-it-when-a-plan-comes-together&quot;&gt;&lt;a href=&quot;#i-love-it-when-a-plan-comes-together&quot; aria-label=&quot;i love it when a plan comes together permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;I love it when a plan comes together&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;view-bezier-plot &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;increasing ascending&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;view-bezier-plot &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; -&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;swoosh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;view-bezier-plot &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;-&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; -&lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;y = x^2 ?&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;view-bezier-plot &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;-&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;my pulse after a useless meeting&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 80.1564027370479%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACeUlEQVQ4y21UCZKiQBDk/88bj9HxAg9Q6ANoUNDV2sxSDGdjjajowzoyq7KJqqqS8/ksbdvK6XSS/X4vaZpKdjxK0zTS9b3UIYi1Vi6Xy9voe4SPnhF/6TrNEfUI4KYsSw2iOefEGCMligXsPYoE+LAw/eq6Vh8aAVUoXOe5BMREHTLTKcdFURRvM7AcDgWSmckEQSjq/duPBelTAIDZbcUsl+KwjwiZCd9Og9EZ926xEBPHUoF2DTS//FDAJom41VIKnD3OkdLFZkBlXgFMZoHOj0bqzKIVqBZAaNgSUiYqJDOvFmlCRYjKOeAW+EMNDberlbivLzHYk3qN+xrDyhmcHsShDXazUX/zahN7qkMJPCBB+fPztPlMyvVaLFGgKgNCi0kigR+PpZzNxGPCDkCGIXIli4gTa/BHg0PjnTREgrsA5AF9o3TYEmtOUje1tNg3mHbNe8ZgZdvoy4lH5E2dBUyRThkoZlkmgUmZEM75KZc0nsv2uJXVeiMLsJgB5XQ6lSX6uMDgqF0qIPpzv0uHpBU1hSQsQESqL+oQd4fNWtpLJ/x5/6RHP9onXUXY324qygLT0sEMesTKYVAWyfe3Cps/9pX3/zPGRdfrVSkb0DBFrhIZJMTVg1ICHbKvj8dDHFpS7HZiDgcYRL//MPynL4VPx8Sbpww4VaJ8idbjLkECtuEKNn67FQvEdj7/beipRZHoRsqonlM60wk0huby5VAW0BoFGwMhp6mU+fzQGurxX+MzfFJGQkM9AXI5HinNEnpzWSoOyRMgHRJyCPpaPt7z5wtTyhR3zxXJe36OMC2uPJMBP1Oc4B2K+PyEta8vEPfMQ5n9BVXttyTQGYnbAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/f3b08b6678464a9c1d1a938bf03381a7/cc182/incanter-plots.webp 148w,
/static/f3b08b6678464a9c1d1a938bf03381a7/f7e40/incanter-plots.webp 295w,
/static/f3b08b6678464a9c1d1a938bf03381a7/1a2f4/incanter-plots.webp 590w,
/static/f3b08b6678464a9c1d1a938bf03381a7/4837b/incanter-plots.webp 885w,
/static/f3b08b6678464a9c1d1a938bf03381a7/2f819/incanter-plots.webp 1180w,
/static/f3b08b6678464a9c1d1a938bf03381a7/799b2/incanter-plots.webp 1770w,
/static/f3b08b6678464a9c1d1a938bf03381a7/03ee7/incanter-plots.webp 2046w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/f3b08b6678464a9c1d1a938bf03381a7/cf440/incanter-plots.png 148w,
/static/f3b08b6678464a9c1d1a938bf03381a7/d2d38/incanter-plots.png 295w,
/static/f3b08b6678464a9c1d1a938bf03381a7/b9e4f/incanter-plots.png 590w,
/static/f3b08b6678464a9c1d1a938bf03381a7/f9b6a/incanter-plots.png 885w,
/static/f3b08b6678464a9c1d1a938bf03381a7/2d849/incanter-plots.png 1180w,
/static/f3b08b6678464a9c1d1a938bf03381a7/bbefa/incanter-plots.png 1770w,
/static/f3b08b6678464a9c1d1a938bf03381a7/aa8a7/incanter-plots.png 2046w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/f3b08b6678464a9c1d1a938bf03381a7/b9e4f/incanter-plots.png&quot; alt=&quot;incanter-plots&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;The generated charts will be opened in external java windows. Sometimes they stay hidden behind other windows on your screen, so you might have to bring your java windows to the foreground in order to see them.&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;In a relatively short repl session I was able to get a better understanding of (3 point) B√©zier curves. Although the blogpost is long, not much code or time was needed to create the curves:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;clojure&quot;&gt;&lt;pre class=&quot;language-clojure&quot;&gt;&lt;code class=&quot;language-clojure&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require &apos;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;incanter.core   &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; incanter&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;require &apos;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;incanter.charts &lt;span class=&quot;token operator&quot;&gt;:as&lt;/span&gt; charts&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; pow &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;base exponent&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;reduce&lt;/span&gt; *&apos; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;repeat&lt;/span&gt; exponent base&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;P0 P1 P2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;t&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;+&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pow &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; P0&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt; t&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; t     P1&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;pow t &lt;span class=&quot;token number&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;       P2&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;defn&lt;/span&gt; view-bezier-plot &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x1 y1&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x2 y2&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;x3 y3&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; plot-title&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;b3x         &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; x1 x2 x3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        xs          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;map&lt;/span&gt; b3x &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        b3y         &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;bezier-&lt;span class=&quot;token number&quot;&gt;3&lt;/span&gt; y1 y2 y3&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        ys          &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;map&lt;/span&gt; b3y &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;token number&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        dataset     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;incanter/conj-cols xs ys&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
        xy-plot     &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;charts/xy-plot &lt;span class=&quot;token string&quot;&gt;&quot;col-0&quot;&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;col-1&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:data&lt;/span&gt; dataset &lt;span class=&quot;token operator&quot;&gt;:points&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:title&lt;/span&gt; plot-title&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;incanter/view xy-plot&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Actually, the hand-rolled &lt;code class=&quot;language-text&quot;&gt;pow&lt;/code&gt; function isn‚Äôt really needed. I could have used &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt;‚Äôs java interop: &lt;code class=&quot;language-text&quot;&gt;(Math/pow 2 3)&lt;/code&gt;. In that case I would have been calling the &lt;code class=&quot;language-text&quot;&gt;pow&lt;/code&gt; method directly on java‚Äôs &lt;code class=&quot;language-text&quot;&gt;Math&lt;/code&gt; class. I weighted the option of hand-rolling the &lt;code class=&quot;language-text&quot;&gt;pow&lt;/code&gt; function, showing some functional code and explaining how functions are defined in &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt; versus explaining java interop.&lt;/p&gt;
&lt;p&gt;Explaining in text what the code does took me 5 times as long as writing the code itself. That‚Äôs a great thing about &lt;a href=&quot;https://en.wikipedia.org/wiki/Lisp_(programming_language)&quot;&gt;lisps&lt;/a&gt; in general and &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt; in particular: no fluff, just stuff!&lt;/p&gt;
&lt;p&gt;Thanks Niek for posting my guest blog. Please share your comments, suggestions and thoughts about this blog with me on &lt;a href=&quot;https://twitter.com/mmz_&quot;&gt;twitter.com/mmz_&lt;/a&gt;. Thanks for reading and Happy Coding!&lt;/p&gt;
&lt;h2 id=&quot;links&quot;&gt;&lt;a href=&quot;#links&quot; aria-label=&quot;links permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/mmzsource/833ddfb2cf87c54fe4fc26996466cd1d&quot;&gt;A gist with the code from this post&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://clojure.org&quot;&gt;Clojure website&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Lisp_(programming_language)&quot;&gt;Lisps or LIst Processing Language&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Lambda_calculus&quot;&gt;ùù∫ calculus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop&quot;&gt;REPL or Read Eval Print Loop&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.davidtanzer.net/rdd_and_tests&quot;&gt;REPL Driven Development&lt;/a&gt; - a blog which is a bit outdated on the test part, because nowadays, with &lt;a href=&quot;https://clojure.org/about/spec&quot;&gt;clojure spec&lt;/a&gt; we easily generate our tests and test data by specifying our data structures, functions, etc. in &lt;code class=&quot;language-text&quot;&gt;clojure&lt;/code&gt; itself. With proper specs, you‚Äôll get even more than generative testing; you‚Äôll get validation, better error reporting, destructuring and type- and range checking in one go - without losing the power &amp;#x26; pleasure of a dynamic programming language!&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://leiningen.org&quot;&gt;Leiningen&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/rkneufeld/lein-try&quot;&gt;Lein-try plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://incanter.org&quot;&gt;Incanter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://data-sorcery.org/2010/05/14/infix-math/&quot;&gt;Incanter infix notation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/B%C3%A9zier_curve&quot;&gt;Wikipedia page on B√©zier curves&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://plus.maths.org/content/formula-bezier-curve&quot;&gt;The formula for a bezier curve&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://blogs.sitepointstatic.com/examples/tech/canvas-curves/bezier-curve.html&quot;&gt;Play around with b√©zier curves with 4 control points&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Coding a VPC in Terraform]]></title><description><![CDATA[One of the common uses network setups in AWS is called Scenario 2: VPC with Public and Private Subnets. This is a that defines a Virtual‚Ä¶]]></description><link>https://040code.github.io//2017-06-18-terraform-aws-vpc/</link><guid isPermaLink="false">https://040code.github.io//2017-06-18-terraform-aws-vpc/</guid><pubDate>Sun, 18 Jun 2017 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;One of the common uses network setups in AWS is called &lt;a href=&quot;http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Scenario2.html&quot;&gt;Scenario 2: VPC with Public and Private Subnets&lt;/a&gt;. This is a that defines a Virtual Private Cloud (VPC), public subnets and private subnets. Setting up this infrastructure can be done via the AWS console or via cloud formation scripting. However, I prefer the tool &lt;a href=&quot;https://www.terraform.io/&quot;&gt;Terraform&lt;/a&gt; in which you can manage your infrastructure as code with a declarative language that supports building, changing and versioning your cloud in a modular way.&lt;/p&gt;
&lt;p&gt;In this article I will describe how you can create a VPC with a public and private subnet on AWS using terraform. I will describe the setup step by step and I will show how to encapsulate all logic to one re-usable module.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://docs.aws.amazon.com/AmazonVPC/latest/UserGuide/VPC_Subnets.html&quot;&gt;Why we need subnets.&lt;/a&gt; When you create a VPC, it spans all the Availability Zones in the region. After creating a VPC, you can add one or more subnets in each Availability Zone. When you create a subnet, you specify the CIDR block for the subnet, which is a subset of the VPC CIDR block. Each subnet must reside entirely within one Availability Zone and cannot span zones. Availability Zones are distinct locations that are engineered to be isolated from failures in other Availability Zones. By launching instances in separate Availability Zones, you can protect your applications from the failure of a single location.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Before you can start, you need an AWS account with sufficient rights (admin), and you should create a &lt;code class=&quot;language-text&quot;&gt;AWS_ACCESS_KEY_ID&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt; to be able to access your account programmatically.&lt;/p&gt;
&lt;h2 id=&quot;setting-up-your-system&quot;&gt;&lt;a href=&quot;#setting-up-your-system&quot; aria-label=&quot;setting up your system permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Setting up your system.&lt;/h2&gt;
&lt;p&gt;The easiest way to use terraform is via docker. In that case you do not need any locally isntalled tools. We simply create a file called &lt;code class=&quot;language-text&quot;&gt;.aws&lt;/code&gt; where we put the AWS key and secret to athentication API calls, as shown below:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;AWS_ACCESS_KEY_ID=&amp;lt;KEY&amp;gt;
AWS_SECRET_ACCESS_KEY=&amp;lt;SECRET&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;creating-a-vpc-part-1&quot;&gt;&lt;a href=&quot;#creating-a-vpc-part-1&quot; aria-label=&quot;creating a vpc part 1 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating a VPC part 1&lt;/h2&gt;
&lt;p&gt;All code for part 1 is available on &lt;a href=&quot;https://github.com/040code/blog_terraform-aws-vpc&quot;&gt;github&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;By default, terraform expects the configuration in a file called &lt;code class=&quot;language-text&quot;&gt;main.tf&lt;/code&gt;. Create the file and add the terraform provide for Amazon:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# main.tf
provider &amp;quot;aws&amp;quot; {
  region = &amp;quot;eu-west-1&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We are now ready to, step-by-step, add the terraform resources to create the VPC setup. First, have a look on the VPC setup as shown in the picture below.
&lt;a href=&quot;#&quot;&gt;
&lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 75.74525745257452%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAAClUlEQVQ4y4VU227TQBD1V/LEF/Al/AM/AI8ICShIIEQELbmUpLm5pEnaNI6dxnd77d21fZjZtFEkoKw0sj1enzl7zowt0BLnHyEGnyGzEGVZ3oc8ihJSSiilUFUVmqb5Z1h1XaMUOQpvAXH2CrIQ+2AQcy2guADda0WgBPzYslA3oF3w73wM+xNKNZA1IEUGWdXErIQqcmhZoKJQVDwXAr7vw57amF/NcWnb8DwPgvKWVCUKkcKPAyRFAblzkHbfQhG0XrbRxBsoqpkTEB83jUK4rotOp4Pvp6dYr9dYLhbodXvm3pq4E1ys+jiZfkDvaoBZvwfv+RMUNyPctV/DGX9DTMeOqKAmDcssNky20RZu6JIUJZIkgRt5SLMUltbSMAySEFor5GSCt3FwffMLq3CH2WaBdeQiJTAiahRi8Y8XP9dN/aBhjZp0KqgSu8jLDwIMR2NEQWieFTEp5m1oAq7sLyY3mUwxuBgeAHFfiFymNiCWWzLlZ29oQLlNWK+qFigbhXA5gvf1JYLlGLfvX0AojdFohLMf7T/YWg0x1KRRngtwC/FitmkS4FNric7ANblEUMuQ67ng0xQmF8cxHMcxoSttSBwAWeiHagy+9W7x5uQST5+9I9as895lmSWmRbqdLlqtFubzOWazGc5753uXDwwJ0OhhAHOEUYQg2OF2vSX3ciMDy5HFoXH12rnGYr1ATu/cnQt7ZWNz5x4zLMjlPW12eTYdI0tiU4TdZ7CadaW9FR1dV5SrOEeTRr2cSRoE8sIAyjw1k6FLYcB1GmJ3NUZJlRXleUI0jZ6ZmLJ4fPTYCK7OwQz5mY80pXEKwpCcrk1eMkNqQt73/5/DfZvwh+Zj+gGsVivj4nH+4d2h9/6yfgM2gX0ML7ZrjwAAAABJRU5ErkJggg==&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/8b78637f33297f5081063556e8f76152/cc182/nat-gateway-diagram.webp 148w,
/static/8b78637f33297f5081063556e8f76152/f7e40/nat-gateway-diagram.webp 295w,
/static/8b78637f33297f5081063556e8f76152/1a2f4/nat-gateway-diagram.webp 590w,
/static/8b78637f33297f5081063556e8f76152/4eead/nat-gateway-diagram.webp 738w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/8b78637f33297f5081063556e8f76152/cf440/nat-gateway-diagram.png 148w,
/static/8b78637f33297f5081063556e8f76152/d2d38/nat-gateway-diagram.png 295w,
/static/8b78637f33297f5081063556e8f76152/b9e4f/nat-gateway-diagram.png 590w,
/static/8b78637f33297f5081063556e8f76152/2bf51/nat-gateway-diagram.png 738w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/8b78637f33297f5081063556e8f76152/b9e4f/nat-gateway-diagram.png&quot; alt=&quot;nat-gateway-diagram&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We will start by creating the VPC itself: add the following snippet to your &lt;code class=&quot;language-text&quot;&gt;main.tf&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_vpc&amp;quot; &amp;quot;vpc&amp;quot; {
  cidr_block           = &amp;quot;10.0.0.0/16&amp;quot;
  enable_dns_support   = true
  enable_dns_hostnames = true

  tags {
    label = &amp;quot;blog&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Before we make the change effective we run a &lt;code class=&quot;language-text&quot;&gt;terraform plan&lt;/code&gt; to inspect the planned changes. You can install terraform locally or run the commands in a docker container. The docker command will export the AWS credentials to the container, mount the current directory to &lt;code class=&quot;language-text&quot;&gt;/data&lt;/code&gt; in the container, and set &lt;code class=&quot;language-text&quot;&gt;/data&lt;/code&gt; as working directory to ensure the container will execute the &lt;code class=&quot;language-text&quot;&gt;terraform plan&lt;/code&gt; command on the directory that contains the terraform files.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -it --env-file ./.aws  -v $(pwd):/data -w /data \
  hashicorp/terraform:0.9.8 plan&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After executing the plan command, you should see output similar to:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;+ aws_vpc.vpc
    assign_generated_ipv6_cidr_block: &amp;quot;false&amp;quot;
    cidr_block:                       &amp;quot;10.0.0.0/16&amp;quot;
    default_network_acl_id:           &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    default_route_table_id:           &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    default_security_group_id:        &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    dhcp_options_id:                  &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    enable_classiclink:               &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    enable_dns_hostnames:             &amp;quot;true&amp;quot;
    enable_dns_support:               &amp;quot;true&amp;quot;
    instance_tenancy:                 &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    ipv6_association_id:              &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    ipv6_cidr_block:                  &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    main_route_table_id:              &amp;quot;&amp;lt;computed&amp;gt;&amp;quot;
    tags.%:                           &amp;quot;1&amp;quot;
    tags.label:                       &amp;quot;blog&amp;quot;


Plan: 1 to add, 0 to change, 0 to destroy.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This looks correct, so we can apply the change to create the VPC by running &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -it --env-file ./.aws  -v $(pwd):/data -w /data \
  hashicorp/terraform:0.9.8 apply&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can go VPC via the AWS console, where you should now see a VPC in the list named &lt;code class=&quot;language-text&quot;&gt;blog&lt;/code&gt;. Now we have the VPC, we create a public and private subnet by adding the following to the main.tf.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_subnet&amp;quot; &amp;quot;public_subnet_a&amp;quot; {
  vpc_id                  = &amp;quot;${aws_vpc.vpc.id}&amp;quot;
  cidr_block              = &amp;quot;10.0.0.0/24&amp;quot;
  availability_zone       = &amp;quot;eu-west-1a&amp;quot;
  map_public_ip_on_launch = false

  tags {
    Name = &amp;quot;blog&amp;quot;
  }
}

resource &amp;quot;aws_subnet&amp;quot; &amp;quot;private_subnet_a&amp;quot; {
  vpc_id                  = &amp;quot;${aws_vpc.vpc.id}&amp;quot;
  cidr_block              = &amp;quot;10.0.1.0/24&amp;quot;
  availability_zone       = &amp;quot;eu-west-1a&amp;quot;

  tags {
    Name = &amp;quot;blog&amp;quot;
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Run now &lt;code class=&quot;language-text&quot;&gt;terraform plan&lt;/code&gt; again, it will show that the resources will be added, one for each subnet. Apply the change using &lt;code class=&quot;language-text&quot;&gt;terraform apply&lt;/code&gt; and inspect your changes again via the VPC section in the AWS console.&lt;/p&gt;
&lt;p&gt;Next, we connect the public subnet via an &lt;em&gt;internet gateway&lt;/em&gt;. Create a routing table and an internet gateway. And a &lt;em&gt;aws&lt;em&gt;route&lt;/em&gt;table_association&lt;/em&gt; to create an association between a subnet and routing table. Update your &lt;code class=&quot;language-text&quot;&gt;main.tf&lt;/code&gt; with the snippet below, and run a plan and apply.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_internet_gateway&amp;quot; &amp;quot;internet_gateway&amp;quot; {
  vpc_id = &amp;quot;${aws_vpc.vpc.id}&amp;quot;
}

resource &amp;quot;aws_route_table&amp;quot; &amp;quot;public_routetable&amp;quot; {
  vpc_id = &amp;quot;${aws_vpc.vpc.id}&amp;quot;

  route {
    cidr_block = &amp;quot;0.0.0.0/0&amp;quot;
    gateway_id = &amp;quot;${aws_internet_gateway.internet_gateway.id}&amp;quot;
  }

  tags {
    label = &amp;quot;blog&amp;quot;
  }
}

resource &amp;quot;aws_route_table_association&amp;quot; &amp;quot;public_subnet_a&amp;quot; {
  subnet_id      = &amp;quot;${aws_subnet.public_subnet_a.id}&amp;quot;
  route_table_id = &amp;quot;${aws_route_table.public_routetable.id}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We are now able to deploy an application to the public subnet and make it accessible via a security group. However, it is not yet possible to route traffic to the private subnet or let instances on the private subnet connect to internet. To do so, we add a NAT gateway and connect the gateway via a route table to the private subnet. The NAT gateway requires an elastic IP, which we will create first. Add the next terraform snippet to your &lt;code class=&quot;language-text&quot;&gt;main.tf&lt;/code&gt; and run a &lt;code class=&quot;language-text&quot;&gt;plan&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;apply&lt;/code&gt; to inspect and make the changes effective.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;resource &amp;quot;aws_eip&amp;quot; &amp;quot;nat&amp;quot; {
  vpc = true
}

resource &amp;quot;aws_nat_gateway&amp;quot; &amp;quot;nat&amp;quot; {
  allocation_id = &amp;quot;${aws_eip.nat.id}&amp;quot;
  subnet_id     = &amp;quot;${aws_subnet.public_subnet_a.id}&amp;quot;
}

resource &amp;quot;aws_route_table&amp;quot; &amp;quot;private_routetable&amp;quot; {
  vpc_id = &amp;quot;${aws_vpc.vpc.id}&amp;quot;

  route {
    cidr_block     = &amp;quot;0.0.0.0/0&amp;quot;
    nat_gateway_id = &amp;quot;${aws_nat_gateway.nat.id}&amp;quot;
  }

  tags {
    label = &amp;quot;blog&amp;quot;
  }
}

resource &amp;quot;aws_route_table_association&amp;quot; &amp;quot;private_subnet_a&amp;quot; {
  subnet_id      = &amp;quot;${aws_subnet.private_subnet_a.id}&amp;quot;
  route_table_id = &amp;quot;${aws_route_table.private_routetable.id}&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Setting up the VPC with subnets is quite verbose, and imagine then when you must support more availability zones, the code will almost double per zone. So we refactor it to a generic module to support the multiple subnets that are available in a zone.&lt;/p&gt;
&lt;h2 id=&quot;creating-a-vpc-part-2&quot;&gt;&lt;a href=&quot;#creating-a-vpc-part-2&quot; aria-label=&quot;creating a vpc part 2 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Creating a VPC part 2&lt;/h2&gt;
&lt;p&gt;I have rewritten the code showed above to a generic module. With this model, it is easy to create a VPC with all availability zones per zone, and private subnets can be enabled on demand.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.terraform.io/docs/modules/usage.html&quot;&gt;Modules in terraform&lt;/a&gt; are self-contained packages of gerraform configurations that are managed as a group. Modules are used to create reusable components, improve organization, and to treat pieces of infrastructure as a black box.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I will not describe all code in the module again but only will pay attention to the significant changes I made. In the code above the zone, availability zone where hard coded. This will not work in a generic module. A common way to solve this in terraform is by creating a map where a zone is mapped to a list of availability zondes. By passing the zone to the moudle, the module can find out which availability zones there are. A default map is available in the module but can be ovewritten as follow:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;availability_zones = {
  eu-west-1 = [&amp;quot;eu-west-1a&amp;quot;, &amp;quot;eu-west-1b&amp;quot;, &amp;quot;eu-west-1c&amp;quot;]
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The cdir block in the code show above was hard coded, but terraform contains a function to calculate the cdir block. In the module I use the terraform &lt;a href=&quot;https://www.terraform.io/docs/configuration/interpolation.html#cidrsubnet-iprange-newbits-netnum-&quot;&gt;function&lt;/a&gt; &lt;code class=&quot;language-text&quot;&gt;cidrsubnet()&lt;/code&gt; to calculate the cdir block.&lt;/p&gt;
&lt;p&gt;Now only one problem needs to be solved in order to create a generic module: how can we create a AWS resource for each element in a list? Do we create subnet or route table association for each availability zone? Or how can we avoid creating a private subnet at all? The solution is to use the &lt;code class=&quot;language-text&quot;&gt;count&lt;/code&gt; variable in a module to iterate over the list of availability zones, which is available on my &lt;a href=&quot;https://github.com/npalm/tf-aws-vpc.git&quot;&gt;github&lt;/a&gt;. We can now create a VPC similar to the one above with just a few line of code. Add the following lines to your terraform script to create a VPC.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;vpc&amp;quot; {
  source = &amp;quot;git::https://github.com/npalm/tf-aws-vpc.git&amp;quot;

  key        = &amp;quot;blog&amp;quot;
  aws_region = &amp;quot;eu-west-1&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It is possible to overwrite module variables with default to get more control, see the ezample below:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module &amp;quot;vpc&amp;quot; {
  source = &amp;quot;git::https://github.com/npalm/tf-aws-vpc.git&amp;quot;

  key        = &amp;quot;blog&amp;quot;
  aws_region = &amp;quot;eu-west-1&amp;quot;

  create_private_hosted_zone = &amp;quot;false&amp;quot;
  create_private_subnets     = &amp;quot;false&amp;quot;
  cidr_block = &amp;quot;10.0.0.0/16&amp;quot;

  // example to override default availability_zones
  availability_zones = {
    eu-west-1 = [&amp;quot;eu-west-1a&amp;quot;, &amp;quot;eu-west-1c&amp;quot;]
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[GraphQL]]></title><description><![CDATA[A short post to share the slides and examples I used in my talk at the Nextbuild conference on May the 20th in Eindhoven.SlidesBelow the‚Ä¶]]></description><link>https://040code.github.io//2017-05-20-nextbuild-graphql/</link><guid isPermaLink="false">https://040code.github.io//2017-05-20-nextbuild-graphql/</guid><pubDate>Sat, 20 May 2017 23:50:00 GMT</pubDate><content:encoded>&lt;p&gt;A short post to share the slides and examples I used in my talk at the &lt;a href=&quot;http://nextbuild.nl/&quot;&gt;Nextbuild&lt;/a&gt; conference on May the 20th in Eindhoven.&lt;/p&gt;
&lt;h2 id=&quot;slides&quot;&gt;&lt;a href=&quot;#slides&quot; aria-label=&quot;slides permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Slides&lt;/h2&gt;
&lt;p&gt;Below the slides that I for the talk, the slides are available as well on &lt;a href=&quot;https://npalm.github.io/graphql-slides-20170520/&quot;&gt;GitHub&lt;/a&gt;. You can easy navigate through the slides with the spacebar.&lt;/p&gt;
&lt;div style=&quot;position:relative; width:100%; height:0px; padding-bottom:56.25%;&quot;&gt;
    &lt;iframe style=&quot;position:absolute; left:0; top:0; width:100%; height:100%&quot;
        src=&quot;https://npalm.github.io/graphql-slides-20170520/&quot;&gt;
    &lt;/iframe&gt;
&lt;/div&gt;
&lt;p&gt;To get started with GraphQL the best starting points are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://graphql.org&quot;&gt;GraphQL.org&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/chentsulin/awesome-graphql&quot;&gt;Awesome GraphQL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;examples&quot;&gt;&lt;a href=&quot;#examples&quot; aria-label=&quot;examples permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Examples&lt;/h2&gt;
&lt;p&gt;During the talk, I demonstrated GraphQL via &lt;a href=&quot;https://www.graph.cool/&quot;&gt;graphcool&lt;/a&gt;, which is cloud service for creating a flexible GraphGL backend. I modelled a basic model of a Talk and Person with relation speakers and visitors on graphcool. Furthermore, I modelled two basic sample implementations of a GraphQL backend in Java and JavaScript that are available via GitHub. Those implementation are more limited than the online one, but both serve the following minimal queries.&lt;/p&gt;
&lt;p&gt;Query for the name and the title of the talks given by all persons:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  persons {
    name
    talks {
      title
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And secondly, a query for all titles of talks with their speaker‚Äôs names.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
  talks {
    title
    speakers {
      name
    }
  }
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;javascript-sample&quot;&gt;&lt;a href=&quot;#javascript-sample&quot; aria-label=&quot;javascript sample permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;JavaScript sample&lt;/h3&gt;
&lt;p&gt;The JavaScript &lt;a href=&quot;https://github.com/npalm/graphql-js-demo.git&quot;&gt;sample&lt;/a&gt; is based on &lt;a href=&quot;https://github.com/apollostack/apollo-starter-kit&quot;&gt;Apollo GraphQL tutorial kit&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/graphql-js-demo.git
cd graphql-js-demo
yarn &amp;amp;&amp;amp; yarn start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Instead of yarn, you can use &lt;code class=&quot;language-text&quot;&gt;npm install &amp;amp;&amp;amp; npm start&lt;/code&gt;. Once started, browse to &lt;a href=&quot;http://localhost:8080/graphiql&quot;&gt;http://localhost:8080/graphiql&lt;/a&gt; and play around with the GraphQL web interface. Implementing the JavaScript version was straightforward due to the many examples and good tutorials around.&lt;/p&gt;
&lt;h3 id=&quot;spring-boot-java-sample&quot;&gt;&lt;a href=&quot;#spring-boot-java-sample&quot; aria-label=&quot;spring boot java sample permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Spring Boot Java sample&lt;/h3&gt;
&lt;p&gt;The Spring Boot Java &lt;a href=&quot;https://github.com/npalm/graphql-java-demo.git&quot;&gt;sample&lt;/a&gt; is based on the Spring Boot Starter available for GraphQL. This starter uses a basic GraphQL java library as well the Java annotation library for GraphQL.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/npalm/graphql-java-demo.git
git checkout nextbuild
cd graphql-java-demo
docker build -t graphql-java-demo &amp;amp;&amp;amp; docker run -it --rm -p 8080:8080 graphql-java-demo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, you can build and run via gradle. Once started, browse to &lt;a href=&quot;http://localhost:8080/&quot;&gt;http://localhost:8080/&lt;/a&gt; to play around with the GraphQL web interface. The Java version implementation was not as easy as expected. The GraphQL Spring Boot starter dependencies requires the GrahpQL java annotation library, which seems to be broken after an update in the Java GraphQL base library. I am not sure if the annotation library is still supported. To get the GraphQL Spring Boot library working I have to add a mandatory mutation to the scheme. And downgrade the Java GraphQL, see &lt;code class=&quot;language-text&quot;&gt;gradle/depedencies.gradle&lt;/code&gt; to get the annotation library to work.&lt;/p&gt;
&lt;p&gt;Many languages already have support, so feel free to try out your favourite language. Currently the support on JavaScript looks like by far the best.&lt;/p&gt;
&lt;h2 id=&quot;updates&quot;&gt;&lt;a href=&quot;#updates&quot; aria-label=&quot;updates permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Updates&lt;/h2&gt;
&lt;h3 id=&quot;refactored-java-implementation-june-20-2017&quot;&gt;&lt;a href=&quot;#refactored-java-implementation-june-20-2017&quot; aria-label=&quot;refactored java implementation june 20 2017 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Refactored Java implementation (June 20, 2017)&lt;/h3&gt;
&lt;p&gt;I have updated the Spring Boot implmentation, upgrade all libraries and removed the annotations for graphql resolving. The annoation are replaced &lt;a href=&quot;https://github.com/graphql-java/graphql-java-tools&quot;&gt;java-graphql-tools&lt;/a&gt;. Which looks a better way to ingrate graphql in a Java service. You will see the implementation will have a lot of similarities with the javascript one.&lt;/p&gt;
&lt;h3 id=&quot;developersnl-meetup-rotterdam-june-28-2017&quot;&gt;&lt;a href=&quot;#developersnl-meetup-rotterdam-june-28-2017&quot; aria-label=&quot;developersnl meetup rotterdam june 28 2017 permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Developers.nl meetup Rotterdam (June 28, 2017)&lt;/h3&gt;
&lt;p&gt;On June, the 28th I have presented the GraphQL talk at the &lt;a href=&quot;https://www.meetup.com/Developers-nl-Meetup/events/240419508/&quot;&gt;developers.nl Meetup&lt;/a&gt; in Rotterdom. I have used a slightly minimal version for the slides, which can be found &lt;a href=&quot;https://npalm.github.io/graphql-slides-20170628/&quot;&gt;here&lt;/a&gt;. Comparing the to the presentaton on the nextbuild I have also walked through the code examples mentioned above.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Docker Multi Stage Builds]]></title><description><![CDATA[The problemBuilding an application requires typically multiple steps. First compiling the application, next testing it and finally shipping‚Ä¶]]></description><link>https://040code.github.io//2017-05-07-docker-multi-stage-builds/</link><guid isPermaLink="false">https://040code.github.io//2017-05-07-docker-multi-stage-builds/</guid><pubDate>Sun, 07 May 2017 00:00:00 GMT</pubDate><content:encoded>&lt;h1 id=&quot;the-problem&quot;&gt;&lt;a href=&quot;#the-problem&quot; aria-label=&quot;the problem permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The problem&lt;/h1&gt;
&lt;p&gt;Building an application requires typically multiple steps. First compiling the application, next testing it and finally shipping the artifact in a Docker image for execution. All these steps can be combined in one¬†&lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt;,¬†but typically you end up with a Docker image that contains all kinds of tools that are not necessary for running the application.&lt;/p&gt;
&lt;p&gt;We could try to get rid of all unneeded files in the image after build, but a more useful approach is to separate Docker images for building and running the application. However, this approach requires two separate Dockerfiles that needs to be maintained.&lt;/p&gt;
&lt;p&gt;Let‚Äôs have a look on a &lt;a href=&quot;https://github.com/040code/blog_docker-mulit-stage-build.git&quot;&gt;example&lt;/a&gt; for a simple Java micro service. The micro services require the JDK and Gradle to build. The JDK needs to be installed before the build and Gradle will be download by the build itself. We can build the micro service in the following way.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/040code/blog_docker-mulit-stage-build.git
cd notes-service
docker run -it --rm -v $(pwd):/build -w /build openjdk:8u121-jdk-alpine ./gradlew build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the artifact is available, we can create a Docker runtime image. The application only needs the Java Runtime (JRE) to run. We create a &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt; based JRE alpine image and add our application.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# file: Dockerfile (git checkout step-00)
FROM openjdk:8u121-jre-alpine
COPY build/libs/notes-service.jar /app/notes-service.jar

EXPOSE 8080
CMD java -jar /app/notes-service.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Next, we build the production image as follows:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker build -t notes-service:00 .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we have created a clean Docker images that only containes the needed libraries to run the application. But would it not be nice if we can do this more straightforward? For example, in one Docker build.&lt;/p&gt;
&lt;h1 id=&quot;moving-on-to-a-multi-stage-build&quot;&gt;&lt;a href=&quot;#moving-on-to-a-multi-stage-build&quot; aria-label=&quot;moving on to a multi stage build permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Moving on to a multi stage build&lt;/h1&gt;
&lt;p&gt;Docker 17.05.x brings a new feature; it is now possible to define a &lt;a href=&quot;https://docs.docker.com/engine/userguide/eng-image/multistage-build/&quot;&gt;multi stage builds&lt;/a&gt; in one Dockerfile. The Dockerfile can contain multiple FROM lines and each stage starts with a new FROM line and a fresh context. You can copy artifacts from stage to stage.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 55.758880516684606%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACsUlEQVQozz2STU8TURiFZ+fanUt/gRs3LkyMP8KVv0DDwoRoWKEoG6JWNGqEmKBEFBGISqEBi1aQAgGE8jH9LoVpO51OmbYUWvpBH99OI4s3997c+557znmPkiymUE0Nv7mPdpgkmkugZlr73byUnP1yv19Isq7vEbU0qg2D8qnByVllzvZKTJpcoQiTgTCL+zFmwhGpKMuJOD8iMb77I2ymmx+kCFlJ9JJBnSw1qToH9lqup6k0WqBKvpJmr2iQLGXI1nKE8waRXIpEUSeY1YjlE9Jk0Gg2VhMYBwHMQhQ9GyBpqmQLMU4F2GYozBUtvc3Siou1DTeumc8EQosclfY4PtEEJENNHpWEQZONZqi8HXzBh899jE0M2mv/u142w0tUMVsM46ktRr4O8Gm8Xx4NMOkeZtozinkYBgoC2pRlSkOWTC7Cz/nveBaczC9N8dPrxLfmxpoZo1zThWEGJSv0d8LLuD2zTDinGB7+gueXh0BQZXt7A1X1kbF2bd+aDErSWK7rHFdTMpg0hZMosciC7WFFPlYa5MSXMM+7J3jc+YeHd708aJ+n7eYYVy/c59K5Dvod48LQEIZ75I4TFCstsFLVtD93fn2Db31UlFgo/tA0vY+u0feknZ77C3R3+HjctUXHbTdXzj/gonKPZ13DIv+Aw3KKo4qOkYtTaqSJ7/q5dX2Qd44hxobaKJQ0GYq+infuPat/f/HpwxKvHIu8fuqj846bG5cd9NwdIRT0236eCoOGFOTtfTOL6vJHFid7cE+/FNkiuS4XNZHdzNOpTLUo052dc+J0feP3HxeB+AKrW7NsBbzsSAK2g168K9OE42sCnidhbLK+MSV2BO3BKa2Ep23DK5L4ZkgNK4h1FBNpITRdJWUGSB8E7bNhhQRkB6u4KwAZexhVseN/sP8Bc58C1cyyjvgAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/9f19fe775a09640a4724e3e5fd31b87b/cc182/docker-multi-stages-build.webp 148w,
/static/9f19fe775a09640a4724e3e5fd31b87b/f7e40/docker-multi-stages-build.webp 295w,
/static/9f19fe775a09640a4724e3e5fd31b87b/1a2f4/docker-multi-stages-build.webp 590w,
/static/9f19fe775a09640a4724e3e5fd31b87b/4837b/docker-multi-stages-build.webp 885w,
/static/9f19fe775a09640a4724e3e5fd31b87b/2f819/docker-multi-stages-build.webp 1180w,
/static/9f19fe775a09640a4724e3e5fd31b87b/799b2/docker-multi-stages-build.webp 1770w,
/static/9f19fe775a09640a4724e3e5fd31b87b/2cc55/docker-multi-stages-build.webp 1858w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/9f19fe775a09640a4724e3e5fd31b87b/cf440/docker-multi-stages-build.png 148w,
/static/9f19fe775a09640a4724e3e5fd31b87b/d2d38/docker-multi-stages-build.png 295w,
/static/9f19fe775a09640a4724e3e5fd31b87b/b9e4f/docker-multi-stages-build.png 590w,
/static/9f19fe775a09640a4724e3e5fd31b87b/f9b6a/docker-multi-stages-build.png 885w,
/static/9f19fe775a09640a4724e3e5fd31b87b/2d849/docker-multi-stages-build.png 1180w,
/static/9f19fe775a09640a4724e3e5fd31b87b/bbefa/docker-multi-stages-build.png 1770w,
/static/9f19fe775a09640a4724e3e5fd31b87b/bb319/docker-multi-stages-build.png 1858w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/9f19fe775a09640a4724e3e5fd31b87b/b9e4f/docker-multi-stages-build.png&quot; alt=&quot;docker-multi-stages-build&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Now it is time to have a second look on the same example. Instead of passing the build arguments and mounting our sources, we will build our software using a single Dockerfile.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# file: Dockerfile (git checkout step-01)
FROM openjdk:8u121-jdk-alpine AS build

WORKDIR /build-env
ADD . /build-env
RUN ./gradlew build

CMD java -jar /build-env/build/notes-service.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And build it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker build -t notes-service:01 .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nothing new here, we are now able to build our software in a container and ship an image, but the image contains all kinds of build stuff that we do not want in a runtime image. So, the next step is to solve this problem by getting rid of all the unwanted build tools.&lt;/p&gt;
&lt;p&gt;We update the &lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt; and make a few modifications.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# file: Dockerfile (git checkout step-02)
FROM openjdk:8u121-jdk-alpine AS build                                               # (1)

WORKDIR /build-env
ADD . /build-env
RUN ./gradlew build

FROM openjdk:8u121-jre-alpine                                                        # (2)
COPY --from=build /build-env/build/libs/notes-service.jar /app/notes-service.jar     # (3)

EXPOSE 8080
CMD java -jar /app/notes-service.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the¬†&lt;code class=&quot;language-text&quot;&gt;Dockerfile&lt;/code&gt;¬†above we marked the first stage (1) as¬†&lt;em&gt;build&lt;/em&gt;¬†to refer later, if not specifying a name you can refer to the stage as¬†0. Next (2), we add the second stage which specifies the base image that we need to run our application. Finally (3), we copy the results from the build stage to the image for executing.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker build -t notes-service:02 .&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And now we can run via the following docker run command.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -it --rm -p 8080 notes-service:2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Inspection of the tree images build will show that version 0 and 2 are equal in size, version 1 that contains all the build files and the JDK is almost three times bigger.&lt;/p&gt;
&lt;h1 id=&quot;conclusion&quot;&gt;&lt;a href=&quot;#conclusion&quot; aria-label=&quot;conclusion permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Conclusion&lt;/h1&gt;
&lt;p&gt;Docker‚Äôs new multi layer build feature can be quite useful when build pipeline without parallel builds will suite your needs. In that case, you can reduce your build to a single image. For projects that requires a more complex multi stage build, including parallel builds, this new Docker feature will not provide an added value.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Periodic builds in GitLab]]></title><description><![CDATA[I am using GitLab CI now for more than a year and I really love the features in GitLab. GitLab provides a complete and powerful tool for day‚Ä¶]]></description><link>https://040code.github.io//2017-04-21-gitlab-perodic-build/</link><guid isPermaLink="false">https://040code.github.io//2017-04-21-gitlab-perodic-build/</guid><pubDate>Fri, 21 Apr 2017 12:21:00 GMT</pubDate><content:encoded>&lt;p&gt;I am using GitLab CI now for more than a year and I really love the features in GitLab. GitLab provides a complete and powerful tool for day to day development. And of course, there are always feature that you miss. Until now there is no support for periodic builds, in the coming release the &lt;a href=&quot;https://gitlab.com/gitlab-org/gitlab-ce/issues/2989&quot;&gt;feature&lt;/a&gt; will be shipped as experimental feature and in the next one is should be general available. But in case you must deal for some reason with an older version, a work around is described below as I used last year.&lt;/p&gt;
&lt;p&gt;You could argue why you should need a feature as a periodic build. Ideally a build should be immutable and only trigger by a change in GIT, a commit. But the world is not always perfect, project build are sometime not of the quality that you are expect or tools are not that reliable as you hope. For example, dependencies resolving could break over the time, to avoid you find the problem once your boss is watching you when fixing a critical bug, a periodic build can alert you earlier. Another and much better reason to argue for the feature is that the GitLab build are so powerful that is handy to use them for a scenario based health check.&lt;/p&gt;
&lt;h2 id=&quot;the-build-trigger&quot;&gt;&lt;a href=&quot;#the-build-trigger&quot; aria-label=&quot;the build trigger permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The build trigger&lt;/h2&gt;
&lt;p&gt;To setup a periodic build you first need to be able to trigger a build in some way. GitLab provides an &lt;a href=&quot;https://docs.gitlab.com/ce/ci/triggers/&quot;&gt;API&lt;/a&gt; to trigger a build. Setting up the trigger is simple and complete guided in GitLab, just execute the steps below:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Go to your GitLab projects&lt;/li&gt;
&lt;li&gt;Navigate to Settings -&gt; CI/CD Pipelines&lt;/li&gt;
&lt;li&gt;Scroll down to the trigger section and create a trigger&lt;/li&gt;
&lt;li&gt;Make a note of the TOKEN and trigger URL. An curl example for trigger is shown as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 33.3889816360601%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8klEQVQoz51Ry2oDMQz0j/af+k+9lOZe6CEll/U+ym725cfasqeSmkDprREMI4uZQcjGthZd16Fn2KZBjBE5J6SUkP8B1bPPjMMVx0GIuaAAOJgfQWI4zjGnywc+2xbXxSGk8jAkdHIZ5untGS9f75DKhVBqRb3hXvUPa19/91V9qAUmxPAzKIW5KAuIMrz32LaNT3JoL+yc0zvLzfZ9RwhBtcR5xOFmGAZ4FolRICIxExH6voe1Vmdt16tZ3uM4anDDn7izR8LidEFuTzDrumKeZ8aivCyLiqW8DxpMVOBDvM28BsuGsrGUfGaazqjdK74BXekgB/Lm0qIAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/b3a83e80a7d7dd93b35da7f9921e9cb1/cc182/gitlabtrigger.webp 148w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/f7e40/gitlabtrigger.webp 295w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/1a2f4/gitlabtrigger.webp 590w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/4837b/gitlabtrigger.webp 885w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/2f819/gitlabtrigger.webp 1180w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/799b2/gitlabtrigger.webp 1770w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/75e7c/gitlabtrigger.webp 1797w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/b3a83e80a7d7dd93b35da7f9921e9cb1/cf440/gitlabtrigger.png 148w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/d2d38/gitlabtrigger.png 295w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/b9e4f/gitlabtrigger.png 590w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/f9b6a/gitlabtrigger.png 885w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/2d849/gitlabtrigger.png 1180w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/bbefa/gitlabtrigger.png 1770w,
/static/b3a83e80a7d7dd93b35da7f9921e9cb1/85af7/gitlabtrigger.png 1797w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/b3a83e80a7d7dd93b35da7f9921e9cb1/b9e4f/gitlabtrigger.png&quot; alt=&quot;GitLab trigger&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Next we test that we are able to trigger the build remotely be executing the &lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; command below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl -X POST \
     -F token=&amp;lt;TOKEN&amp;gt; \
     -F ref=&amp;lt;REF_NAME&amp;gt; \
     &amp;lt;URL&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Verify in GitLab the build is triggered&lt;/p&gt;
&lt;h2 id=&quot;periodic-trigger-the-build-in-a-docker-container&quot;&gt;&lt;a href=&quot;#periodic-trigger-the-build-in-a-docker-container&quot; aria-label=&quot;periodic trigger the build in a docker container permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Periodic trigger the build in a Docker container&lt;/h2&gt;
&lt;p&gt;The next step is to execute the trigger periodic. A standard way of running a job periodic is by defining crontab. We will use a docker container to execute the crontab so we can deploy it anywhere.&lt;/p&gt;
&lt;p&gt;I have createe a base docker image containing a script to trigger GitLab by executing a curl command as shown above. The crontab will be copied to the image &lt;code class=&quot;language-text&quot;&gt;ONBUILD&lt;/code&gt;. In the crontab we point to the script that can be executed as follow:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;trigger-gitlab.sh -t &amp;lt;token&amp;gt; -r &amp;lt;ref&amp;gt; -u &amp;lt;gitlab_trigger_url&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For the sources see &lt;a href=&quot;https://github.com/npalm/gitlab-periodic-trigger&quot;&gt;npalm/gitlab-periodic-trigger&lt;/a&gt; on GitHub.&lt;/p&gt;
&lt;p&gt;Now all peace‚Äôs are ready we only have to build our docker image and run it to trigger the build. First, we create a Dockerfile and only extend the base image &lt;code class=&quot;language-text&quot;&gt;npalm/gitlab-periodic-trigger&lt;/code&gt;. Create a new directory, and add a Dockerfile with only the line:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;FROM npalm/gitlab-periodic-trigger:1.0.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This image expects a file &lt;code class=&quot;language-text&quot;&gt;gitlabcrontab&lt;/code&gt; containing the &lt;a href=&quot;https://en.wikipedia.org/wiki/Cron&quot;&gt;crontab&lt;/a&gt; and will copy it to the image once build. Create a file named &lt;code class=&quot;language-text&quot;&gt;gitlabcrontab&lt;/code&gt;, and add one ore more triggers, an example is below.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7)
# |  |  |  |  |
22 11 * * * trigger-gitlab.sh -t &amp;lt;token&amp;gt; -r &amp;lt;ref&amp;gt; -u &amp;lt;gitlab_trigger_url&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we build the container &lt;code class=&quot;language-text&quot;&gt;docker build -t periodic-trigger .&lt;/code&gt; and finally start the container &lt;code class=&quot;language-text&quot;&gt;docker run -d periodic-trigger&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;To enable the feature for your teams you could set up a build to build the docker image as described below and push it automated to an environment.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Discover the exposed port]]></title><description><![CDATA[Update 2018-02-14, since Amazon has introduced a feature to extract meta data at runtime in a container the discovery agent described in‚Ä¶]]></description><link>https://040code.github.io//2017-04-20-discovery-agent/</link><guid isPermaLink="false">https://040code.github.io//2017-04-20-discovery-agent/</guid><pubDate>Thu, 20 Apr 2017 14:22:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;em&gt;Update 2018-02-14, since Amazon has introduced a feature to extract meta data at runtime in a container the discovery agent described in this post becomes obsolete for the ECS case, see more &lt;a href=&quot;/2018/02/14/service-discovery&quot;&gt;this&lt;/a&gt; post for more details.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;This post describes a solution for implementing the discovery of the unknown exposed port by a &lt;a href=&quot;https://www.docker.com/&quot;&gt;Docker&lt;/a&gt; container. A specific situation where the problem occurs is when you deploy &lt;a href=&quot;http://projects.spring.io/spring-cloud/&quot;&gt;Spring Cloud&lt;/a&gt; micro services as &lt;a href=&quot;https://aws.amazon.com/ecs/&quot;&gt;Amazon ECS&lt;/a&gt; services to the cloud.&lt;/p&gt;
&lt;h3 id=&quot;the-problem&quot;&gt;&lt;a href=&quot;#the-problem&quot; aria-label=&quot;the problem permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The problem&lt;/h3&gt;
&lt;p&gt;Setting up a micro services architecture requires that there is a way services can find each other. Spring Cloud provides a services discovery service out of the box: Eureka. Services running in the micro services landscape are responsible to register themselves to the discovery service. Then, any service running in the micro services landscape can locate them based on their name. Deploying those services to a docker based cloud, such as AWS, does however create some difficulties.&lt;/p&gt;
&lt;p&gt;A service running in a container does not know the external exposed port. The port map can be fixed, for example by mapping the external port on the same port as the internal one but this will eventually cause port conflicts. Besides that, you are not able to scale the container on the same host. Therefore, it make sense to use automatic port assignment. But in that case, services must be able to discover the port, assigned by docker, for registration.&lt;/p&gt;
&lt;p&gt;Running micro services in docker containers on AWS ECS looks as follows.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 441px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 64.17233560090703%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACY0lEQVQ4y4VT+0/TUBTuf+cf5g8mijFRJJFEf9HoIDpYBppAlDD3CgKhMPag6wZ7wrZuXZ/0dT9P7+0WNCY2/XpPz+Prd8+5lRBfjNFNiO37LqJZCZFWBjNOEOnHHKH+C9H8GDBP4YzLsG4LgH1JdaGoY/wJaUEoSMkOB3DqKUy/P0EwLeO6kkGvvoNuLQtVTsO5y6FT/wZF3qaPE2EUAP8iZIkjdAdw70idLoNZVTDzEr5+Dlc7RUR2DDg1rs7RLqg2+kvhUp1weJ4HbTp7+FH4fgBNmwqfcCGMGEajcZLHlpAWScvEMIRlWcvExfqnjyU++2HHEkLOHHEs5NuOkySSDxHvk2XOsbySGuGL60KxxltmFvXEqlBfqrw3RukN3KEs6twOn2wwo2nbFTiVFNzKpogFBo+FetxbGf7wEGZxjRQaRxhe7aJ59pmOQg7q/gqGjZxQ4rZg9vb5dO9aexidf8J1+X1COEcwyfFT0KlmMWt9RfNglQhjdcYZwrnMJ9dWDjEdNwWhNxDqadpw65jenuCmdSRiEfWPVMOu8t2FRgUtpQDJoa2b1DjXj+B4IfyA4Z5ge4zeKdenWCBWCoPSyM9g3kPAE7DjOMWkk4MfUDaeodT0ULxyUGjYKDYcbsfI103ka8YSxYaFfMOF0h2i21fR6bc51HYDsjqCtPf2FZTHj7BZ0pHKa9jITwga2RNsFmdY36njdVrG6pczrG2dU2yMDz91DLunmKlpDGppTFT6ky5SOL6sQXqZ7eHF1jVWMn083+79H5kenm718fGghWxRwXZeQaagYLfcxLu9G/wGweDC6OBd6mEAAAAASUVORK5CYII=&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/110c23341dfbfef4c9a08632a2d31764/cc182/ecs1.webp 148w,
/static/110c23341dfbfef4c9a08632a2d31764/f7e40/ecs1.webp 295w,
/static/110c23341dfbfef4c9a08632a2d31764/efddf/ecs1.webp 441w&quot; sizes=&quot;(max-width: 441px) 100vw, 441px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/110c23341dfbfef4c9a08632a2d31764/cf440/ecs1.png 148w,
/static/110c23341dfbfef4c9a08632a2d31764/d2d38/ecs1.png 295w,
/static/110c23341dfbfef4c9a08632a2d31764/98017/ecs1.png 441w&quot; sizes=&quot;(max-width: 441px) 100vw, 441px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/110c23341dfbfef4c9a08632a2d31764/98017/ecs1.png&quot; alt=&quot;ECS&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Each micro service is defined as task which will run as service (a docker container). The docker container runs on a Amazon EC2 instance that also runs docker agent to manage the cluster. Unfortunately, the agent has no API to lookup the exposed port.&lt;/p&gt;
&lt;h3 id=&quot;solution&quot;&gt;&lt;a href=&quot;#solution&quot; aria-label=&quot;solution permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Solution&lt;/h3&gt;
&lt;p&gt;To lookup the exposed port an extra agent is added to the EC2 instance. The &lt;a href=&quot;https://github.com/npalm/docker-discovery-agent&quot;&gt;discovery agent&lt;/a&gt; uses an API to discover the port for a given container id, internal port and protocol. The only drawback is that the discovery agent needs access to the docker socket which is a potential security risk.&lt;/p&gt;
&lt;a href=&quot;#&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-wrapper&quot; style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;&quot;&gt;
    &lt;span class=&quot;gatsby-resp-image-background-image&quot; style=&quot;padding-bottom: 47.324414715719065%; position: relative; bottom: 0; left: 0; background-image: url(&amp;apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAACKElEQVQoz61QS2sTURgdO/XZhRtFXViCLaKiUMGtoG7cuekPEFQo1E0WQkURWlTETaXS0qIVKlg3iovgi0TzaDJJJ4mZPJqYaGaSTFPyfreTTF7He4UUpFs/ONzvfvfcc+85DLOzdlEYPy7soRu15HqKmh3NtFmt5x1dJWPrKFmu2yry7VqaQ6fs8lKe9s44g6p7h1gfQT/F1P2xfXRQTtuftGI6qOuGfDFpKWei+lpG1FfqWa5YkM2qWlhdpbypx/cY8si20EGCYwSHqCgABoiz9MBjWDji9n49C1SOoxs8IXBvzwHBITQEDSBqPr2fOaV7N8OiI/RtfLjL9gSPEpwh0JwcHmSZ/1WXL16gdplWib/eLvHP2hX3IyXw5nlqZfY0Wj9HyGxZKThfNiXdsuKcv0Gc7G7k7HOtsmuRZPyiIbya/Udwfnri7+/IRZ7YAZoBoGaF/8v0NSA8CiTRqbiJTgCSbVFHmr1oeAHVBzQ8qIs69PKj2R0eGDhAVxabvtF2LTQJJTIhSfykIxgdaiobg1C8WnRCY9WcU+tLxa50AVathG52lV+3G9XweCSycqsnSPM7TwSH6UCIFh5KcuyHGJfMcjJhictR4fd6VjCtbVmN/rLNHNqy+k3fnJFwNBBLyhzhWaWE6FhLlD9v22XZfvbqpZH9tP/O+/XtzSAyCSvySQdSMTNEWcRrUw5LhgSWjCk45h4gxJtRynqQk22Ex8HiCXf+AFIpa2+58wjGAAAAAElFTkSuQmCC&amp;apos;); background-size: cover; display: block;&quot;&gt;&lt;/span&gt;
    &lt;picture&gt;
        &lt;source srcset=&quot;/static/79183530a7cd706df5ac94b8fa05bc07/cc182/ecs2.webp 148w,
/static/79183530a7cd706df5ac94b8fa05bc07/f7e40/ecs2.webp 295w,
/static/79183530a7cd706df5ac94b8fa05bc07/1a2f4/ecs2.webp 590w,
/static/79183530a7cd706df5ac94b8fa05bc07/5eb91/ecs2.webp 598w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/webp&quot;&gt;
        &lt;source srcset=&quot;/static/79183530a7cd706df5ac94b8fa05bc07/cf440/ecs2.png 148w,
/static/79183530a7cd706df5ac94b8fa05bc07/d2d38/ecs2.png 295w,
/static/79183530a7cd706df5ac94b8fa05bc07/b9e4f/ecs2.png 590w,
/static/79183530a7cd706df5ac94b8fa05bc07/16bf3/ecs2.png 598w&quot; sizes=&quot;(max-width: 590px) 100vw, 590px&quot; type=&quot;image/png&quot;&gt;
        &lt;img class=&quot;gatsby-resp-image-image&quot; style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;&quot; src=&quot;/static/79183530a7cd706df5ac94b8fa05bc07/b9e4f/ecs2.png&quot; alt=&quot;ECS&quot; title&gt;
      &lt;/picture&gt;
  &lt;/span&gt;
&lt;/a&gt;
&lt;p&gt;Let‚Äôs explain the working of the discovery agent by example: First we have to start the agent as a docker container.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;docker run -d -v /var/run/docker.sock:/var/run/docker.sock \
  --name docker-discovery-agent -p 5555:8080 npalm/docker-discovery-agent:1.0.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now the agent is running, it can be tested. For testing we start another container, remember the problem is that we need to find the exposed port¬†from &lt;strong&gt;within&lt;/strong&gt;¬†a container. The local ip address will be added as extra host to the container. The test container is just a linux (CentOS) container containing the tool¬†&lt;code class=&quot;language-text&quot;&gt;curl&lt;/code&gt; and for which port 80 is exposed to a random port.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;export DOCKERHOST=$(ifconfig | grep -E &amp;quot;([0-9]{1,3}\.){3}[0-9]{1,3}&amp;quot; | \
  grep -v 127.0.0.1 | awk &amp;#39;{ print $2 }&amp;#39; | cut -f2 -d: | head -n1)
docker run -it -p 80 --add-host=&amp;quot;dockerhost:$(DOCKERHOST)&amp;quot; --rm centos /bin/bash&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We are now in the shell of the CentOS container, the host file contains a DNS entry that points to the host. First, we have to search for the id of the current container.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;CONTAINER_ID=$(cat /proc/self/cgroup | grep &amp;quot;cpu:/&amp;quot; | sed &amp;#39;s/\([0-9]\):cpu:\/docker\///g&amp;#39;)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then, we ask the discovery agent for our external mapped port by sending the container id and the internal port.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;curl &amp;quot;http://dockerhost:5555/container/${CONTAINER_ID}/portbinding?port=80&amp;amp;protocol=tcp&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The result is a JSON string container with the hostIp and hostPort, for example:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;{
	&amp;quot;HostIp&amp;quot;: &amp;quot;0.0.0.0&amp;quot;,
	&amp;quot;HostPort&amp;quot;: &amp;quot;32779&amp;quot;
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alternative to passing the host ip address, it is possible to register a static ip address and use this to find the dicovery agent.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo ifconfig lo0 alias 172.16.123.1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now we can discover the exposed port, let‚Äôs give some direction on how this can be combined with Spring Cloud on ECS. First deploy Eureka (service discover) as container. Register an ALB (internal) to the service. Now we have an endpoint that we can use to inject the service that needs to register itself. Next create a spring service that is aware of discovery. Before the services can be started, the exposed port needs to be found. Add the snippet below to the start script to start the services in the container.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#!/bin/bash
export DOCKER_HOST=$(curl -s 169.254.169.254/latest/meta-data/local-ipv4)
export CONTAINER_ID=$(cat /proc/self/cgroup | grep &amp;quot;cpu:/&amp;quot; | \
  sed &amp;#39;s/\([0-9]\):cpu:\/docker\///g&amp;#39;)
export NETWORK_BINDING=\
  $(curl &amp;quot;http://${DOCKER_HOST}:5555/container/${CONTAINER_ID}/portbinding?port=8080&amp;amp;protocol=tcp&amp;quot;)
export EXPOSED_PORT=$(echo ${NETWORK_BINDING} | jq -c &amp;#39;.[0].HostPort&amp;#39; | \
  sed -e &amp;#39;s/^&amp;quot;//&amp;#39;  -e &amp;#39;s/&amp;quot;$//&amp;#39;)

exec java -jar /service.jar&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The last step is to update the &lt;code class=&quot;language-text&quot;&gt;application.yml&lt;/code&gt; and add a few lines to force the ip address and port during service registration.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;eureka:
  client:
    serviceUrl:
      defaultZone: ${EUREKA_URL} // Needs to be injected as environment variable
  instance:
    preferIpAddress: true
    ip-address: ${DOCKER_HOST}
    non-secure-port: ${EXPOSED_PORT}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;alternatives&quot;&gt;&lt;a href=&quot;#alternatives&quot; aria-label=&quot;alternatives permalink&quot; class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Alternatives&lt;/h3&gt;
&lt;p&gt;Discovery of the unknown exposed port is a highly discussed topic and there are many alternative solutions, Please see &lt;a href=&quot;https://github.com/docker/docker/issues/3778&quot;&gt;docker issue&lt;/a&gt;, which is a good starting point for alternatives. The following alternatives came to my mind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Same approach, but run the discovery service directly on the host.&lt;/li&gt;
&lt;li&gt;Implement the discovery capability in each servie as a library, but the drawback is that all the services need the docker socket.&lt;/li&gt;
&lt;li&gt;Choose another discovery mechanism for example based on ALB.&lt;/li&gt;
&lt;li&gt;Switch to &lt;a href=&quot;https://github.com/hashicorp/consul&quot;&gt;Consul&lt;/a&gt; in combination with a &lt;a href=&quot;https://github.com/gliderlabs/registrator&quot;&gt;registrator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item></channel></rss>